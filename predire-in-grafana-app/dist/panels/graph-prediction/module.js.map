{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"lodash\"","webpack:///external \"jquery\"","webpack:///external \"app/core/utils/kbn\"","webpack:///external \"moment\"","webpack:///external \"angular\"","webpack:///../node_modules/tinycolor2/tinycolor.js","webpack:///external \"app/core/core\"","webpack:///external \"app/plugins/sdk\"","webpack:///external \"vendor/flot/jquery.flot.js\"","webpack:///./panels/graph/graph_tooltip.js","webpack:///../node_modules/perfect-scrollbar/dist/perfect-scrollbar.esm.js","webpack:///external \"app/core/core_module\"","webpack:///external \"app/core/config\"","webpack:///external \"vendor/flot/jquery.flot.time.js\"","webpack:///external \"vendor/flot/jquery.flot.selection.js\"","webpack:///external \"vendor/flot/jquery.flot.stack.js\"","webpack:///external \"vendor/flot/jquery.flot.stackpercent.js\"","webpack:///external \"vendor/flot/jquery.flot.fillbelow.js\"","webpack:///external \"vendor/flot/jquery.flot.crosshair.js\"","webpack:///external \"vendor/flot/jquery.flot.dashes.js\"","webpack:///external \"vendor/flot/jquery.flot.gauge.js\"","webpack:///external \"vendor/flot/jquery.flot.pie.js\"","webpack:///./panels/graph/vendor/flot/jquery.flot.events.js","webpack:///../node_modules/tether-drop/dist/js/drop.js","webpack:///../node_modules/tether/dist/js/tether.js","webpack:///./panels/graph/vendor/grafana/event.ts","webpack:///./panels/graph/vendor/grafana/colors.ts","webpack:///./panels/graph/vendor/grafana/event_manager.ts","webpack:///./panels/graph/vendor/grafana/ticks.ts","webpack:///./panels/graph/vendor/grafana/time_series2.ts","webpack:///./panels/graph/threshold_manager.ts","webpack:///./panels/graph/histogram.ts","webpack:///./panels/graph/graph.ts","webpack:///./panels/graph/legend.ts","webpack:///./panels/graph/series_overrides_ctrl.ts","webpack:///./panels/graph/thresholds_form.ts","webpack:///./panels/graph/data_processor.ts","webpack:///./panels/graph/axes_editor.ts","webpack:///./panels/graph/module.ts","webpack:///./panels/graph-prediction/module.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__1__","__WEBPACK_EXTERNAL_MODULE__2__","__WEBPACK_EXTERNAL_MODULE__3__","__WEBPACK_EXTERNAL_MODULE__4__","Math","trimLeft","trimRight","tinyCounter","mathRound","round","mathMin","min","mathMax","max","mathRandom","random","tinycolor","color","opts","this","rgb","g","b","a","v","ok","format","replace","toLowerCase","match","named","names","matchers","exec","rgba","hsl","h","hsla","hsv","hsva","hex8","parseIntFromHex","convertHexToDecimal","hex6","hex4","hex3","stringInputToObject","isValidCSSUnit","bound01","String","substr","convertToPercentage","floor","f","q","mod","hsvToRgb","hue2rgb","hslToRgb","boundAlpha","inputToRGB","_originalInput","_r","_g","_b","_a","_roundA","_format","_gradientType","gradientType","_ok","_tc_id","rgbToHsl","rgbToHsv","rgbToHex","allow3Char","hex","pad2","toString","charAt","join","rgbaToArgbHex","convertDecimalToHex","desaturate","amount","toHsl","clamp01","saturate","greyscale","lighten","brighten","toRgb","darken","spin","hue","complement","triad","tetrad","splitcomplement","analogous","results","slices","part","ret","push","monochromatic","toHsv","modification","isDark","getBrightness","isLight","isValid","getOriginalInput","getFormat","getAlpha","getLuminance","RsRGB","GsRGB","BsRGB","pow","setAlpha","toHsvString","toHslString","toHex","toHexString","toHex8","allow4Char","rgbaToHex","toHex8String","toRgbString","toPercentageRgb","toPercentageRgbString","toName","hexNames","toFilter","secondColor","hex8String","secondHex8String","formatSet","formattedString","hasAlpha","clone","_applyModification","fn","args","apply","concat","slice","arguments","_applyCombination","fromRatio","newColor","equals","color1","color2","mix","rgb1","rgb2","readability","c1","c2","isReadable","wcag2","wcag2Parms","out","parms","level","size","toUpperCase","validateWCAG2Parms","mostReadable","baseColor","colorList","includeFallbackColors","bestColor","bestScore","length","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","burntsienna","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","flipped","flip","parseFloat","isNaN","indexOf","isOnePointZero","processPercent","isPercentage","parseInt","abs","val","CSS_UNIT","PERMISSIVE_MATCH3","PERMISSIVE_MATCH4","RegExp","define","__WEBPACK_EXTERNAL_MODULE__6__","__WEBPACK_EXTERNAL_MODULE__7__","__WEBPACK_EXTERNAL_MODULE__8__","$","core","appEvents","elem","dashboard","scope","getSeriesFn","self","panel","ctrl","$tooltip","destroy","remove","findHoverIndexFromDataPoints","posX","series","last","ps","datapoints","pointsize","initial","len","points","j","lines","steps","findHoverIndexFromData","middle","lower","upper","data","renderAndShow","absoluteTime","innerHtml","pos","xMode","html","place_tt","pageX","pageY","getMultiSeriesPlotHoverInfo","seriesList","hoverIndex","hoverDistance","pointTime","yaxis","minDistance","minTime","last_value","legend","hideEmpty","allIsNull","hideZero","allIsZero","hidden","x","stack","tooltip","value_type","label","aliasEscaped","time","distance","index","mouseleave","shared","plot","detach","unhighlight","emit","event","item","show","panelRelY","offset","top","height","clear","clearCrosshair","group","hoverInfo","seriesHtml","tooltipFormat","plotData","getData","getXAxes","options","allSeriesMode","pointOffset","Number","left","width","window","scrollTop","innerHeight","setCrosshair","sharedCrosshairModeOnly","hasMsResolution","seriesHoverInfo","formatDate","sort","highlightClass","seriesIndex","formatValue","highlight","datapoint","element","getComputedStyle","set","obj","style","div","className","document","createElement","elMatches","Element","matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","query","Error","parentNode","removeChild","queryChildren","selector","Array","filter","children","child","cls","thumb","rail","consuming","focus","clicking","active","scrolling","scrollingClassTimeout","y","addScrollingClass","classList","contains","clearTimeout","add","removeScrollingClass","setTimeout","isAlive","settings","scrollingThreshold","EventElement","handlers","prototypeAccessors","isEmpty","configurable","eventName","handler","addEventListener","unbind","target","this$1","removeEventListener","unbindAll","keys","every","defineProperties","EventManager","eventElements","createEvent","CustomEvent","evt","initCustomEvent","undefined","processScrollDiff","axis","diff","useScrollingClass","forceFireReachEvent","fields","ref","contentHeight","containerHeight","up","down","reach","dispatchEvent","setScrollingClassInstantly","processScrollDiff$1","toInt","eventElement","ee","splice","forEach","e","once","onceHandler","env","isWebKit","documentElement","supportsTouch","navigator","maxTouchPoints","DocumentTouch","supportsIePointer","msMaxTouchPoints","isChrome","test","userAgent","updateGeometry","roundedScrollTop","rect","getBoundingClientRect","containerWidth","ceil","contentWidth","scrollWidth","scrollHeight","scrollbarXRail","el","appendChild","scrollbarYRail","suppressScrollX","scrollXMarginOffset","scrollbarXActive","railXWidth","railXMarginWidth","railXRatio","scrollbarXWidth","getThumbSize","scrollbarXLeft","negativeScrollAdjustment","scrollLeft","suppressScrollY","scrollYMarginOffset","scrollbarYActive","railYHeight","railYMarginHeight","railYRatio","scrollbarYHeight","scrollbarYTop","xRailOffset","isRtl","isScrollbarXUsingBottom","bottom","scrollbarXBottom","scrollbarXTop","yRailOffset","isScrollbarYUsingRight","right","scrollbarYRight","scrollbarYOuterWidth","scrollbarYLeft","scrollbarX","railBorderXWidth","scrollbarY","railBorderYWidth","updateCss","thumbSize","minScrollbarLength","maxScrollbarLength","bindMouseScrollHandler","startingScrollTop","startingMousePageY","scrollBy","mouseMoveHandler","touches","stopPropagation","preventDefault","mouseUpHandler","ownerDocument","bindMoves","touchMode","direction","pageYOffset","pageXOffset","keyboard","isDefaultPrevented","defaultPrevented","activeElement","tagName","contentDocument","shadowRoot","deltaX","deltaY","which","metaKey","altKey","shiftKey","wheelPropagation","shouldPreventDefault","wheel","mousewheelHandler","wheelDeltaX","wheelDeltaY","deltaMode","wheelDelta","getDeltaFromEvent","querySelector","cursor","overflowY","maxScrollTop","clientHeight","overflowX","maxScrollLeft","clientWidth","shouldBeConsumedByChild","shouldPrevent","useBothWheelAxes","wheelSpeed","isTop","isBottom","offsetHeight","isLeft","isRight","offsetWidth","ctrlKey","onwheel","onmousewheel","touch","startOffset","startTime","speed","easingLoop","touchStart","touchMove","touchEnd","PointerEvent","MSPointerEvent","applyTouchMove","differenceX","differenceY","getTouch","targetTouches","shouldHandle","pointerType","buttons","MSPOINTER_TYPE_MOUSE","Date","getTime","clearInterval","currentOffset","currentTime","timeGap","magnitudeX","magnitudeY","scrollY","swipeEasing","setInterval","isInitialized","PerfectScrollbar","userSettings","nodeName","result","originalScrollLeft","blur","isNegativeScroll","setAttribute","railXStyle","borderLeftWidth","borderRightWidth","display","marginLeft","marginRight","railYStyle","styles","paddingLeft","paddingRight","outerWidth","borderTopWidth","borderBottomWidth","marginTop","marginBottom","handlerName","lastScrollTop","lastScrollLeft","onScroll","update","removePsClasses","split","__WEBPACK_EXTERNAL_MODULE__11__","__WEBPACK_EXTERNAL_MODULE__12__","__WEBPACK_EXTERNAL_MODULE__14__","__WEBPACK_EXTERNAL_MODULE__15__","__WEBPACK_EXTERNAL_MODULE__16__","__WEBPACK_EXTERNAL_MODULE__17__","__WEBPACK_EXTERNAL_MODULE__18__","__WEBPACK_EXTERNAL_MODULE__19__","__WEBPACK_EXTERNAL_MODULE__20__","__WEBPACK_EXTERNAL_MODULE__21__","__WEBPACK_EXTERNAL_MODULE__22__","_","angular","Drop","createAnnotationToolip","injector","content","innerHTML","invoke","$compile","$rootScope","eventManager","getOptions","events","manager","tmpScope","$new","onEdit","editEvent","$digest","$destroy","drop","position","classes","openOn","hoverCloseDelay","tetherOptions","constraints","to","pin","attachment","open","on","markerElementToAttachTo","createEditPopover","editorOpen","editorOpened","panelCtrl","close","editorClosed","DrawableEvent","drawFunc","clearFunc","moveFunc","_object","_drawFunc","_clearFunc","_moveFunc","_position","_width","_height","draw","getObject","moveTo","VisualEvent","drawableEvent","_options","_drawableEvent","_hidden","visual","getParent","isHidden","hide","unhide","EventMarkers","_events","_types","_plot","eventsEnabled","getEvents","setTypes","types","setupEvents","that","parts","partition","regions","each","ve","_buildDiv","vre","_buildRegDiv","ao","bo","drawEvents","_insidePlot","updateEvents","getPlotOffset","xaxis","p2c","_clearEvents","markerSize","markerShow","lineStyle","lineWidth","markerTooltip","container","getPlaceholder","axes","getAxes","used","yaxis2","eventTypeId","eventType","topOffset","eventSectionHeight","line","css","appendTo","marker","editModel","hover","clearSelection","regionWidth","timeFrom","timeEnd","timeTo","region","xc","plugins","init","eventMarkers","hideEvents","showEvents","setEvents","hooks","processOptions","version","Tether","_bind","Function","_slicedToArray","arr","isArray","iterator","_arr","_n","_d","_e","_s","_i","next","done","err","sliceIterator","TypeError","_createClass","props","descriptor","writable","Constructor","protoProps","staticProps","_get","_x2","_x3","_x4","_again","receiver","desc","getOwnPropertyDescriptor","parent","getPrototypeOf","_classCallCheck","instance","_inherits","subClass","superClass","constructor","setPrototypeOf","__proto__","_Tether$Utils","Utils","extend","addClass","removeClass","hasClass","Evented","sortAttach","str","_str$split","_str$split2","first","second","_ref","removeFromArray","clickEvents","transitionEndEvents","transitionEndEvent","_name","MIRROR_ATTACH","center","allDrops","createContext","_len","_key","DropInstance","drops","defaults","defaultOptions","classPrefix","beforeClose","constrainToScrollParent","constrainToWindow","openDelay","closeDelay","focusDelay","blurDelay","hoverOpenDelay","updateBodyClasses","anyOpen","isOpened","body","_Evented","dataPrefix","contentAttr","getAttribute","attrsOverride","override","addTargetClasses","_boundEvents","bindMethods","setupElements","setupTether","transitionEndHandler","_transitionEndHandler","_this","generateAndSetContent","contentElementOrHTML","dropAttach","targetAttachment","targetOffset","enabled","tether","_this2","openHandler","toggle","closeHandler","clickEvent","_on","inTimeout","outTimeout","inHandler","type","outHandler","_this3","enable","trigger","currentTarget","shouldClose","isClosing","beforeCloseHandler","disable","_boundEvents$i","_event","TetherBase","zeroElement","getActualBoundingClientRect","node","boundingRect","k","_frameElement","defaultView","frameElement","frameRect","getScrollParents","parents","nodeType","_style","overflow","id","uniqueId","zeroPosCache","removeUtilElements","getBounds","doc","docEl","box","origin","defer","getOrigin","clientTop","clientLeft","getOffsetParent","offsetParent","_scrollBarSize","getScrollBarSize","inner","outer","pointerEvents","visibility","widthContained","widthScroll","trim","regex","getClassName","setClassName","SVGAnimatedString","baseVal","updateClasses","all","deferred","flush","pop","ctx","bindings","_bindings$event$i","context","_TetherBase$Utils","within","lastCall","lastDuration","pendingTimeout","tick","transformKey","transforms","tethers","now","performance","MIRROR_LR","MIRROR_TB","OFFSET_MAP","autoToFixedAttachment","relativeToAttachment","attachmentToOffset","addOffset","offsets","offsetToPx","parseOffset","_value$split","_value$split2","parseAttachment","TetherClass","_x6","_x7","_x8","history","setOptions","initialize","targetModifier","jquery","getClass","scrollParents","innerWidth","bounds","scrollBottom","fitAdj","scrollPercentage","_cache","_this4","_this5","elementAttach","targetAttach","_this6","_addAttachClasses","side","_this7","flushChanges","clearCache","updateAttachClasses","elementPos","cache","lastSize","_lastSize","targetPos","getTargetBounds","targetSize","manualOffset","manualTargetOffset","_module2","scrollbarSize","page","viewport","win","parentElement","optimizations","moveElement","offsetPosition","offsetParentStyle","offsetParentSize","offsetBorder","move","unshift","_this8","same","found","point","transcribe","_same","_pos","gpu","yPos","xPos","devicePixelRatio","moved","bodyElement","offsetParentIsBody","currentNode","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","writeCSS","write","BOUNDS_FORMAT","targetHeight","targetWidth","allClasses","constraint","outOfBoundsClass","pinnedClass","addClasses","tAttachment","eAttachment","changeAttachX","changeAttachY","_attachment$split","_attachment$split2","getBoundingRect","map","oobClass","pinned","oob","abutted","targetPosSide","shift","shiftTop","shiftLeft","_shift2","colors","sortedHSLColors","annotations","source","flotOptions","datamax","datamin","delta","alias","overrides","dashes","nullPointMode","zindex","fillBelowTo","transform","stats","MAX_VALUE","fillStyle","timeStep","current","timestamp","lastY","graphValue","handleElem","off","dragging","placeholder","thresholds","threshold","bucketSize","panelOptions","isUndefined","range","valueOf","ticks","pointIndex","inverseTransform","nextTick","numTicks","fill","bars","dataList","histogram","bound","parseNumber","yaxes","secondY","utc","ranges","stat","statName","tbodyElem","append","legendScrollbar","header","getTableHeaderHtml","$scope","addOverrideOption","unbindDestroy","render","text","loading","toggleSeriesExclusiveMode","GraphPredictionCtrl","$injector","annotationsSrv","PanelCtrl"],"mappings":"2jBACE,IAAIA,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUC,QAGnC,IAAIC,EAASJ,EAAiBE,GAAY,CACzCG,EAAGH,EACHI,GAAG,EACHH,QAAS,IAUV,OANAI,EAAQL,GAAUM,KAAKJ,EAAOD,QAASC,EAAQA,EAAOD,QAASF,GAG/DG,EAAOE,GAAI,EAGJF,EAAOD,QA0Df,OArDAF,EAAoBQ,EAAIF,EAGxBN,EAAoBS,EAAIV,EAGxBC,EAAoBU,EAAI,SAASR,EAASS,EAAMC,GAC3CZ,EAAoBa,EAAEX,EAASS,IAClCG,OAAOC,eAAeb,EAASS,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEZ,EAAoBkB,EAAI,SAAShB,GACX,oBAAXiB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAeb,EAASiB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,KAQvDrB,EAAoBsB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQrB,EAAoBqB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFA1B,EAAoBkB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOrB,EAAoBU,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRzB,EAAoB6B,EAAI,SAAS1B,GAChC,IAAIS,EAAST,GAAUA,EAAOqB,WAC7B,WAAwB,OAAOrB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAH,EAAoBU,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRZ,EAAoBa,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG/B,EAAoBkC,EAAI,GAIjBlC,EAAoBA,EAAoBmC,EAAI,I,gBClFrDhC,EAAOD,QAAUkC,G,cCAjBjC,EAAOD,QAAUmC,G,cCAjBlC,EAAOD,QAAUoC,G,cCAjBnC,EAAOD,QAAUqC,G,cCAjBpC,EAAOD,QAAUsC,G,gPCIjB,SAAUC,GAEV,IAAIC,EAAW,OACXC,EAAY,OACZC,EAAc,EACdC,EAAYJ,EAAKK,MACjBC,EAAUN,EAAKO,IACfC,EAAUR,EAAKS,IACfC,EAAaV,EAAKW,OAEtB,SAASC,EAAWC,EAAOC,GAMvB,GAHAA,EAAOA,GAAQ,IADfD,EAASA,GAAiB,cAILD,EAClB,OAAOC,EAGV,KAAME,gBAAgBH,GAClB,OAAO,IAAIA,EAAUC,EAAOC,GAGhC,IAAIE,EAoRR,SAAoBH,GAEhB,IAAIG,EAAM,CAAEvC,EAAG,EAAGwC,EAAG,EAAGC,EAAG,GACvBC,EAAI,EACJzB,EAAI,KACJ0B,EAAI,KACJxD,EAAI,KACJyD,GAAK,EACLC,GAAS,EAEO,iBAATT,IACPA,EAywBR,SAA6BA,GAEzBA,EAAQA,EAAMU,QAAQtB,EAAS,IAAIsB,QAAQrB,EAAW,IAAIsB,cAC1D,IAaIC,EAbAC,GAAQ,EACZ,GAAIC,EAAMd,GACNA,EAAQc,EAAMd,GACda,GAAQ,OAEP,GAAa,eAATb,EACL,MAAO,CAAEpC,EAAG,EAAGwC,EAAG,EAAGC,EAAG,EAAGC,EAAG,EAAGG,OAAQ,QAQ7C,GAAKG,EAAQG,EAASZ,IAAIa,KAAKhB,GAC3B,MAAO,CAAEpC,EAAGgD,EAAM,GAAIR,EAAGQ,EAAM,GAAIP,EAAGO,EAAM,IAEhD,GAAKA,EAAQG,EAASE,KAAKD,KAAKhB,GAC5B,MAAO,CAAEpC,EAAGgD,EAAM,GAAIR,EAAGQ,EAAM,GAAIP,EAAGO,EAAM,GAAIN,EAAGM,EAAM,IAE7D,GAAKA,EAAQG,EAASG,IAAIF,KAAKhB,GAC3B,MAAO,CAAEmB,EAAGP,EAAM,GAAI/B,EAAG+B,EAAM,GAAI7D,EAAG6D,EAAM,IAEhD,GAAKA,EAAQG,EAASK,KAAKJ,KAAKhB,GAC5B,MAAO,CAAEmB,EAAGP,EAAM,GAAI/B,EAAG+B,EAAM,GAAI7D,EAAG6D,EAAM,GAAIN,EAAGM,EAAM,IAE7D,GAAKA,EAAQG,EAASM,IAAIL,KAAKhB,GAC3B,MAAO,CAAEmB,EAAGP,EAAM,GAAI/B,EAAG+B,EAAM,GAAIL,EAAGK,EAAM,IAEhD,GAAKA,EAAQG,EAASO,KAAKN,KAAKhB,GAC5B,MAAO,CAAEmB,EAAGP,EAAM,GAAI/B,EAAG+B,EAAM,GAAIL,EAAGK,EAAM,GAAIN,EAAGM,EAAM,IAE7D,GAAKA,EAAQG,EAASQ,KAAKP,KAAKhB,GAC5B,MAAO,CACHpC,EAAG4D,EAAgBZ,EAAM,IACzBR,EAAGoB,EAAgBZ,EAAM,IACzBP,EAAGmB,EAAgBZ,EAAM,IACzBN,EAAGmB,EAAoBb,EAAM,IAC7BH,OAAQI,EAAQ,OAAS,QAGjC,GAAKD,EAAQG,EAASW,KAAKV,KAAKhB,GAC5B,MAAO,CACHpC,EAAG4D,EAAgBZ,EAAM,IACzBR,EAAGoB,EAAgBZ,EAAM,IACzBP,EAAGmB,EAAgBZ,EAAM,IACzBH,OAAQI,EAAQ,OAAS,OAGjC,GAAKD,EAAQG,EAASY,KAAKX,KAAKhB,GAC5B,MAAO,CACHpC,EAAG4D,EAAgBZ,EAAM,GAAK,GAAKA,EAAM,IACzCR,EAAGoB,EAAgBZ,EAAM,GAAK,GAAKA,EAAM,IACzCP,EAAGmB,EAAgBZ,EAAM,GAAK,GAAKA,EAAM,IACzCN,EAAGmB,EAAoBb,EAAM,GAAK,GAAKA,EAAM,IAC7CH,OAAQI,EAAQ,OAAS,QAGjC,GAAKD,EAAQG,EAASa,KAAKZ,KAAKhB,GAC5B,MAAO,CACHpC,EAAG4D,EAAgBZ,EAAM,GAAK,GAAKA,EAAM,IACzCR,EAAGoB,EAAgBZ,EAAM,GAAK,GAAKA,EAAM,IACzCP,EAAGmB,EAAgBZ,EAAM,GAAK,GAAKA,EAAM,IACzCH,OAAQI,EAAQ,OAAS,OAIjC,OAAO,EA/0BKgB,CAAoB7B,IAGZ,gBAAhB,IAAOA,EAAP,cAAOA,MACH8B,EAAe9B,EAAMpC,IAAMkE,EAAe9B,EAAMI,IAAM0B,EAAe9B,EAAMK,IAiDrEzC,EAhDSoC,EAAMpC,EAgDZwC,EAhDeJ,EAAMI,EAgDlBC,EAhDqBL,EAAMK,EAAvCF,EAiDD,CACHvC,EAAqB,IAAlBmE,EAAQnE,EAAG,KACdwC,EAAqB,IAAlB2B,EAAQ3B,EAAG,KACdC,EAAqB,IAAlB0B,EAAQ1B,EAAG,MAnDVG,GAAK,EACLC,EAAwC,MAA/BuB,OAAOhC,EAAMpC,GAAGqE,QAAQ,GAAa,OAAS,OAElDH,EAAe9B,EAAMmB,IAAMW,EAAe9B,EAAMnB,IAAMiD,EAAe9B,EAAMO,IAChF1B,EAAIqD,EAAoBlC,EAAMnB,GAC9B0B,EAAI2B,EAAoBlC,EAAMO,GAC9BJ,EAoJX,SAAkBgB,EAAGtC,EAAG0B,GAErBY,EAAsB,EAAlBY,EAAQZ,EAAG,KACftC,EAAIkD,EAAQlD,EAAG,KACf0B,EAAIwB,EAAQxB,EAAG,KAEf,IAAIzD,EAAIqC,EAAKgD,MAAMhB,GACfiB,EAAIjB,EAAIrE,EACR8B,EAAI2B,GAAK,EAAI1B,GACbwD,EAAI9B,GAAK,EAAI6B,EAAIvD,GACjBb,EAAIuC,GAAK,GAAK,EAAI6B,GAAKvD,GACvByD,EAAMxF,EAAI,EAKd,MAAO,CAAEc,EAAO,IAJR,CAAC2C,EAAG8B,EAAGzD,EAAGA,EAAGZ,EAAGuC,GAAG+B,GAINlC,EAAO,IAHpB,CAACpC,EAAGuC,EAAGA,EAAG8B,EAAGzD,EAAGA,GAAG0D,GAGMjC,EAAO,IAFhC,CAACzB,EAAGA,EAAGZ,EAAGuC,EAAGA,EAAG8B,GAAGC,IAlKbC,CAASvC,EAAMmB,EAAGtC,EAAG0B,GAC3BC,GAAK,EACLC,EAAS,OAEJqB,EAAe9B,EAAMmB,IAAMW,EAAe9B,EAAMnB,IAAMiD,EAAe9B,EAAMjD,KAChF8B,EAAIqD,EAAoBlC,EAAMnB,GAC9B9B,EAAImF,EAAoBlC,EAAMjD,GAC9BoD,EA6EZ,SAAkBgB,EAAGtC,EAAG9B,GACpB,IAAIa,EAAGwC,EAAGC,EAMV,SAASmC,EAAQ5D,EAAGyD,EAAGrE,GAGnB,OAFGA,EAAI,IAAGA,GAAK,GACZA,EAAI,IAAGA,GAAK,GACZA,EAAI,EAAE,EAAUY,EAAc,GAATyD,EAAIzD,GAASZ,EAClCA,EAAI,GAAYqE,EAChBrE,EAAI,EAAE,EAAUY,GAAKyD,EAAIzD,IAAM,EAAE,EAAIZ,GAAK,EACtCY,EAGX,GAbAuC,EAAIY,EAAQZ,EAAG,KACftC,EAAIkD,EAAQlD,EAAG,KACf9B,EAAIgF,EAAQhF,EAAG,KAWN,IAAN8B,EACCjB,EAAIwC,EAAIC,EAAItD,MAEX,CACD,IAAIsF,EAAItF,EAAI,GAAMA,GAAK,EAAI8B,GAAK9B,EAAI8B,EAAI9B,EAAI8B,EACxCD,EAAI,EAAI7B,EAAIsF,EAChBzE,EAAI4E,EAAQ5D,EAAGyD,EAAGlB,EAAI,EAAE,GACxBf,EAAIoC,EAAQ5D,EAAGyD,EAAGlB,GAClBd,EAAImC,EAAQ5D,EAAGyD,EAAGlB,EAAI,EAAE,GAG5B,MAAO,CAAEvD,EAAO,IAAJA,EAASwC,EAAO,IAAJA,EAASC,EAAO,IAAJA,GAxGtBoC,CAASzC,EAAMmB,EAAGtC,EAAG9B,GAC3ByD,GAAK,EACLC,EAAS,OAGTT,EAAMrB,eAAe,OACrB2B,EAAIN,EAAMM,IA4BtB,IAAkB1C,EAAGwC,EAAGC,EAtBpB,OAFAC,EAAIoC,EAAWpC,GAER,CACHE,GAAIA,EACJC,OAAQT,EAAMS,QAAUA,EACxB7C,EAAG6B,EAAQ,IAAKE,EAAQQ,EAAIvC,EAAG,IAC/BwC,EAAGX,EAAQ,IAAKE,EAAQQ,EAAIC,EAAG,IAC/BC,EAAGZ,EAAQ,IAAKE,EAAQQ,EAAIE,EAAG,IAC/BC,EAAGA,GApUGqC,CAAW3C,GACrBE,KAAK0C,eAAiB5C,EACtBE,KAAK2C,GAAK1C,EAAIvC,EACdsC,KAAK4C,GAAK3C,EAAIC,EACdF,KAAK6C,GAAK5C,EAAIE,EACdH,KAAK8C,GAAK7C,EAAIG,EACdJ,KAAK+C,QAAU1D,EAAU,IAAIW,KAAK8C,IAAM,IACxC9C,KAAKgD,QAAUjD,EAAKQ,QAAUN,EAAIM,OAClCP,KAAKiD,cAAgBlD,EAAKmD,aAMtBlD,KAAK2C,GAAK,IAAK3C,KAAK2C,GAAKtD,EAAUW,KAAK2C,KACxC3C,KAAK4C,GAAK,IAAK5C,KAAK4C,GAAKvD,EAAUW,KAAK4C,KACxC5C,KAAK6C,GAAK,IAAK7C,KAAK6C,GAAKxD,EAAUW,KAAK6C,KAE5C7C,KAAKmD,IAAMlD,EAAIK,GACfN,KAAKoD,OAAShE,IA6UlB,SAASiE,EAAS3F,EAAGwC,EAAGC,GAEpBzC,EAAImE,EAAQnE,EAAG,KACfwC,EAAI2B,EAAQ3B,EAAG,KACfC,EAAI0B,EAAQ1B,EAAG,KAEf,IACIc,EAAGtC,EADHe,EAAMD,EAAQ/B,EAAGwC,EAAGC,GAAIX,EAAMD,EAAQ7B,EAAGwC,EAAGC,GACtCtD,GAAK6C,EAAMF,GAAO,EAE5B,GAAGE,GAAOF,EACNyB,EAAItC,EAAI,MAEP,CACD,IAAIzB,EAAIwC,EAAMF,EAEd,OADAb,EAAI9B,EAAI,GAAMK,GAAK,EAAIwC,EAAMF,GAAOtC,GAAKwC,EAAMF,GACxCE,GACH,KAAKhC,EAAGuD,GAAKf,EAAIC,GAAKjD,GAAKgD,EAAIC,EAAI,EAAI,GAAI,MAC3C,KAAKD,EAAGe,GAAKd,EAAIzC,GAAKR,EAAI,EAAG,MAC7B,KAAKiD,EAAGc,GAAKvD,EAAIwC,GAAKhD,EAAI,EAG9B+D,GAAK,EAGT,MAAO,CAAEA,EAAGA,EAAGtC,EAAGA,EAAG9B,EAAGA,GAyC5B,SAASyG,EAAS5F,EAAGwC,EAAGC,GAEpBzC,EAAImE,EAAQnE,EAAG,KACfwC,EAAI2B,EAAQ3B,EAAG,KACfC,EAAI0B,EAAQ1B,EAAG,KAEf,IACIc,EAAGtC,EADHe,EAAMD,EAAQ/B,EAAGwC,EAAGC,GAAIX,EAAMD,EAAQ7B,EAAGwC,EAAGC,GACtCE,EAAIX,EAEVxC,EAAIwC,EAAMF,EAGd,GAFAb,EAAY,IAARe,EAAY,EAAIxC,EAAIwC,EAErBA,GAAOF,EACNyB,EAAI,MAEH,CACD,OAAOvB,GACH,KAAKhC,EAAGuD,GAAKf,EAAIC,GAAKjD,GAAKgD,EAAIC,EAAI,EAAI,GAAI,MAC3C,KAAKD,EAAGe,GAAKd,EAAIzC,GAAKR,EAAI,EAAG,MAC7B,KAAKiD,EAAGc,GAAKvD,EAAIwC,GAAKhD,EAAI,EAE9B+D,GAAK,EAET,MAAO,CAAEA,EAAGA,EAAGtC,EAAGA,EAAG0B,EAAGA,GA8B5B,SAASkD,EAAS7F,EAAGwC,EAAGC,EAAGqD,GAEvB,IAAIC,EAAM,CACNC,EAAKrE,EAAU3B,GAAGiG,SAAS,KAC3BD,EAAKrE,EAAUa,GAAGyD,SAAS,KAC3BD,EAAKrE,EAAUc,GAAGwD,SAAS,MAI/B,OAAIH,GAAcC,EAAI,GAAGG,OAAO,IAAMH,EAAI,GAAGG,OAAO,IAAMH,EAAI,GAAGG,OAAO,IAAMH,EAAI,GAAGG,OAAO,IAAMH,EAAI,GAAGG,OAAO,IAAMH,EAAI,GAAGG,OAAO,GACzHH,EAAI,GAAGG,OAAO,GAAKH,EAAI,GAAGG,OAAO,GAAKH,EAAI,GAAGG,OAAO,GAGxDH,EAAII,KAAK,IA2BpB,SAASC,EAAcpG,EAAGwC,EAAGC,EAAGC,GAS5B,MAPU,CACNsD,EAAKK,EAAoB3D,IACzBsD,EAAKrE,EAAU3B,GAAGiG,SAAS,KAC3BD,EAAKrE,EAAUa,GAAGyD,SAAS,KAC3BD,EAAKrE,EAAUc,GAAGwD,SAAS,MAGpBE,KAAK,IAwBpB,SAASG,EAAWlE,EAAOmE,GACvBA,EAAqB,IAAXA,EAAgB,EAAKA,GAAU,GACzC,IAAIjD,EAAMnB,EAAUC,GAAOoE,QAG3B,OAFAlD,EAAIrC,GAAKsF,EAAS,IAClBjD,EAAIrC,EAAIwF,EAAQnD,EAAIrC,GACbkB,EAAUmB,GAGrB,SAASoD,EAAStE,EAAOmE,GACrBA,EAAqB,IAAXA,EAAgB,EAAKA,GAAU,GACzC,IAAIjD,EAAMnB,EAAUC,GAAOoE,QAG3B,OAFAlD,EAAIrC,GAAKsF,EAAS,IAClBjD,EAAIrC,EAAIwF,EAAQnD,EAAIrC,GACbkB,EAAUmB,GAGrB,SAASqD,EAAUvE,GACf,OAAOD,EAAUC,GAAOkE,WAAW,KAGvC,SAASM,EAASxE,EAAOmE,GACrBA,EAAqB,IAAXA,EAAgB,EAAKA,GAAU,GACzC,IAAIjD,EAAMnB,EAAUC,GAAOoE,QAG3B,OAFAlD,EAAInE,GAAKoH,EAAS,IAClBjD,EAAInE,EAAIsH,EAAQnD,EAAInE,GACbgD,EAAUmB,GAGrB,SAASuD,EAASzE,EAAOmE,GACrBA,EAAqB,IAAXA,EAAgB,EAAKA,GAAU,GACzC,IAAIhE,EAAMJ,EAAUC,GAAO0E,QAI3B,OAHAvE,EAAIvC,EAAI+B,EAAQ,EAAGF,EAAQ,IAAKU,EAAIvC,EAAI2B,GAAmB4E,EAAS,IAAlB,OAClDhE,EAAIC,EAAIT,EAAQ,EAAGF,EAAQ,IAAKU,EAAIC,EAAIb,GAAmB4E,EAAS,IAAlB,OAClDhE,EAAIE,EAAIV,EAAQ,EAAGF,EAAQ,IAAKU,EAAIE,EAAId,GAAmB4E,EAAS,IAAlB,OAC3CpE,EAAUI,GAGrB,SAASwE,EAAQ3E,EAAOmE,GACpBA,EAAqB,IAAXA,EAAgB,EAAKA,GAAU,GACzC,IAAIjD,EAAMnB,EAAUC,GAAOoE,QAG3B,OAFAlD,EAAInE,GAAKoH,EAAS,IAClBjD,EAAInE,EAAIsH,EAAQnD,EAAInE,GACbgD,EAAUmB,GAKrB,SAAS0D,EAAK5E,EAAOmE,GACjB,IAAIjD,EAAMnB,EAAUC,GAAOoE,QACvBS,GAAO3D,EAAIC,EAAIgD,GAAU,IAE7B,OADAjD,EAAIC,EAAI0D,EAAM,EAAI,IAAMA,EAAMA,EACvB9E,EAAUmB,GAQrB,SAAS4D,EAAW9E,GAChB,IAAIkB,EAAMnB,EAAUC,GAAOoE,QAE3B,OADAlD,EAAIC,GAAKD,EAAIC,EAAI,KAAO,IACjBpB,EAAUmB,GAGrB,SAAS6D,EAAM/E,GACX,IAAIkB,EAAMnB,EAAUC,GAAOoE,QACvBjD,EAAID,EAAIC,EACZ,MAAO,CACHpB,EAAUC,GACVD,EAAU,CAAEoB,GAAIA,EAAI,KAAO,IAAKtC,EAAGqC,EAAIrC,EAAG9B,EAAGmE,EAAInE,IACjDgD,EAAU,CAAEoB,GAAIA,EAAI,KAAO,IAAKtC,EAAGqC,EAAIrC,EAAG9B,EAAGmE,EAAInE,KAIzD,SAASiI,EAAOhF,GACZ,IAAIkB,EAAMnB,EAAUC,GAAOoE,QACvBjD,EAAID,EAAIC,EACZ,MAAO,CACHpB,EAAUC,GACVD,EAAU,CAAEoB,GAAIA,EAAI,IAAM,IAAKtC,EAAGqC,EAAIrC,EAAG9B,EAAGmE,EAAInE,IAChDgD,EAAU,CAAEoB,GAAIA,EAAI,KAAO,IAAKtC,EAAGqC,EAAIrC,EAAG9B,EAAGmE,EAAInE,IACjDgD,EAAU,CAAEoB,GAAIA,EAAI,KAAO,IAAKtC,EAAGqC,EAAIrC,EAAG9B,EAAGmE,EAAInE,KAIzD,SAASkI,EAAgBjF,GACrB,IAAIkB,EAAMnB,EAAUC,GAAOoE,QACvBjD,EAAID,EAAIC,EACZ,MAAO,CACHpB,EAAUC,GACVD,EAAU,CAAEoB,GAAIA,EAAI,IAAM,IAAKtC,EAAGqC,EAAIrC,EAAG9B,EAAGmE,EAAInE,IAChDgD,EAAU,CAAEoB,GAAIA,EAAI,KAAO,IAAKtC,EAAGqC,EAAIrC,EAAG9B,EAAGmE,EAAInE,KAIzD,SAASmI,EAAUlF,EAAOmF,EAASC,GAC/BD,EAAUA,GAAW,EACrBC,EAASA,GAAU,GAEnB,IAAIlE,EAAMnB,EAAUC,GAAOoE,QACvBiB,EAAO,IAAMD,EACbE,EAAM,CAACvF,EAAUC,IAErB,IAAKkB,EAAIC,GAAMD,EAAIC,GAAKkE,EAAOF,GAAW,GAAM,KAAO,MAAOA,GAC1DjE,EAAIC,GAAKD,EAAIC,EAAIkE,GAAQ,IACzBC,EAAIC,KAAKxF,EAAUmB,IAEvB,OAAOoE,EAGX,SAASE,EAAcxF,EAAOmF,GAC1BA,EAAUA,GAAW,EAMrB,IALA,IAAI9D,EAAMtB,EAAUC,GAAOyF,QACvBtE,EAAIE,EAAIF,EAAGtC,EAAIwC,EAAIxC,EAAG0B,EAAIc,EAAId,EAC9B+E,EAAM,GACNI,EAAe,EAAIP,EAEhBA,KACHG,EAAIC,KAAKxF,EAAU,CAAEoB,EAAGA,EAAGtC,EAAGA,EAAG0B,EAAGA,KACpCA,GAAKA,EAAImF,GAAgB,EAG7B,OAAOJ,EApoBXvF,EAAUrB,UAAY,CAClBiH,OAAQ,WACJ,OAAOzF,KAAK0F,gBAAkB,KAElCC,QAAS,WACL,OAAQ3F,KAAKyF,UAEjBG,QAAS,WACL,OAAO5F,KAAKmD,KAEhB0C,iBAAkB,WAChB,OAAO7F,KAAK0C,gBAEdoD,UAAW,WACP,OAAO9F,KAAKgD,SAEhB+C,SAAU,WACN,OAAO/F,KAAK8C,IAEhB4C,cAAe,WAEX,IAAIzF,EAAMD,KAAKwE,QACf,OAAgB,IAARvE,EAAIvC,EAAkB,IAARuC,EAAIC,EAAkB,IAARD,EAAIE,GAAW,KAEvD6F,aAAc,WAEV,IACIC,EAAOC,EAAOC,EADdlG,EAAMD,KAAKwE,QASf,OAPAyB,EAAQhG,EAAIvC,EAAE,IACdwI,EAAQjG,EAAIC,EAAE,IACdiG,EAAQlG,EAAIE,EAAE,IAKN,OAHJ8F,GAAS,OAAcA,EAAQ,MAAkBhH,EAAKmH,KAAMH,EAAQ,MAAS,MAAQ,MAGlE,OAFnBC,GAAS,OAAcA,EAAQ,MAAkBjH,EAAKmH,KAAMF,EAAQ,MAAS,MAAQ,MAEnD,OADlCC,GAAS,OAAcA,EAAQ,MAAkBlH,EAAKmH,KAAMD,EAAQ,MAAS,MAAQ,OAG7FE,SAAU,SAASxI,GAGf,OAFAmC,KAAK8C,GAAKN,EAAW3E,GACrBmC,KAAK+C,QAAU1D,EAAU,IAAIW,KAAK8C,IAAM,IACjC9C,MAEXuF,MAAO,WACH,IAAIpE,EAAMmC,EAAStD,KAAK2C,GAAI3C,KAAK4C,GAAI5C,KAAK6C,IAC1C,MAAO,CAAE5B,EAAW,IAARE,EAAIF,EAAStC,EAAGwC,EAAIxC,EAAG0B,EAAGc,EAAId,EAAGD,EAAGJ,KAAK8C,KAEzDwD,YAAa,WACT,IAAInF,EAAMmC,EAAStD,KAAK2C,GAAI3C,KAAK4C,GAAI5C,KAAK6C,IACtC5B,EAAI5B,EAAkB,IAAR8B,EAAIF,GAAUtC,EAAIU,EAAkB,IAAR8B,EAAIxC,GAAU0B,EAAIhB,EAAkB,IAAR8B,EAAId,GAC9E,OAAmB,GAAXL,KAAK8C,GACX,OAAU7B,EAAI,KAAOtC,EAAI,MAAQ0B,EAAI,KACrC,QAAUY,EAAI,KAAOtC,EAAI,MAAQ0B,EAAI,MAAOL,KAAK+C,QAAU,KAEjEmB,MAAO,WACH,IAAIlD,EAAMqC,EAASrD,KAAK2C,GAAI3C,KAAK4C,GAAI5C,KAAK6C,IAC1C,MAAO,CAAE5B,EAAW,IAARD,EAAIC,EAAStC,EAAGqC,EAAIrC,EAAG9B,EAAGmE,EAAInE,EAAGuD,EAAGJ,KAAK8C,KAEzDyD,YAAa,WACT,IAAIvF,EAAMqC,EAASrD,KAAK2C,GAAI3C,KAAK4C,GAAI5C,KAAK6C,IACtC5B,EAAI5B,EAAkB,IAAR2B,EAAIC,GAAUtC,EAAIU,EAAkB,IAAR2B,EAAIrC,GAAU9B,EAAIwC,EAAkB,IAAR2B,EAAInE,GAC9E,OAAmB,GAAXmD,KAAK8C,GACX,OAAU7B,EAAI,KAAOtC,EAAI,MAAQ9B,EAAI,KACrC,QAAUoE,EAAI,KAAOtC,EAAI,MAAQ9B,EAAI,MAAOmD,KAAK+C,QAAU,KAEjEyD,MAAO,SAAShD,GACZ,OAAOD,EAASvD,KAAK2C,GAAI3C,KAAK4C,GAAI5C,KAAK6C,GAAIW,IAE/CiD,YAAa,SAASjD,GAClB,MAAO,IAAMxD,KAAKwG,MAAMhD,IAE5BkD,OAAQ,SAASC,GACb,OA6YR,SAAmBjJ,EAAGwC,EAAGC,EAAGC,EAAGuG,GAE3B,IAAIlD,EAAM,CACNC,EAAKrE,EAAU3B,GAAGiG,SAAS,KAC3BD,EAAKrE,EAAUa,GAAGyD,SAAS,KAC3BD,EAAKrE,EAAUc,GAAGwD,SAAS,KAC3BD,EAAKK,EAAoB3D,KAI7B,GAAIuG,GAAclD,EAAI,GAAGG,OAAO,IAAMH,EAAI,GAAGG,OAAO,IAAMH,EAAI,GAAGG,OAAO,IAAMH,EAAI,GAAGG,OAAO,IAAMH,EAAI,GAAGG,OAAO,IAAMH,EAAI,GAAGG,OAAO,IAAMH,EAAI,GAAGG,OAAO,IAAMH,EAAI,GAAGG,OAAO,GACxK,OAAOH,EAAI,GAAGG,OAAO,GAAKH,EAAI,GAAGG,OAAO,GAAKH,EAAI,GAAGG,OAAO,GAAKH,EAAI,GAAGG,OAAO,GAGlF,OAAOH,EAAII,KAAK,IA3ZL+C,CAAU5G,KAAK2C,GAAI3C,KAAK4C,GAAI5C,KAAK6C,GAAI7C,KAAK8C,GAAI6D,IAEzDE,aAAc,SAASF,GACnB,MAAO,IAAM3G,KAAK0G,OAAOC,IAE7BnC,MAAO,WACH,MAAO,CAAE9G,EAAG2B,EAAUW,KAAK2C,IAAKzC,EAAGb,EAAUW,KAAK4C,IAAKzC,EAAGd,EAAUW,KAAK6C,IAAKzC,EAAGJ,KAAK8C,KAE1FgE,YAAa,WACT,OAAmB,GAAX9G,KAAK8C,GACX,OAAUzD,EAAUW,KAAK2C,IAAM,KAAOtD,EAAUW,KAAK4C,IAAM,KAAOvD,EAAUW,KAAK6C,IAAM,IACvF,QAAUxD,EAAUW,KAAK2C,IAAM,KAAOtD,EAAUW,KAAK4C,IAAM,KAAOvD,EAAUW,KAAK6C,IAAM,KAAO7C,KAAK+C,QAAU,KAEnHgE,gBAAiB,WACb,MAAO,CAAErJ,EAAG2B,EAAkC,IAAxBwC,EAAQ7B,KAAK2C,GAAI,MAAc,IAAKzC,EAAGb,EAAkC,IAAxBwC,EAAQ7B,KAAK4C,GAAI,MAAc,IAAKzC,EAAGd,EAAkC,IAAxBwC,EAAQ7B,KAAK6C,GAAI,MAAc,IAAKzC,EAAGJ,KAAK8C,KAExKkE,sBAAuB,WACnB,OAAmB,GAAXhH,KAAK8C,GACX,OAAUzD,EAAkC,IAAxBwC,EAAQ7B,KAAK2C,GAAI,MAAc,MAAQtD,EAAkC,IAAxBwC,EAAQ7B,KAAK4C,GAAI,MAAc,MAAQvD,EAAkC,IAAxBwC,EAAQ7B,KAAK6C,GAAI,MAAc,KACrJ,QAAUxD,EAAkC,IAAxBwC,EAAQ7B,KAAK2C,GAAI,MAAc,MAAQtD,EAAkC,IAAxBwC,EAAQ7B,KAAK4C,GAAI,MAAc,MAAQvD,EAAkC,IAAxBwC,EAAQ7B,KAAK6C,GAAI,MAAc,MAAQ7C,KAAK+C,QAAU,KAElLkE,OAAQ,WACJ,OAAgB,IAAZjH,KAAK8C,GACE,gBAGP9C,KAAK8C,GAAK,KAIPoE,EAAS3D,EAASvD,KAAK2C,GAAI3C,KAAK4C,GAAI5C,KAAK6C,IAAI,MAAU,IAElEsE,SAAU,SAASC,GACf,IAAIC,EAAa,IAAMvD,EAAc9D,KAAK2C,GAAI3C,KAAK4C,GAAI5C,KAAK6C,GAAI7C,KAAK8C,IACjEwE,EAAmBD,EACnBnE,EAAelD,KAAKiD,cAAgB,qBAAuB,GAE/D,GAAImE,EAAa,CACb,IAAIzI,EAAIkB,EAAUuH,GAClBE,EAAmB,IAAMxD,EAAcnF,EAAEgE,GAAIhE,EAAEiE,GAAIjE,EAAEkE,GAAIlE,EAAEmE,IAG/D,MAAO,8CAA8CI,EAAa,iBAAiBmE,EAAW,gBAAgBC,EAAiB,KAEnI3D,SAAU,SAASpD,GACf,IAAIgH,IAAchH,EAClBA,EAASA,GAAUP,KAAKgD,QAExB,IAAIwE,GAAkB,EAClBC,EAAWzH,KAAK8C,GAAK,GAAK9C,KAAK8C,IAAM,EAGzC,OAFwByE,IAAaE,GAAwB,QAAXlH,GAA+B,SAAXA,GAAgC,SAAXA,GAAgC,SAAXA,GAAgC,SAAXA,GAAgC,SAAXA,GAU3I,QAAXA,IACAiH,EAAkBxH,KAAK8G,eAEZ,SAAXvG,IACAiH,EAAkBxH,KAAKgH,yBAEZ,QAAXzG,GAA+B,SAAXA,IACpBiH,EAAkBxH,KAAKyG,eAEZ,SAAXlG,IACAiH,EAAkBxH,KAAKyG,aAAY,IAExB,SAAXlG,IACAiH,EAAkBxH,KAAK6G,cAAa,IAEzB,SAAXtG,IACAiH,EAAkBxH,KAAK6G,gBAEZ,SAAXtG,IACAiH,EAAkBxH,KAAKiH,UAEZ,QAAX1G,IACAiH,EAAkBxH,KAAKuG,eAEZ,QAAXhG,IACAiH,EAAkBxH,KAAKsG,eAGpBkB,GAAmBxH,KAAKyG,eAjCZ,SAAXlG,GAAiC,IAAZP,KAAK8C,GACnB9C,KAAKiH,SAETjH,KAAK8G,eAgCpBY,MAAO,WACH,OAAO7H,EAAUG,KAAK2D,aAG1BgE,mBAAoB,SAASC,EAAIC,GAC7B,IAAI/H,EAAQ8H,EAAGE,MAAM,KAAM,CAAC9H,MAAM+H,OAAO,GAAGC,MAAMjL,KAAK8K,KAKvD,OAJA7H,KAAK2C,GAAK7C,EAAM6C,GAChB3C,KAAK4C,GAAK9C,EAAM8C,GAChB5C,KAAK6C,GAAK/C,EAAM+C,GAChB7C,KAAKqG,SAASvG,EAAMgD,IACb9C,MAEXsE,QAAS,WACL,OAAOtE,KAAK2H,mBAAmBrD,EAAS2D,YAE5C1D,SAAU,WACN,OAAOvE,KAAK2H,mBAAmBpD,EAAU0D,YAE7CxD,OAAQ,WACJ,OAAOzE,KAAK2H,mBAAmBlD,EAAQwD,YAE3CjE,WAAY,WACR,OAAOhE,KAAK2H,mBAAmB3D,EAAYiE,YAE/C7D,SAAU,WACN,OAAOpE,KAAK2H,mBAAmBvD,EAAU6D,YAE7C5D,UAAW,WACP,OAAOrE,KAAK2H,mBAAmBtD,EAAW4D,YAE9CvD,KAAM,WACF,OAAO1E,KAAK2H,mBAAmBjD,EAAMuD,YAGzCC,kBAAmB,SAASN,EAAIC,GAC5B,OAAOD,EAAGE,MAAM,KAAM,CAAC9H,MAAM+H,OAAO,GAAGC,MAAMjL,KAAK8K,MAEtD7C,UAAW,WACP,OAAOhF,KAAKkI,kBAAkBlD,EAAWiD,YAE7CrD,WAAY,WACR,OAAO5E,KAAKkI,kBAAkBtD,EAAYqD,YAE9C3C,cAAe,WACX,OAAOtF,KAAKkI,kBAAkB5C,EAAe2C,YAEjDlD,gBAAiB,WACb,OAAO/E,KAAKkI,kBAAkBnD,EAAiBkD,YAEnDpD,MAAO,WACH,OAAO7E,KAAKkI,kBAAkBrD,EAAOoD,YAEzCnD,OAAQ,WACJ,OAAO9E,KAAKkI,kBAAkBpD,EAAQmD,aAM9CpI,EAAUsI,UAAY,SAASrI,EAAOC,GAClC,GAAoB,gBAAhB,IAAOD,EAAP,cAAOA,IAAmB,CAC1B,IAAIsI,EAAW,GACf,IAAK,IAAIxL,KAAKkD,EACNA,EAAMrB,eAAe7B,KAEjBwL,EAASxL,GADH,MAANA,EACckD,EAAMlD,GAGNoF,EAAoBlC,EAAMlD,KAIpDkD,EAAQsI,EAGZ,OAAOvI,EAAUC,EAAOC,IA0Q5BF,EAAUwI,OAAS,SAAUC,EAAQC,GACjC,SAAKD,IAAWC,IACT1I,EAAUyI,GAAQxB,eAAiBjH,EAAU0I,GAAQzB,eAGhEjH,EAAUD,OAAS,WACf,OAAOC,EAAUsI,UAAU,CACvBzK,EAAGiC,IACHO,EAAGP,IACHQ,EAAGR,OA2IXE,EAAU2I,IAAM,SAASF,EAAQC,EAAQtE,GACrCA,EAAqB,IAAXA,EAAgB,EAAKA,GAAU,GAEzC,IAAIwE,EAAO5I,EAAUyI,GAAQ9D,QACzBkE,EAAO7I,EAAU0I,GAAQ/D,QAEzB9F,EAAIuF,EAAS,IASjB,OAAOpE,EAPI,CACPnC,GAAKgL,EAAKhL,EAAI+K,EAAK/K,GAAKgB,EAAK+J,EAAK/K,EAClCwC,GAAKwI,EAAKxI,EAAIuI,EAAKvI,GAAKxB,EAAK+J,EAAKvI,EAClCC,GAAKuI,EAAKvI,EAAIsI,EAAKtI,GAAKzB,EAAK+J,EAAKtI,EAClCC,GAAKsI,EAAKtI,EAAIqI,EAAKrI,GAAK1B,EAAK+J,EAAKrI,KAa1CP,EAAU8I,YAAc,SAASL,EAAQC,GACrC,IAAIK,EAAK/I,EAAUyI,GACfO,EAAKhJ,EAAU0I,GACnB,OAAQtJ,EAAKS,IAAIkJ,EAAG5C,eAAe6C,EAAG7C,gBAAgB,MAAS/G,EAAKO,IAAIoJ,EAAG5C,eAAe6C,EAAG7C,gBAAgB,MAajHnG,EAAUiJ,WAAa,SAASR,EAAQC,EAAQQ,GAC5C,IACIC,EAAYC,EADZN,EAAc9I,EAAU8I,YAAYL,EAAQC,GAMhD,OAHAU,GAAM,GAEND,EAkaJ,SAA4BE,GAGxB,IAAIC,EAAOC,EAEXD,IADAD,EAAQA,GAAS,CAAC,MAAQ,KAAM,KAAO,UACxBC,OAAS,MAAME,cAC9BD,GAAQF,EAAME,MAAQ,SAAS3I,cACjB,OAAV0I,GAA4B,QAAVA,IAClBA,EAAQ,MAEC,UAATC,GAA6B,UAATA,IACpBA,EAAO,SAEX,MAAO,CAAC,MAAQD,EAAO,KAAOC,GA/ajBE,CAAmBP,IACbI,MAAQH,EAAWI,MAClC,IAAK,UACL,IAAK,WACDH,EAAMN,GAAe,IACrB,MACJ,IAAK,UACDM,EAAMN,GAAe,EACrB,MACJ,IAAK,WACDM,EAAMN,GAAe,EAG7B,OAAOM,GAaXpJ,EAAU0J,aAAe,SAASC,EAAWC,EAAW5B,GACpD,IAEIc,EACAe,EAAuBP,EAAOC,EAH9BO,EAAY,KACZC,EAAY,EAIhBF,GADA7B,EAAOA,GAAQ,IACc6B,sBAC7BP,EAAQtB,EAAKsB,MACbC,EAAOvB,EAAKuB,KAEZ,IAAK,IAAIxM,EAAG,EAAGA,EAAI6M,EAAUI,OAASjN,KAClC+L,EAAc9I,EAAU8I,YAAYa,EAAWC,EAAU7M,KACvCgN,IACdA,EAAYjB,EACZgB,EAAY9J,EAAU4J,EAAU7M,KAIxC,OAAIiD,EAAUiJ,WAAWU,EAAWG,EAAW,CAAC,MAAQR,EAAM,KAAOC,MAAWM,EACrEC,GAGP9B,EAAK6B,uBAAsB,EACpB7J,EAAU0J,aAAaC,EAAU,CAAC,OAAQ,QAAQ3B,KAQjE,IAAIjH,EAAQf,EAAUe,MAAQ,CAC1BkJ,UAAW,SACXC,aAAc,SACdC,KAAM,MACNC,WAAY,SACZC,MAAO,SACPC,MAAO,SACPC,OAAQ,SACRC,MAAO,MACPC,eAAgB,SAChBC,KAAM,MACNC,WAAY,SACZC,MAAO,SACPC,UAAW,SACXC,YAAa,SACbC,UAAW,SACXC,WAAY,SACZC,UAAW,SACXC,MAAO,SACPC,eAAgB,SAChBC,SAAU,SACVC,QAAS,SACTC,KAAM,MACNC,SAAU,SACVC,SAAU,SACVC,cAAe,SACfC,SAAU,SACVC,UAAW,SACXC,SAAU,SACVC,UAAW,SACXC,YAAa,SACbC,eAAgB,SAChBC,WAAY,SACZC,WAAY,SACZC,QAAS,SACTC,WAAY,SACZC,aAAc,SACdC,cAAe,SACfC,cAAe,SACfC,cAAe,SACfC,cAAe,SACfC,WAAY,SACZC,SAAU,SACVC,YAAa,SACbC,QAAS,SACTC,QAAS,SACTC,WAAY,SACZC,UAAW,SACXC,YAAa,SACbC,YAAa,SACbC,QAAS,MACTC,UAAW,SACXC,WAAY,SACZC,KAAM,SACNC,UAAW,SACXC,KAAM,SACNC,MAAO,SACPC,YAAa,SACbC,KAAM,SACNC,SAAU,SACVC,QAAS,SACTC,UAAW,SACXC,OAAQ,SACRC,MAAO,SACPC,MAAO,SACPC,SAAU,SACVC,cAAe,SACfC,UAAW,SACXC,aAAc,SACdC,UAAW,SACXC,WAAY,SACZC,UAAW,SACXC,qBAAsB,SACtBC,UAAW,SACXC,WAAY,SACZC,UAAW,SACXC,UAAW,SACXC,YAAa,SACbC,cAAe,SACfC,aAAc,SACdC,eAAgB,MAChBC,eAAgB,MAChBC,eAAgB,SAChBC,YAAa,SACbC,KAAM,MACNC,UAAW,SACXC,MAAO,SACPC,QAAS,MACTC,OAAQ,SACRC,iBAAkB,SAClBC,WAAY,SACZC,aAAc,SACdC,aAAc,SACdC,eAAgB,SAChBC,gBAAiB,SACjBC,kBAAmB,SACnBC,gBAAiB,SACjBC,gBAAiB,SACjBC,aAAc,SACdC,UAAW,SACXC,UAAW,SACXC,SAAU,SACVC,YAAa,SACbC,KAAM,SACNC,QAAS,SACTC,MAAO,SACPC,UAAW,SACXC,OAAQ,SACRC,UAAW,SACXC,OAAQ,SACRC,cAAe,SACfC,UAAW,SACXC,cAAe,SACfC,cAAe,SACfC,WAAY,SACZC,UAAW,SACXC,KAAM,SACNC,KAAM,SACNC,KAAM,SACNC,WAAY,SACZC,OAAQ,SACRC,cAAe,SACfC,IAAK,MACLC,UAAW,SACXC,UAAW,SACXC,YAAa,SACbC,OAAQ,SACRC,WAAY,SACZC,SAAU,SACVC,SAAU,SACVC,OAAQ,SACRC,OAAQ,SACRC,QAAS,SACTC,UAAW,SACXC,UAAW,SACXC,UAAW,SACXC,KAAM,SACNC,YAAa,SACbC,UAAW,SACXC,IAAK,SACLC,KAAM,SACNC,QAAS,SACTC,OAAQ,SACRC,UAAW,SACXC,OAAQ,SACRC,MAAO,SACPC,MAAO,MACPC,WAAY,SACZC,OAAQ,MACRC,YAAa,UAIbhM,EAAWrH,EAAUqH,SAOzB,SAAc7J,GACV,IAAI8V,EAAU,GACd,IAAK,IAAIvW,KAAKS,EACNA,EAAEoB,eAAe7B,KACjBuW,EAAQ9V,EAAET,IAAMA,GAGxB,OAAOuW,EAdyBC,CAAKxS,GAkBzC,SAAS4B,EAAWpC,GAOhB,OANAA,EAAIiT,WAAWjT,IAEXkT,MAAMlT,IAAMA,EAAI,GAAKA,EAAI,KACzBA,EAAI,GAGDA,EAIX,SAASyB,EAAQxD,EAAGqB,IAgCpB,SAAwBrB,GACpB,MAAmB,iBAALA,IAAoC,GAAnBA,EAAEkV,QAAQ,MAAgC,IAAlBF,WAAWhV,IAhC9DmV,CAAenV,KAAMA,EAAI,QAE7B,IAAIoV,EAkCR,SAAsBpV,GAClB,MAAoB,iBAANA,IAAqC,GAAnBA,EAAEkV,QAAQ,KAnCrBG,CAAarV,GASlC,OARAA,EAAIkB,EAAQG,EAAKD,EAAQ,EAAG4T,WAAWhV,KAGnCoV,IACApV,EAAIsV,SAAStV,EAAIqB,EAAK,IAAM,KAI3BT,EAAK2U,IAAIvV,EAAIqB,GAAO,KACd,EAIHrB,EAAIqB,EAAO2T,WAAW3T,GAIlC,SAASyE,EAAQ0P,GACb,OAAOtU,EAAQ,EAAGE,EAAQ,EAAGoU,IAIjC,SAASvS,EAAgBuS,GACrB,OAAOF,SAASE,EAAK,IAezB,SAASnQ,EAAKzG,GACV,OAAmB,GAAZA,EAAE4M,OAAc,IAAM5M,EAAI,GAAKA,EAI1C,SAAS+E,EAAoB3D,GAKzB,OAJIA,GAAK,IACLA,EAAS,IAAJA,EAAW,KAGbA,EAIX,SAAS0F,EAAoB7G,GACzB,OAAO+B,EAAKK,MAAsB,IAAhB+T,WAAWnW,IAAUyG,SAAS,IAGpD,SAASpC,EAAoBN,GACzB,OAAQK,EAAgBL,GAAK,IAGjC,IASQ6S,EAKAC,EACAC,EAfJnT,GAcIkT,EAAoB,eALpBD,EAAW,8CAKoC,aAAeA,EAAW,aAAeA,EAAW,YACnGE,EAAoB,cAAgBF,EAAW,aAAeA,EAAW,aAAeA,EAAW,aAAeA,EAAW,YAE1H,CACHA,SAAU,IAAIG,OAAOH,GACrB7T,IAAK,IAAIgU,OAAO,MAAQF,GACxBhT,KAAM,IAAIkT,OAAO,OAASD,GAC1BhT,IAAK,IAAIiT,OAAO,MAAQF,GACxB7S,KAAM,IAAI+S,OAAO,OAASD,GAC1B7S,IAAK,IAAI8S,OAAO,MAAQF,GACxB3S,KAAM,IAAI6S,OAAO,OAASD,GAC1BtS,KAAM,uDACNF,KAAM,uDACNC,KAAM,uEACNJ,KAAM,yEAOd,SAASO,EAAe9B,GACpB,QAASe,EAASiT,SAAShT,KAAKhB,GAgGCnD,EAAOD,QACxCC,EAAOD,QAAUmD,OAIjB,KAAAqU,aAAoB,OAAOrU,GAA3B,8BA/pCJ,CAsqCGZ,O,cC1qCHtC,EAAOD,QAAUyX,G,cCAjBxX,EAAOD,QAAU0X,G,cCAjBzX,EAAOD,QAAU2X,G,qCCAjBH,EAAO,CACL,KACA,WAFF,gBAIUI,EAAGC,GAGX,IAAIC,EAAYD,EAAKC,UA2RrB,OAzRA,SAAsBC,EAAMC,EAAWC,EAAOC,GAC5C,IAAIC,EAAO7U,KAEP8U,EADOH,EAAMI,KACAD,MAEbE,EAAWV,EAAE,+BAEjBtU,KAAKiV,QAAU,WACbD,EAASE,UAGXlV,KAAKmV,6BAA+B,SAASC,EAAMC,EAAQC,GAIzD,IAHA,IAAIC,EAAKF,EAAOG,WAAWC,UACvBC,EAAUJ,EAAKC,EACfI,EAAMN,EAAOG,WAAWI,OAAO/L,OAC1BgM,EAAIH,EAASG,EAAIF,EAAKE,GAAKN,EAElC,IAAMF,EAAOS,MAAMC,OAA8C,MAArCV,EAAOG,WAAWI,OAAOF,IAAmD,MAA/BL,EAAOG,WAAWI,OAAOC,IAE3FR,EAAOG,WAAWI,OAAOC,GAAKT,EACnC,OAAOnW,KAAKS,IAAImW,EAAIN,EAAK,GAAGA,EAGhC,OAAOM,EAAEN,EAAK,GAGhBvV,KAAKgW,uBAAyB,SAASZ,EAAMC,GAI3C,IAHA,IAEIY,EAFAC,EAAQ,EACRC,EAAQd,EAAOe,KAAKvM,OAAS,IAEpB,CACX,GAAIqM,EAAQC,EACV,OAAOlX,KAAKS,IAAIyW,EAAO,GAGzB,GADAF,EAAShX,KAAKgD,OAAOiU,EAAQC,GAAS,GAClCd,EAAOe,KAAKH,GAAQ,KAAOb,EAC7B,OAAOa,EACEZ,EAAOe,KAAKH,GAAQ,GAAKb,EAClCc,EAAQD,EAAS,EAEjBE,EAAQF,EAAS,IAKvBjW,KAAKqW,cAAgB,SAASC,EAAcC,EAAWC,EAAKC,GAC5C,SAAVA,IACFF,EAAY,mCAAoCD,EAAe,SAAWC,GAE5EvB,EAAS0B,KAAKH,GAAWI,SAASH,EAAII,MAAQ,GAAIJ,EAAIK,QAGxD7W,KAAK8W,4BAA8B,SAASC,EAAYP,GACtD,IAAI3Y,EAAOjB,EAAGyY,EAAQ2B,EAAYC,EAAeC,EAAWC,EAOxDC,EAAaC,EALbpS,EAAU,CAAC,GAAG,GAAG,IAGjBqS,EAAa,EAIjB,IAAK1a,EAAI,EAAGA,EAAIma,EAAWlN,OAAQjN,MACjCyY,EAAS0B,EAAWna,IAERwZ,KAAKvM,QAAWiL,EAAMyC,OAAOC,WAAanC,EAAOoC,YAMxDpC,EAAOe,KAAKvM,QAAWiL,EAAMyC,OAAOG,UAAYrC,EAAOsC,UAJ1D1S,EAAQ,GAAGI,KAAK,CAAEuS,QAAQ,EAAM/Z,MAAO,KAUzCmZ,EAAahX,KAAKgW,uBAAuBQ,EAAIqB,EAAGxC,GAChD4B,EAAgBT,EAAIqB,EAAIxC,EAAOe,KAAKY,GAAY,GAChDE,EAAY7B,EAAOe,KAAKY,GAAY,KAG9BI,GACEH,GAAgB,IAAMA,EAAgBG,GAAeA,EAAc,IACnEH,EAAgB,GAAKA,EAAgBG,KAC3CA,EAAcH,EACdI,EAAUH,GAKRrZ,EAFAwX,EAAOyC,MACwB,eAA7BhD,EAAMiD,QAAQC,WACR3C,EAAOe,KAAKY,GAAY,GACtB3B,EAAOyC,MAGjBR,GAAcjC,EAAOe,KAAKY,GAAY,GAF9B3B,EAAOe,KAAKY,GAAY,GAM1B3B,EAAOe,KAAKY,GAAY,IAI9B3B,EAAOS,MAAMC,OAASV,EAAOyC,SAI/Bd,EAAahX,KAAKmV,6BAA6BqB,EAAIqB,EAAGxC,EAAQ2B,IAIhEG,EAAQ,EACJ9B,EAAO8B,QACTA,EAAQ9B,EAAO8B,MAAM9Y,GAGvB4G,EAAQkS,GAAO9R,KAAK,CAClBxH,MAAOA,EACPmZ,WAAYA,EACZlX,MAAOuV,EAAOvV,MACdmY,MAAO5C,EAAO6C,aACdC,KAAMjB,EACNkB,SAAUnB,EACVoB,MAAOzb,KAUX,OALAqI,EAAUA,EAAQ,GAAG8C,OAAO9C,EAAQ,GAAGA,EAAQ,KAGvCkT,KAAOd,EAERpS,GAGTwP,EAAK6D,YAAW,WACd,GAAIxD,EAAMiD,QAAQQ,OAAQ,CACxB,IAAIC,EAAO/D,EAAK2B,OAAOoC,KACnBA,IACFxD,EAASyD,SACTD,EAAKE,eAGTlE,EAAUmE,KAAK,wBAGjBlE,EAAKrW,KAAK,aAAa,SAAUwa,EAAOpC,EAAKqC,GAC3ChE,EAAKiE,KAAKtC,EAAKqC,GAGfrC,EAAIuC,WAAavC,EAAIK,MAAQpC,EAAKuE,SAASC,KAAOxE,EAAKyE,SACvD1E,EAAUmE,KAAK,cAAe,CAACnC,IAAKA,EAAK1B,MAAOA,OAGlDL,EAAKrW,KAAK,aAAa,SAAUwa,EAAOpC,EAAKqC,GAC3CrE,EAAUmE,KAAK,cAAe,CAACnC,IAAKA,EAAK1B,MAAOA,EAAO+D,KAAMA,OAG/D7Y,KAAKmZ,MAAQ,SAASX,GACpBxD,EAASyD,SACTD,EAAKY,iBACLZ,EAAKE,eAGP1Y,KAAK8Y,KAAO,SAAStC,EAAKqC,GACxB,IAMIQ,EAAOxb,EAAOyY,EAAcgD,EAAW1c,EAAGyY,EAAQkE,EAAYC,EAN9DhB,EAAO/D,EAAK2B,OAAOoC,KACnBiB,EAAWjB,EAAKkB,UAEhBjD,EADQ+B,EAAKmB,WACC,GAAGC,QAAQ7b,KACzBgZ,EAAanC,IACbiF,EAAgB/E,EAAMiD,QAAQQ,OAKlC,GAAI/B,EAAIuC,UAAW,CACjB,IAAIe,EAActB,EAAKsB,YAAY,CAACjC,EAAGrB,EAAIqB,IAC3C,GAAIkC,OAAOzG,MAAMwG,EAAYE,OAASF,EAAYE,KAAO,GAAKF,EAAYE,KAAOvF,EAAKwF,QAEpF,YADApF,EAAKsE,MAAMX,GAMb,GAHAhC,EAAII,MAAQnC,EAAKuE,SAASgB,KAAOF,EAAYE,KAC7CxD,EAAIK,MAAQpC,EAAKuE,SAASC,IAAMxE,EAAKyE,SAAW1C,EAAIuC,YACpCvC,EAAIK,OAASvC,EAAE4F,QAAQC,aAAe3D,EAAIK,OAASvC,EAAE4F,QAAQE,cAAgB9F,EAAE4F,QAAQC,aAGrG,YADAtF,EAAKsE,MAAMX,GAMb,GAHAA,EAAK6B,aAAa7D,GAClBqD,GAAgB,EAEZnF,EAAU4F,0BAEZ,OAIJ,GAA0B,IAAtBvD,EAAWlN,OAUf,GALE2P,EADEzC,EAAW,GAAGwD,gBACA,0BAEA,sBAGdV,EAAe,CACjBrB,EAAKE,cAEL,IAAI8B,EAAkB3F,EAAKiC,4BAA4B2C,EAAUjD,GAkBjE,IAhBA+C,EAAa,GAEbjD,EAAe5B,EAAU+F,WAAWD,EAAgBrC,KAAMqB,GAI/B,IAAvB1E,EAAMiD,QAAQ2C,KAChBF,EAAgBE,MAAK,SAASta,EAAGD,GAC/B,OAAOA,EAAEtC,MAAQuC,EAAEvC,SAEW,IAAvBiX,EAAMiD,QAAQ2C,MACvBF,EAAgBE,MAAK,SAASta,EAAGD,GAC/B,OAAOC,EAAEvC,MAAQsC,EAAEtC,SAIlBjB,EAAI,EAAGA,EAAI4d,EAAgB3Q,OAAQjN,IAGtC,KAFA0c,EAAYkB,EAAgB5d,IAEdgb,OAAd,CAIA,IAAI+C,EAAiB,GACjB9B,GAAQS,EAAUjB,QAAUQ,EAAK+B,cACnCD,EAAiB,sCAKnB9c,GAFAwX,EAAS0B,EAAWuC,EAAUjB,QAEfwC,YAAYvB,EAAUzb,OAErC0b,GAAc,uCAAyCoB,EAAiB,4CACxEpB,GAAc,uCAAyCD,EAAUxZ,MAAO,WAAawZ,EAAUrB,MAAQ,UACvGsB,GAAc,oCAAsC1b,EAAQ,eAC5D2a,EAAKsC,UAAUxB,EAAUjB,MAAOiB,EAAUtC,YAG5CnC,EAAKwB,cAAcC,EAAciD,EAAY/C,EAAKC,QAG3CoC,GACPxD,EAAS0B,EAAW8B,EAAK+B,aACzBvB,EAAQ,+EACRA,GAAS,uCAAyCR,EAAKxD,OAAOvV,MAAO,WAAauV,EAAO6C,aAAe,UAGtGra,EADEiX,EAAMgD,OAAsC,eAA7BhD,EAAMiD,QAAQC,WACvBa,EAAKkC,UAAU,GAAKlC,EAAKkC,UAAU,GAGnClC,EAAKkC,UAAU,GAGzBld,EAAQwX,EAAOwF,YAAYhd,GAE3ByY,EAAe5B,EAAU+F,WAAW5B,EAAKkC,UAAU,GAAIvB,GAEvDH,GAAS,oCAAsCxb,EAAQ,SAEvDgX,EAAKwB,cAAcC,EAAc+C,EAAO7C,EAAKC,IAI7CzB,EAASyD,YA7RjB,4B;;;;;;ACMA,SAAShb,EAAIud,GACX,OAAOC,iBAAiBD,GAG1B,SAASE,EAAIF,EAASG,GACpB,IAAK,IAAIhd,KAAOgd,EAAK,CACnB,IAAItH,EAAMsH,EAAIhd,GACK,iBAAR0V,IACTA,GAAY,MAEdmH,EAAQI,MAAMjd,GAAO0V,EAEvB,OAAOmH,EAGT,SAASK,EAAIC,GACX,IAAID,EAAME,SAASC,cAAc,OAEjC,OADAH,EAAIC,UAAYA,EACTD,E,iDAGT,IAAII,EACiB,oBAAZC,UACNA,QAAQld,UAAUmd,SACjBD,QAAQld,UAAUod,uBAClBF,QAAQld,UAAUqd,oBAClBH,QAAQld,UAAUsd,mBAEtB,SAASH,EAAQX,EAASe,GACxB,IAAKN,EACH,MAAM,IAAIO,MAAM,wCAGlB,OAAOP,EAAU1e,KAAKie,EAASe,GAGjC,SAAS7G,EAAO8F,GACVA,EAAQ9F,OACV8F,EAAQ9F,SAEJ8F,EAAQiB,YACVjB,EAAQiB,WAAWC,YAAYlB,GAKrC,SAASmB,EAAcnB,EAASoB,GAC9B,OAAOC,MAAM7d,UAAU8d,OAAOvf,KAAKie,EAAQuB,UAAU,SAAUC,GAAS,OAAOb,EAAQa,EAAOJ,MAIhG,IAAIK,EACI,KADJA,EAEG,UAFHA,EAGO,CACPC,MAAO,SAAU7E,GAAK,MAAQ,aAAeA,GAC7C8E,KAAM,SAAU9E,GAAK,MAAQ,YAAcA,GAC3C+E,UAAW,sBANXH,EAQK,CACLI,MAAO,YACPC,SAAU,eACVC,OAAQ,SAAUlF,GAAK,MAAQ,cAAgBA,GAC/CmF,UAAW,SAAUnF,GAAK,MAAQ,iBAAmBA,IAOrDoF,EAAwB,CAAEpF,EAAG,KAAMqF,EAAG,MAE1C,SAASC,EAAkBvgB,EAAGib,GAC5B,IAAIuF,EAAYxgB,EAAEoe,QAAQoC,UACtB9B,EAAYmB,EAAUO,UAAUnF,GAEhCuF,EAAUC,SAAS/B,GACrBgC,aAAaL,EAAsBpF,IAEnCuF,EAAUG,IAAIjC,GAIlB,SAASkC,EAAqB5gB,EAAGib,GAC/BoF,EAAsBpF,GAAK4F,YACzB,WAAc,OAAO7gB,EAAE8gB,SAAW9gB,EAAEoe,QAAQoC,UAAUlI,OAAOuH,EAAUO,UAAUnF,MACjFjb,EAAE+gB,SAASC,oBASf,IAAIC,EAAe,SAAsB7C,GACvChb,KAAKgb,QAAUA,EACfhb,KAAK8d,SAAW,IAGdC,EAAqB,CAAEC,QAAS,CAAEC,cAAc,IAEpDJ,EAAarf,UAAUJ,KAAO,SAAe8f,EAAWC,QACd,IAA7Bne,KAAK8d,SAASI,KACvBle,KAAK8d,SAASI,GAAa,IAE7Ble,KAAK8d,SAASI,GAAW7Y,KAAK8Y,GAC9Bne,KAAKgb,QAAQoD,iBAAiBF,EAAWC,GAAS,IAGpDN,EAAarf,UAAU6f,OAAS,SAAiBH,EAAWI,GACxD,IAAIC,EAASve,KAEfA,KAAK8d,SAASI,GAAale,KAAK8d,SAASI,GAAW5B,QAAO,SAAU6B,GACnE,SAAIG,GAAUH,IAAYG,KAG1BC,EAAOvD,QAAQwD,oBAAoBN,EAAWC,GAAS,IAChD,OAIXN,EAAarf,UAAUigB,UAAY,WACjC,IAAK,IAAIthB,KAAQ6C,KAAK8d,SACpB9d,KAAKqe,OAAOlhB,IAIhB4gB,EAAmBC,QAAQvgB,IAAM,WAC7B,IAAI8gB,EAASve,KAEf,OAAO1C,OAAOohB,KAAK1e,KAAK8d,UAAUa,OAChC,SAAUxgB,GAAO,OAAuC,IAAhCogB,EAAOT,SAAS3f,GAAK0L,WAIjDvM,OAAOshB,iBAAkBf,EAAarf,UAAWuf,GAEjD,IAAIc,EAAe,WACjB7e,KAAK8e,cAAgB,IAwCvB,SAASC,EAAY5hB,GACnB,GAAkC,mBAAvB+c,OAAO8E,YAChB,OAAO,IAAIA,YAAY7hB,GAEvB,IAAI8hB,EAAM1D,SAASwD,YAAY,eAE/B,OADAE,EAAIC,gBAAgB/hB,GAAM,GAAO,OAAOgiB,GACjCF,EAIX,SAASG,EACPxiB,EACAyiB,EACAC,EACAC,EACAC,GAKA,IAAIC,EACJ,QAJ2B,IAAtBF,IAA+BA,GAAoB,QAC3B,IAAxBC,IAAiCA,GAAsB,GAG/C,QAATH,EACFI,EAAS,CACP,gBACA,kBACA,YACA,IACA,KACA,YACG,IAAa,SAATJ,EAST,MAAM,IAAIrD,MAAM,oCARhByD,EAAS,CACP,eACA,iBACA,aACA,IACA,OACA,UAQN,SACE7iB,EACA0iB,EACAI,EACAH,EACAC,GAEA,IAAIG,EAAgBD,EAAI,GACpBE,EAAkBF,EAAI,GACtBvF,EAAYuF,EAAI,GAChBxC,EAAIwC,EAAI,GACRG,EAAKH,EAAI,GACTI,EAAOJ,EAAI,QACY,IAAtBH,IAA+BA,GAAoB,QAC3B,IAAxBC,IAAiCA,GAAsB,GAE5D,IAAIxE,EAAUpe,EAAEoe,QAGhBpe,EAAEmjB,MAAM7C,GAAK,KAGTlC,EAAQb,GAAa,IACvBvd,EAAEmjB,MAAM7C,GAAK,SAIXlC,EAAQb,GAAavd,EAAE+iB,GAAiB/iB,EAAEgjB,GAAmB,IAC/DhjB,EAAEmjB,MAAM7C,GAAK,OAGXoC,IACFtE,EAAQgF,cAAcjB,EAAa,aAAe7B,IAE9CoC,EAAO,EACTtE,EAAQgF,cAAcjB,EAAa,aAAec,IACzCP,EAAO,GAChBtE,EAAQgF,cAAcjB,EAAa,aAAee,IAGhDP,GA7KR,SAAoC3iB,EAAGib,GACrCsF,EAAkBvgB,EAAGib,GACrB2F,EAAqB5gB,EAAGib,GA4KpBoI,CAA2BrjB,EAAGsgB,IAI9BtgB,EAAEmjB,MAAM7C,KAAOoC,GAAQE,IACzBxE,EAAQgF,cAAcjB,EAAa,MAAQ7B,EAAI,UAAatgB,EAAEmjB,MAAM7C,KAjDtEgD,CAAoBtjB,EAAG0iB,EAAMG,EAAQF,EAAmBC,GAqD1D,SAASW,EAAMtI,GACb,OAAOlE,SAASkE,EAAG,KAAO,EApI5BgH,EAAargB,UAAU4hB,aAAe,SAAuBpF,GAC3D,IAAIqF,EAAKrgB,KAAK8e,cAAcxC,QAAO,SAAU+D,GAAM,OAAOA,EAAGrF,UAAYA,KAAY,GAKrF,OAJKqF,IACHA,EAAK,IAAIxC,EAAa7C,GACtBhb,KAAK8e,cAAczZ,KAAKgb,IAEnBA,GAGTxB,EAAargB,UAAUJ,KAAO,SAAe4c,EAASkD,EAAWC,GAC/Dne,KAAKogB,aAAapF,GAAS5c,KAAK8f,EAAWC,IAG7CU,EAAargB,UAAU6f,OAAS,SAAiBrD,EAASkD,EAAWC,GACnE,IAAIkC,EAAKrgB,KAAKogB,aAAapF,GAC3BqF,EAAGhC,OAAOH,EAAWC,GAEjBkC,EAAGrC,SAELhe,KAAK8e,cAAcwB,OAAOtgB,KAAK8e,cAAcvL,QAAQ8M,GAAK,IAI9DxB,EAAargB,UAAUigB,UAAY,WACjCze,KAAK8e,cAAcyB,SAAQ,SAAUC,GAAK,OAAOA,EAAE/B,eACnDze,KAAK8e,cAAgB,IAGvBD,EAAargB,UAAUiiB,KAAO,SAAezF,EAASkD,EAAWC,GAC/D,IAAIkC,EAAKrgB,KAAKogB,aAAapF,GAK3BqF,EAAGjiB,KAAK8f,GAJU,SAAdwC,EAAwBzB,GAC1BoB,EAAGhC,OAAOH,EAAWwC,GACrBvC,EAAQc,OA2HZ,IAAI0B,EAAM,CACRC,SACsB,oBAAbrF,UACP,qBAAsBA,SAASsF,gBAAgBzF,MACjD0F,cACoB,oBAAX5G,SACN,iBAAkBA,QAChB,mBAAoBA,OAAO6G,WAC1B7G,OAAO6G,UAAUC,eAAiB,GACnC9G,OAAO+G,eAAiB1F,oBAAoBrB,OAAO+G,eACxDC,kBACuB,oBAAdH,WAA6BA,UAAUI,iBAChDC,SACuB,oBAAdL,WACP,UAAUM,KAAKN,WAAaA,UAAUO,YAG1C,SAASC,EAAe3kB,GACtB,IAAIoe,EAAUpe,EAAEoe,QACZwG,EAAmBviB,KAAKgD,MAAM+Y,EAAQb,WACtCsH,EAAOzG,EAAQ0G,wBAEnB9kB,EAAE+kB,eAAiB1iB,KAAK2iB,KAAKH,EAAKxH,OAClCrd,EAAEgjB,gBAAkB3gB,KAAK2iB,KAAKH,EAAKvI,QACnCtc,EAAEilB,aAAe7G,EAAQ8G,YACzBllB,EAAE+iB,cAAgB3E,EAAQ+G,aAErB/G,EAAQqC,SAASzgB,EAAEolB,kBAEtB7F,EAAcnB,EAASyB,EAAYE,KAAK,MAAM4D,SAAQ,SAAU0B,GAAM,OAAO/M,EAAO+M,MAEpFjH,EAAQkH,YAAYtlB,EAAEolB,iBAEnBhH,EAAQqC,SAASzgB,EAAEulB,kBAEtBhG,EAAcnB,EAASyB,EAAYE,KAAK,MAAM4D,SAAQ,SAAU0B,GAAM,OAAO/M,EAAO+M,MAEpFjH,EAAQkH,YAAYtlB,EAAEulB,kBAIrBvlB,EAAE+gB,SAASyE,iBACZxlB,EAAE+kB,eAAiB/kB,EAAE+gB,SAAS0E,oBAAsBzlB,EAAEilB,cAEtDjlB,EAAE0lB,kBAAmB,EACrB1lB,EAAE2lB,WAAa3lB,EAAE+kB,eAAiB/kB,EAAE4lB,iBACpC5lB,EAAE6lB,WAAa7lB,EAAE+kB,eAAiB/kB,EAAE2lB,WACpC3lB,EAAE8lB,gBAAkBC,EAClB/lB,EACAujB,EAAOvjB,EAAE2lB,WAAa3lB,EAAE+kB,eAAkB/kB,EAAEilB,eAE9CjlB,EAAEgmB,eAAiBzC,GACfvjB,EAAEimB,yBAA2B7H,EAAQ8H,aACpClmB,EAAE2lB,WAAa3lB,EAAE8lB,kBACjB9lB,EAAEilB,aAAejlB,EAAE+kB,kBAGxB/kB,EAAE0lB,kBAAmB,GAIpB1lB,EAAE+gB,SAASoF,iBACZnmB,EAAEgjB,gBAAkBhjB,EAAE+gB,SAASqF,oBAAsBpmB,EAAE+iB,eAEvD/iB,EAAEqmB,kBAAmB,EACrBrmB,EAAEsmB,YAActmB,EAAEgjB,gBAAkBhjB,EAAEumB,kBACtCvmB,EAAEwmB,WAAaxmB,EAAEgjB,gBAAkBhjB,EAAEsmB,YACrCtmB,EAAEymB,iBAAmBV,EACnB/lB,EACAujB,EAAOvjB,EAAEsmB,YAActmB,EAAEgjB,gBAAmBhjB,EAAE+iB,gBAEhD/iB,EAAE0mB,cAAgBnD,EACfqB,GAAoB5kB,EAAEsmB,YAActmB,EAAEymB,mBACpCzmB,EAAE+iB,cAAgB/iB,EAAEgjB,mBAGzBhjB,EAAEqmB,kBAAmB,EAGnBrmB,EAAEgmB,gBAAkBhmB,EAAE2lB,WAAa3lB,EAAE8lB,kBACvC9lB,EAAEgmB,eAAiBhmB,EAAE2lB,WAAa3lB,EAAE8lB,iBAElC9lB,EAAE0mB,eAAiB1mB,EAAEsmB,YAActmB,EAAEymB,mBACvCzmB,EAAE0mB,cAAgB1mB,EAAEsmB,YAActmB,EAAEymB,kBAiCxC,SAAmBrI,EAASpe,GAC1B,IAAI2mB,EAAc,CAAEtJ,MAAOrd,EAAE2lB,YACzBf,EAAmBviB,KAAKgD,MAAM+Y,EAAQb,WAEtCvd,EAAE4mB,MACJD,EAAYvJ,KACVpd,EAAEimB,yBACF7H,EAAQ8H,WACRlmB,EAAE+kB,eACF/kB,EAAEilB,aAEJ0B,EAAYvJ,KAAOgB,EAAQ8H,WAEzBlmB,EAAE6mB,wBACJF,EAAYG,OAAS9mB,EAAE+mB,iBAAmBnC,EAE1C+B,EAAYtK,IAAMrc,EAAEgnB,cAAgBpC,EAEtCtG,EAAIte,EAAEolB,eAAgBuB,GAEtB,IAAIM,EAAc,CAAE5K,IAAKuI,EAAkBtI,OAAQtc,EAAEsmB,aACjDtmB,EAAEknB,uBACAlnB,EAAE4mB,MACJK,EAAYE,MACVnnB,EAAEilB,cACDjlB,EAAEimB,yBAA2B7H,EAAQ8H,YACtClmB,EAAEonB,gBACFpnB,EAAEqnB,qBACF,EAEFJ,EAAYE,MAAQnnB,EAAEonB,gBAAkBhJ,EAAQ8H,WAG9ClmB,EAAE4mB,MACJK,EAAY7J,KACVpd,EAAEimB,yBACF7H,EAAQ8H,WACW,EAAnBlmB,EAAE+kB,eACF/kB,EAAEilB,aACFjlB,EAAEsnB,eACFtnB,EAAEqnB,qBAEJJ,EAAY7J,KAAOpd,EAAEsnB,eAAiBlJ,EAAQ8H,WAGlD5H,EAAIte,EAAEulB,eAAgB0B,GAEtB3I,EAAIte,EAAEunB,WAAY,CAChBnK,KAAMpd,EAAEgmB,eACR3I,MAAOrd,EAAE8lB,gBAAkB9lB,EAAEwnB,mBAE/BlJ,EAAIte,EAAEynB,WAAY,CAChBpL,IAAKrc,EAAE0mB,cACPpK,OAAQtc,EAAEymB,iBAAmBzmB,EAAE0nB,mBAnFjCC,CAAUvJ,EAASpe,GAEfA,EAAE0lB,iBACJtH,EAAQoC,UAAUG,IAAId,EAAUM,OAAO,OAEvC/B,EAAQoC,UAAUlI,OAAOuH,EAAUM,OAAO,MAC1CngB,EAAE8lB,gBAAkB,EACpB9lB,EAAEgmB,eAAiB,EACnB5H,EAAQ8H,YAAyB,IAAZlmB,EAAE4mB,MAAiB5mB,EAAEilB,aAAe,GAEvDjlB,EAAEqmB,iBACJjI,EAAQoC,UAAUG,IAAId,EAAUM,OAAO,OAEvC/B,EAAQoC,UAAUlI,OAAOuH,EAAUM,OAAO,MAC1CngB,EAAEymB,iBAAmB,EACrBzmB,EAAE0mB,cAAgB,EAClBtI,EAAQb,UAAY,GAIxB,SAASwI,EAAa/lB,EAAG4nB,GAOvB,OANI5nB,EAAE+gB,SAAS8G,qBACbD,EAAYvlB,KAAKS,IAAI8kB,EAAW5nB,EAAE+gB,SAAS8G,qBAEzC7nB,EAAE+gB,SAAS+G,qBACbF,EAAYvlB,KAAKO,IAAIglB,EAAW5nB,EAAE+gB,SAAS+G,qBAEtCF,EAmHT,SAASG,EACP/nB,EACA8iB,GAEA,IAAIE,EAAkBF,EAAI,GACtBC,EAAgBD,EAAI,GACpB7I,EAAQ6I,EAAI,GACZwD,EAAcxD,EAAI,GAClB2E,EAAa3E,EAAI,GACjB2D,EAAmB3D,EAAI,GACvBvF,EAAYuF,EAAI,GAChBxC,EAAIwC,EAAI,GACRyC,EAAiBzC,EAAI,GAErB1E,EAAUpe,EAAEoe,QAEZ4J,EAAoB,KACpBC,EAAqB,KACrBC,EAAW,KAEf,SAASC,EAAiBvE,GACpBA,EAAEwE,SAAWxE,EAAEwE,QAAQ,KACzBxE,EAAE3J,GAAS2J,EAAEwE,QAAQ,GAAGnO,OAE1BmE,EAAQb,GACNyK,EAAoBE,GAAYtE,EAAE3J,GAASgO,GAC7C1H,EAAkBvgB,EAAGsgB,GACrBqE,EAAe3kB,GAEf4jB,EAAEyE,kBACFzE,EAAE0E,iBAGJ,SAASC,IACP3H,EAAqB5gB,EAAGsgB,GACxBtgB,EAAEulB,GAAgB/E,UAAUlI,OAAOuH,EAAUK,UAC7ClgB,EAAEgc,MAAMyF,OAAOzhB,EAAEwoB,cAAe,YAAaL,GAG/C,SAASM,EAAU7E,EAAG8E,GACpBV,EAAoB5J,EAAQb,GACxBmL,GAAa9E,EAAEwE,UACjBxE,EAAE3J,GAAS2J,EAAEwE,QAAQ,GAAGnO,OAE1BgO,EAAqBrE,EAAE3J,GACvBiO,GACGloB,EAAE+iB,GAAiB/iB,EAAEgjB,KACrBhjB,EAAEsmB,GAAetmB,EAAEymB,IACjBiC,EAKH1oB,EAAEgc,MAAMxa,KAAKxB,EAAEwoB,cAAe,YAAaL,IAJ3CnoB,EAAEgc,MAAMxa,KAAKxB,EAAEwoB,cAAe,YAAaL,GAC3CnoB,EAAEgc,MAAM6H,KAAK7jB,EAAEwoB,cAAe,UAAWD,GACzC3E,EAAE0E,kBAKJtoB,EAAEulB,GAAgB/E,UAAUG,IAAId,EAAUK,UAE1C0D,EAAEyE,kBAGJroB,EAAEgc,MAAMxa,KAAKxB,EAAEynB,GAAa,aAAa,SAAU7D,GACjD6E,EAAU7E,MAEZ5jB,EAAEgc,MAAMxa,KAAKxB,EAAEynB,GAAa,cAAc,SAAU7D,GAClD6E,EAAU7E,GAAG,MAigBjB,IAeI1C,EAAW,CACb,aAzoBF,SAAmBlhB,GACHA,EAAEoe,QAEhBpe,EAAEgc,MAAMxa,KAAKxB,EAAEynB,WAAY,aAAa,SAAU7D,GAAK,OAAOA,EAAEyE,qBAChEroB,EAAEgc,MAAMxa,KAAKxB,EAAEulB,eAAgB,aAAa,SAAU3B,GACpD,IAII+E,EAHF/E,EAAE3J,MACFqD,OAAOsL,YACP5oB,EAAEulB,eAAeT,wBAAwBzI,IACbrc,EAAE0mB,cAAgB,GAAK,EAErD1mB,EAAEoe,QAAQb,WAAaoL,EAAY3oB,EAAEgjB,gBACrC2B,EAAe3kB,GAEf4jB,EAAEyE,qBAGJroB,EAAEgc,MAAMxa,KAAKxB,EAAEunB,WAAY,aAAa,SAAU3D,GAAK,OAAOA,EAAEyE,qBAChEroB,EAAEgc,MAAMxa,KAAKxB,EAAEolB,eAAgB,aAAa,SAAUxB,GACpD,IAII+E,EAHF/E,EAAE5J,MACFsD,OAAOuL,YACP7oB,EAAEolB,eAAeN,wBAAwB1H,KACZpd,EAAEgmB,eAAiB,GAAK,EAEvDhmB,EAAEoe,QAAQ8H,YAAcyC,EAAY3oB,EAAE+kB,eACtCJ,EAAe3kB,GAEf4jB,EAAEyE,sBA8mBJ,aA1mBF,SAAmBroB,GACjB+nB,EAAuB/nB,EAAG,CACxB,iBACA,eACA,QACA,aACA,aACA,kBACA,aACA,IACA,mBACF+nB,EAAuB/nB,EAAG,CACxB,kBACA,gBACA,QACA,cACA,aACA,mBACA,YACA,IACA,oBAulBF8oB,SA/gBF,SAAkB9oB,GAChB,IAAIoe,EAAUpe,EAAEoe,QAkChBpe,EAAEgc,MAAMxa,KAAKxB,EAAEwoB,cAAe,WAAW,SAAU5E,GACjD,KACGA,EAAEmF,oBAAsBnF,EAAEmF,sBAC3BnF,EAAEoF,oBAnCoCjK,EAAQX,EAAS,WACfW,EAAQ/e,EAAEunB,WAAY,WAAaxI,EAAQ/e,EAAEynB,WAAY,WAuCnG,CAIA,IA5WgBpC,EA4WZ4D,EAAgBtK,SAASsK,cACzBtK,SAASsK,cACTjpB,EAAEwoB,cAAcS,cACpB,GAAIA,EAAe,CACjB,GAA8B,WAA1BA,EAAcC,QAChBD,EAAgBA,EAAcE,gBAAgBF,mBAG9C,KAAOA,EAAcG,YACnBH,EAAgBA,EAAcG,WAAWH,cAG7C,GAtXFlK,EAFgBsG,EAwXC4D,EAtXL,4BACZlK,EAAQsG,EAAI,6BACZtG,EAAQsG,EAAI,+BACZtG,EAAQsG,EAAI,4BAoXR,OAIJ,IAAIgE,EAAS,EACTC,EAAS,EAEb,OAAQ1F,EAAE2F,OACR,KAAK,GAEDF,EADEzF,EAAE4F,SACMxpB,EAAEilB,aACHrB,EAAE6F,QACDzpB,EAAE+kB,gBAEF,GAEZ,MACF,KAAK,GAEDuE,EADE1F,EAAE4F,QACKxpB,EAAE+iB,cACFa,EAAE6F,OACFzpB,EAAEgjB,gBAEF,GAEX,MACF,KAAK,GAEDqG,EADEzF,EAAE4F,QACKxpB,EAAEilB,aACFrB,EAAE6F,OACFzpB,EAAE+kB,eAEF,GAEX,MACF,KAAK,GAEDuE,EADE1F,EAAE4F,SACMxpB,EAAE+iB,cACHa,EAAE6F,QACDzpB,EAAEgjB,iBAEF,GAEZ,MACF,KAAK,GAEDsG,EADE1F,EAAE8F,SACK1pB,EAAEgjB,iBAEDhjB,EAAEgjB,gBAEd,MACF,KAAK,GACHsG,EAAStpB,EAAEgjB,gBACX,MACF,KAAK,GACHsG,GAAUtpB,EAAEgjB,gBACZ,MACF,KAAK,GACHsG,EAAStpB,EAAE+iB,cACX,MACF,KAAK,GACHuG,GAAUtpB,EAAE+iB,cACZ,MACF,QACE,OAGA/iB,EAAE+gB,SAASyE,iBAA8B,IAAX6D,GAG9BrpB,EAAE+gB,SAASoF,iBAA8B,IAAXmD,IAIlClL,EAAQb,WAAa+L,EACrBlL,EAAQ8H,YAAcmD,EACtB1E,EAAe3kB,GAlIjB,SAA8BqpB,EAAQC,GACpC,IAAI/L,EAAYlb,KAAKgD,MAAM+Y,EAAQb,WACnC,GAAe,IAAX8L,EAAc,CAChB,IAAKrpB,EAAEqmB,iBACL,OAAO,EAET,GACiB,IAAd9I,GAAmB+L,EAAS,GAC5B/L,GAAavd,EAAE+iB,cAAgB/iB,EAAEgjB,iBAAmBsG,EAAS,EAE9D,OAAQtpB,EAAE+gB,SAAS4I,iBAIvB,IAAIzD,EAAa9H,EAAQ8H,WACzB,GAAe,IAAXoD,EAAc,CAChB,IAAKtpB,EAAE0lB,iBACL,OAAO,EAET,GACkB,IAAfQ,GAAoBmD,EAAS,GAC7BnD,GAAclmB,EAAEilB,aAAejlB,EAAE+kB,gBAAkBsE,EAAS,EAE7D,OAAQrpB,EAAE+gB,SAAS4I,iBAGvB,OAAO,EA0GHC,CAAqBP,EAAQC,IAC/B1F,EAAE0E,uBAqYNuB,MAhYF,SAAe7pB,GACb,IAAIoe,EAAUpe,EAAEoe,QAsGhB,SAAS0L,EAAkBlG,GACzB,IAAId,EAhFN,SAA2Bc,GACzB,IAAIyF,EAASzF,EAAEyF,OACXC,GAAU,EAAI1F,EAAE0F,OAoBpB,YAlBsB,IAAXD,QAA4C,IAAXC,IAE1CD,GAAW,EAAIzF,EAAEmG,YAAe,EAChCT,EAAS1F,EAAEoG,YAAc,GAGvBpG,EAAEqG,WAA6B,IAAhBrG,EAAEqG,YAEnBZ,GAAU,GACVC,GAAU,IAGRD,GAAWA,GAAUC,GAAWA,IAElCD,EAAS,EACTC,EAAS1F,EAAEsG,YAGTtG,EAAE8F,SAEG,EAAEJ,GAASD,GAEb,CAACA,EAAQC,GAsDNa,CAAkBvG,GACxByF,EAASvG,EAAI,GACbwG,EAASxG,EAAI,GAEjB,IAvDF,SAAiCpB,EAAQ2H,EAAQC,GAE/C,IAAKvF,EAAIC,UAAY5F,EAAQgM,cAAc,gBACzC,OAAO,EAGT,IAAKhM,EAAQqC,SAASiB,GACpB,OAAO,EAKT,IAFA,IAAI2I,EAAS3I,EAEN2I,GAAUA,IAAWjM,GAAS,CACnC,GAAIiM,EAAO7J,UAAUC,SAASZ,EAAYG,WACxC,OAAO,EAGT,IAAIxB,EAAQ3d,EAAIwpB,GAGhB,GAAIf,GAAU9K,EAAM8L,UAAUxmB,MAAM,iBAAkB,CACpD,IAAIymB,EAAeF,EAAOlF,aAAekF,EAAOG,aAChD,GAAID,EAAe,IAEdF,EAAO9M,UAAY,GAAK+L,EAAS,GACjCe,EAAO9M,UAAYgN,GAAgBjB,EAAS,GAE7C,OAAO,EAKb,GAAID,GAAU7K,EAAMiM,UAAU3mB,MAAM,iBAAkB,CACpD,IAAI4mB,EAAgBL,EAAOnF,YAAcmF,EAAOM,YAChD,GAAID,EAAgB,IAEfL,EAAOnE,WAAa,GAAKmD,EAAS,GAClCgB,EAAOnE,WAAawE,GAAiBrB,EAAS,GAE/C,OAAO,EAKbgB,EAASA,EAAOhL,WAGlB,OAAO,EAQHuL,CAAwBhH,EAAElC,OAAQ2H,EAAQC,GAA9C,CAIA,IAAIuB,GAAgB,EACf7qB,EAAE+gB,SAAS+J,iBAKL9qB,EAAEqmB,mBAAqBrmB,EAAE0lB,kBAG9B4D,EACFlL,EAAQb,WAAa+L,EAAStpB,EAAE+gB,SAASgK,WAEzC3M,EAAQb,WAAa8L,EAASrpB,EAAE+gB,SAASgK,WAE3CF,GAAgB,GACP7qB,EAAE0lB,mBAAqB1lB,EAAEqmB,mBAG9BgD,EACFjL,EAAQ8H,YAAcmD,EAASrpB,EAAE+gB,SAASgK,WAE1C3M,EAAQ8H,YAAcoD,EAAStpB,EAAE+gB,SAASgK,WAE5CF,GAAgB,IAnBhBzM,EAAQb,WAAa+L,EAAStpB,EAAE+gB,SAASgK,WACzC3M,EAAQ8H,YAAcmD,EAASrpB,EAAE+gB,SAASgK,YAqB5CpG,EAAe3kB,IAEf6qB,EAAgBA,GAzIlB,SAA8BxB,EAAQC,GACpC,IAAI1E,EAAmBviB,KAAKgD,MAAM+Y,EAAQb,WACtCyN,EAA8B,IAAtB5M,EAAQb,UAChB0N,EACFrG,EAAmBxG,EAAQ8M,eAAiB9M,EAAQ+G,aAClDgG,EAAgC,IAAvB/M,EAAQ8H,WACjBkF,EACFhN,EAAQ8H,WAAa9H,EAAQiN,cAAgBjN,EAAQ8G,YAWvD,QANI7iB,KAAK2U,IAAIsS,GAAUjnB,KAAK2U,IAAIqS,GAClB2B,GAASC,EAETE,GAAUC,KAGJprB,EAAE+gB,SAAS4I,iBAuHEC,CAAqBP,EAAQC,MACxC1F,EAAE0H,UACtB1H,EAAEyE,kBACFzE,EAAE0E,wBAIwB,IAAnBhL,OAAOiO,QAChBvrB,EAAEgc,MAAMxa,KAAK4c,EAAS,QAAS0L,QACS,IAAxBxM,OAAOkO,cACvBxrB,EAAEgc,MAAMxa,KAAK4c,EAAS,aAAc0L,IA2OtC2B,MAvOF,SAAezrB,GACb,GAAK+jB,EAAIG,eAAkBH,EAAIO,kBAA/B,CAIA,IAAIlG,EAAUpe,EAAEoe,QAuCZsN,EAAc,GACdC,EAAY,EACZC,EAAQ,GACRC,EAAa,KAmJb9H,EAAIG,eACNlkB,EAAEgc,MAAMxa,KAAK4c,EAAS,aAAc0N,GACpC9rB,EAAEgc,MAAMxa,KAAK4c,EAAS,YAAa2N,GACnC/rB,EAAEgc,MAAMxa,KAAK4c,EAAS,WAAY4N,IACzBjI,EAAIO,oBACThH,OAAO2O,cACTjsB,EAAEgc,MAAMxa,KAAK4c,EAAS,cAAe0N,GACrC9rB,EAAEgc,MAAMxa,KAAK4c,EAAS,cAAe2N,GACrC/rB,EAAEgc,MAAMxa,KAAK4c,EAAS,YAAa4N,IAC1B1O,OAAO4O,iBAChBlsB,EAAEgc,MAAMxa,KAAK4c,EAAS,gBAAiB0N,GACvC9rB,EAAEgc,MAAMxa,KAAK4c,EAAS,gBAAiB2N,GACvC/rB,EAAEgc,MAAMxa,KAAK4c,EAAS,cAAe4N,KAzKzC,SAASG,EAAeC,EAAaC,GACnCjO,EAAQb,WAAa8O,EACrBjO,EAAQ8H,YAAckG,EAEtBzH,EAAe3kB,GAQjB,SAASssB,EAAS1I,GAChB,OAAIA,EAAE2I,cACG3I,EAAE2I,cAAc,GAGhB3I,EAIX,SAAS4I,EAAa5I,GACpB,QAAIA,EAAE6I,aAAiC,QAAlB7I,EAAE6I,aAAuC,IAAd7I,EAAE8I,cAG9C9I,EAAE2I,eAA4C,IAA3B3I,EAAE2I,cAActf,YAIrC2W,EAAE6I,aACgB,UAAlB7I,EAAE6I,aACF7I,EAAE6I,cAAgB7I,EAAE+I,uBAOxB,SAASb,EAAWlI,GAClB,GAAK4I,EAAa5I,GAAlB,CAIA,IAAI6H,EAAQa,EAAS1I,GAErB8H,EAAY1R,MAAQyR,EAAMzR,MAC1B0R,EAAYzR,MAAQwR,EAAMxR,MAE1B0R,GAAY,IAAIiB,MAAOC,UAEJ,OAAfhB,GACFiB,cAAcjB,IAiDlB,SAASE,EAAUnI,GACjB,GAAI4I,EAAa5I,GAAI,CACnB,IAAI6H,EAAQa,EAAS1I,GAEjBmJ,EAAgB,CAAE/S,MAAOyR,EAAMzR,MAAOC,MAAOwR,EAAMxR,OAEnDmS,EAAcW,EAAc/S,MAAQ0R,EAAY1R,MAChDqS,EAAcU,EAAc9S,MAAQyR,EAAYzR,MAEpD,GAtDJ,SAAiCyH,EAAQ2H,EAAQC,GAC/C,IAAKlL,EAAQqC,SAASiB,GACpB,OAAO,EAKT,IAFA,IAAI2I,EAAS3I,EAEN2I,GAAUA,IAAWjM,GAAS,CACnC,GAAIiM,EAAO7J,UAAUC,SAASZ,EAAYG,WACxC,OAAO,EAGT,IAAIxB,EAAQ3d,EAAIwpB,GAGhB,GAAIf,GAAU9K,EAAM8L,UAAUxmB,MAAM,iBAAkB,CACpD,IAAIymB,EAAeF,EAAOlF,aAAekF,EAAOG,aAChD,GAAID,EAAe,IAEdF,EAAO9M,UAAY,GAAK+L,EAAS,GACjCe,EAAO9M,UAAYgN,GAAgBjB,EAAS,GAE7C,OAAO,EAKb,GAAID,GAAU7K,EAAMiM,UAAU3mB,MAAM,iBAAkB,CACpD,IAAI4mB,EAAgBL,EAAOnF,YAAcmF,EAAOM,YAChD,GAAID,EAAgB,IAEfL,EAAOnE,WAAa,GAAKmD,EAAS,GAClCgB,EAAOnE,WAAawE,GAAiBrB,EAAS,GAE/C,OAAO,EAKbgB,EAASA,EAAOhL,WAGlB,OAAO,EAYDuL,CAAwBhH,EAAElC,OAAQ0K,EAAaC,GACjD,OAGFF,EAAeC,EAAaC,GAC5BX,EAAcqB,EAEd,IAAIC,GAAc,IAAIJ,MAAOC,UAEzBI,EAAUD,EAAcrB,EACxBsB,EAAU,IACZrB,EAAM3Q,EAAImR,EAAca,EACxBrB,EAAMtL,EAAI+L,EAAcY,EACxBtB,EAAYqB,GAxJlB,SAAuB3D,EAAQC,GAC7B,IAAI/L,EAAYlb,KAAKgD,MAAM+Y,EAAQb,WAC/B2I,EAAa9H,EAAQ8H,WACrBgH,EAAa7qB,KAAK2U,IAAIqS,GACtB8D,EAAa9qB,KAAK2U,IAAIsS,GAE1B,GAAI6D,EAAaD,GAGf,GACG5D,EAAS,GAAK/L,IAAcvd,EAAE+iB,cAAgB/iB,EAAEgjB,iBAChDsG,EAAS,GAAmB,IAAd/L,EAGf,OAA0B,IAAnBD,OAAO8P,SAAiB9D,EAAS,GAAKvF,EAAIS,cAE9C,GAAI0I,EAAaC,IAInB9D,EAAS,GAAKnD,IAAelmB,EAAEilB,aAAejlB,EAAE+kB,gBAChDsE,EAAS,GAAoB,IAAfnD,GAEf,OAAO,EAIX,OAAO,EAgID2E,CAAcuB,EAAaC,IAC7BzI,EAAE0E,kBAIR,SAAS0D,IACHhsB,EAAE+gB,SAASsM,cACbP,cAAcjB,GACdA,EAAayB,aAAY,WACnBttB,EAAEutB,cACJT,cAAcjB,GAIXD,EAAM3Q,GAAM2Q,EAAMtL,EAKnBje,KAAK2U,IAAI4U,EAAM3Q,GAAK,KAAQ5Y,KAAK2U,IAAI4U,EAAMtL,GAAK,IAClDwM,cAAcjB,IAIhBM,EAAyB,GAAVP,EAAM3Q,EAAkB,GAAV2Q,EAAMtL,GAEnCsL,EAAM3Q,GAAK,GACX2Q,EAAMtL,GAAK,IAZTwM,cAAcjB,KAaf,QA4CL2B,EAAmB,SAA0BpP,EAASqP,GACxD,IAAI9L,EAASve,KAOb,QANsB,IAAjBqqB,IAA0BA,EAAe,IAEvB,iBAAZrP,IACTA,EAAUO,SAASyL,cAAchM,KAG9BA,IAAYA,EAAQsP,SACvB,MAAM,IAAItO,MAAM,0DAQlB,IAAK,IAAI7d,KALT6B,KAAKgb,QAAUA,EAEfA,EAAQoC,UAAUG,IAAId,GAEtBzc,KAAK2d,SAvCqC,CAC1CG,SAAU,CAAC,aAAc,aAAc,WAAY,QAAS,SAC5D4G,mBAAoB,KACpBD,mBAAoB,KACpB7G,mBAAoB,IACpByE,oBAAqB,EACrBW,oBAAqB,EACrBZ,iBAAiB,EACjBW,iBAAiB,EACjBkH,aAAa,EACbvC,kBAAkB,EAClBnB,kBAAkB,EAClBoB,WAAY,GA4BI0C,EACdrqB,KAAK2d,SAASxf,GAAOksB,EAAalsB,GAGpC6B,KAAK2hB,eAAiB,KACtB3hB,KAAK4f,gBAAkB,KACvB5f,KAAK6hB,aAAe,KACpB7hB,KAAK2f,cAAgB,KAErB,IASM4K,EADAC,EARF3N,EAAQ,WAAc,OAAO7B,EAAQoC,UAAUG,IAAId,EAAUI,QAC7D4N,EAAO,WAAc,OAAOzP,EAAQoC,UAAUlI,OAAOuH,EAAUI,QAEnE7c,KAAKwjB,MAAmC,QAA3B/lB,EAAIud,GAASuK,WACP,IAAfvlB,KAAKwjB,OACPxI,EAAQoC,UAAUG,IAAId,GAExBzc,KAAK0qB,kBACCF,EAAqBxP,EAAQ8H,WAEjC9H,EAAQ8H,YAAc,EACtByH,EAASvP,EAAQ8H,WAAa,EAC9B9H,EAAQ8H,WAAa0H,EACdD,GAETvqB,KAAK6iB,yBAA2B7iB,KAAK0qB,iBACjC1P,EAAQ8G,YAAc9G,EAAQuM,YAC9B,EACJvnB,KAAK4Y,MAAQ,IAAIiG,EACjB7e,KAAKolB,cAAgBpK,EAAQoK,eAAiB7J,SAE9Cvb,KAAKgiB,eAAiB3G,EAAIoB,EAAYE,KAAK,MAC3C3B,EAAQkH,YAAYliB,KAAKgiB,gBACzBhiB,KAAKmkB,WAAa9I,EAAIoB,EAAYC,MAAM,MACxC1c,KAAKgiB,eAAeE,YAAYliB,KAAKmkB,YACrCnkB,KAAKmkB,WAAWwG,aAAa,WAAY,GACzC3qB,KAAK4Y,MAAMxa,KAAK4B,KAAKmkB,WAAY,QAAStH,GAC1C7c,KAAK4Y,MAAMxa,KAAK4B,KAAKmkB,WAAY,OAAQsG,GACzCzqB,KAAKsiB,iBAAmB,KACxBtiB,KAAK0iB,gBAAkB,KACvB1iB,KAAK4iB,eAAiB,KACtB,IAAIgI,EAAantB,EAAIuC,KAAKgiB,gBAC1BhiB,KAAK2jB,iBAAmBhQ,SAASiX,EAAWlH,OAAQ,IAChDpQ,MAAMtT,KAAK2jB,mBACb3jB,KAAKyjB,yBAA0B,EAC/BzjB,KAAK4jB,cAAgBzD,EAAMyK,EAAW3R,MAEtCjZ,KAAKyjB,yBAA0B,EAEjCzjB,KAAKokB,iBACHjE,EAAMyK,EAAWC,iBAAmB1K,EAAMyK,EAAWE,kBAEvD5P,EAAIlb,KAAKgiB,eAAgB,CAAE+I,QAAS,UACpC/qB,KAAKwiB,iBACHrC,EAAMyK,EAAWI,YAAc7K,EAAMyK,EAAWK,aAClD/P,EAAIlb,KAAKgiB,eAAgB,CAAE+I,QAAS,KACpC/qB,KAAKuiB,WAAa,KAClBviB,KAAKyiB,WAAa,KAElBziB,KAAKmiB,eAAiB9G,EAAIoB,EAAYE,KAAK,MAC3C3B,EAAQkH,YAAYliB,KAAKmiB,gBACzBniB,KAAKqkB,WAAahJ,EAAIoB,EAAYC,MAAM,MACxC1c,KAAKmiB,eAAeD,YAAYliB,KAAKqkB,YACrCrkB,KAAKqkB,WAAWsG,aAAa,WAAY,GACzC3qB,KAAK4Y,MAAMxa,KAAK4B,KAAKqkB,WAAY,QAASxH,GAC1C7c,KAAK4Y,MAAMxa,KAAK4B,KAAKqkB,WAAY,OAAQoG,GACzCzqB,KAAKijB,iBAAmB,KACxBjjB,KAAKqjB,iBAAmB,KACxBrjB,KAAKsjB,cAAgB,KACrB,IAAI4H,EAAaztB,EAAIuC,KAAKmiB,gBAC1BniB,KAAKgkB,gBAAkBrQ,SAASuX,EAAWnH,MAAO,IAC9CzQ,MAAMtT,KAAKgkB,kBACbhkB,KAAK8jB,wBAAyB,EAC9B9jB,KAAKkkB,eAAiB/D,EAAM+K,EAAWlR,OAEvCha,KAAK8jB,wBAAyB,EAEhC9jB,KAAKikB,qBAAuBjkB,KAAKwjB,MAr6BnC,SAAoBxI,GAClB,IAAImQ,EAAS1tB,EAAIud,GACjB,OACEmF,EAAMgL,EAAOlR,OACbkG,EAAMgL,EAAOC,aACbjL,EAAMgL,EAAOE,cACblL,EAAMgL,EAAON,iBACb1K,EAAMgL,EAAOL,kBA85B0BQ,CAAWtrB,KAAKqkB,YAAc,KACvErkB,KAAKskB,iBACHnE,EAAM+K,EAAWK,gBAAkBpL,EAAM+K,EAAWM,mBACtDtQ,EAAIlb,KAAKmiB,eAAgB,CAAE4I,QAAS,UACpC/qB,KAAKmjB,kBACHhD,EAAM+K,EAAWO,WAAatL,EAAM+K,EAAWQ,cACjDxQ,EAAIlb,KAAKmiB,eAAgB,CAAE4I,QAAS,KACpC/qB,KAAKkjB,YAAc,KACnBljB,KAAKojB,WAAa,KAElBpjB,KAAK+f,MAAQ,CACXlI,EACEmD,EAAQ8H,YAAc,EAClB,QACA9H,EAAQ8H,YAAc9iB,KAAK6hB,aAAe7hB,KAAK2hB,eAC/C,MACA,KACNzE,EACElC,EAAQb,WAAa,EACjB,QACAa,EAAQb,WAAana,KAAK2f,cAAgB3f,KAAK4f,gBAC/C,MACA,MAGR5f,KAAK0d,SAAU,EAEf1d,KAAK2d,SAASG,SAASyC,SAAQ,SAAUoL,GAAe,OAAO7N,EAAS6N,GAAapN,MAErFve,KAAK4rB,cAAgB3sB,KAAKgD,MAAM+Y,EAAQb,WACxCna,KAAK6rB,eAAiB7Q,EAAQ8H,WAC9B9iB,KAAK4Y,MAAMxa,KAAK4B,KAAKgb,QAAS,UAAU,SAAUwF,GAAK,OAAOjC,EAAOuN,SAAStL,MAC9Ee,EAAevhB,OAGjBoqB,EAAiB5rB,UAAUutB,OAAS,WAC7B/rB,KAAK0d,UAKV1d,KAAK6iB,yBAA2B7iB,KAAK0qB,iBACjC1qB,KAAKgb,QAAQ8G,YAAc9hB,KAAKgb,QAAQuM,YACxC,EAGJrM,EAAIlb,KAAKgiB,eAAgB,CAAE+I,QAAS,UACpC7P,EAAIlb,KAAKmiB,eAAgB,CAAE4I,QAAS,UACpC/qB,KAAKwiB,iBACHrC,EAAM1iB,EAAIuC,KAAKgiB,gBAAgBgJ,YAC/B7K,EAAM1iB,EAAIuC,KAAKgiB,gBAAgBiJ,aACjCjrB,KAAKmjB,kBACHhD,EAAM1iB,EAAIuC,KAAKmiB,gBAAgBsJ,WAC/BtL,EAAM1iB,EAAIuC,KAAKmiB,gBAAgBuJ,cAGjCxQ,EAAIlb,KAAKgiB,eAAgB,CAAE+I,QAAS,SACpC7P,EAAIlb,KAAKmiB,eAAgB,CAAE4I,QAAS,SAEpCxJ,EAAevhB,MAEfof,EAAkBpf,KAAM,MAAO,GAAG,GAAO,GACzCof,EAAkBpf,KAAM,OAAQ,GAAG,GAAO,GAE1Ckb,EAAIlb,KAAKgiB,eAAgB,CAAE+I,QAAS,KACpC7P,EAAIlb,KAAKmiB,eAAgB,CAAE4I,QAAS,OAGtCX,EAAiB5rB,UAAUstB,SAAW,SAAmBtL,GAClDxgB,KAAK0d,UAIV6D,EAAevhB,MACfof,EAAkBpf,KAAM,MAAOA,KAAKgb,QAAQb,UAAYna,KAAK4rB,eAC7DxM,EACEpf,KACA,OACAA,KAAKgb,QAAQ8H,WAAa9iB,KAAK6rB,gBAGjC7rB,KAAK4rB,cAAgB3sB,KAAKgD,MAAMjC,KAAKgb,QAAQb,WAC7Cna,KAAK6rB,eAAiB7rB,KAAKgb,QAAQ8H,aAGrCsH,EAAiB5rB,UAAUyW,QAAU,WAC9BjV,KAAK0d,UAIV1d,KAAK4Y,MAAM6F,YACXvJ,EAAOlV,KAAKmkB,YACZjP,EAAOlV,KAAKqkB,YACZnP,EAAOlV,KAAKgiB,gBACZ9M,EAAOlV,KAAKmiB,gBACZniB,KAAKgsB,kBAGLhsB,KAAKgb,QAAU,KACfhb,KAAKmkB,WAAa,KAClBnkB,KAAKqkB,WAAa,KAClBrkB,KAAKgiB,eAAiB,KACtBhiB,KAAKmiB,eAAiB,KAEtBniB,KAAK0d,SAAU,IAGjB0M,EAAiB5rB,UAAUwtB,gBAAkB,WAC3ChsB,KAAKgb,QAAQM,UAAYtb,KAAKgb,QAAQM,UACnC2Q,MAAM,KACN3P,QAAO,SAAUnf,GAAQ,OAAQA,EAAKuD,MAAM,oBAC5CmD,KAAK,M,UAGKumB,G,cC3zCfztB,EAAOD,QAAUwvB,G,cCAjBvvB,EAAOD,QAAUyvB,G,eCAjBxvB,EAAOD,QAAU0vB,G,cCAjBzvB,EAAOD,QAAU2vB,G,cCAjB1vB,EAAOD,QAAU4vB,G,cCAjB3vB,EAAOD,QAAU6vB,G,cCAjB5vB,EAAOD,QAAU8vB,G,cCAjB7vB,EAAOD,QAAU+vB,G,cCAjB9vB,EAAOD,QAAUgwB,G,cCAjB/vB,EAAOD,QAAUiwB,G,cCAjBhwB,EAAOD,QAAUkwB,G,qCCAjB1Y,EAAO,CACL,KACA,KACA,KACA,YAJF,gBAMUI,EAAGuY,EAAGC,EAASC,GAGvB,SAASC,EAAuBhS,EAASpC,EAAOJ,GAC9C,IAAIyU,EAAWH,EAAQ9R,QAAQO,UAAU0R,WACrCC,EAAU3R,SAASC,cAAc,OACrC0R,EAAQC,UAAY,6EAEpBF,EAASG,OAAO,CAAC,WAAY,aAAc,SAASC,EAAUC,GAC5D,IAAIC,EAAe/U,EAAKgV,aAAaC,OAAOC,QACxCC,EAAWL,EAAWM,MAAK,GAC/BD,EAAS/U,MAAQA,EACjB+U,EAASE,OAAS,WAChBN,EAAaO,UAAUlV,IAGzByU,EAASH,EAATG,CAAkBM,GAClBA,EAASI,UACTJ,EAASK,WAET,IAAIC,EAAO,IAAIlB,EAAK,CAClBzO,OAAQtD,EAAQ,GAChBkS,QAASA,EACTgB,SAAU,gBACVC,QAAS,wCACTC,OAAQ,QACRC,gBAAiB,IACjBC,cAAe,CACbC,YAAa,CAAC,CAACC,GAAI,SAAUC,KAAK,EAAMC,WAAY,YAIxDT,EAAKU,OAELV,EAAKW,GAAG,SAAS,WACfnR,YAAW,WACTwQ,EAAKhZ,mBAMb,IAAI4Z,EAA0B,KAE9B,SAASC,EAAkB9T,EAASpC,EAAOJ,GACzC,IAAI+U,EAAe/U,EAAKgV,aAAaC,OAAOC,QACxCH,EAAawB,WAGfF,EAA0B7T,GAK5BuS,EAAayB,eAEbH,EAA0B7T,EAG1ByC,YAAW,WAET,IAAIwP,EAAWH,EAAQ9R,QAAQO,UAAU0R,WACrCC,EAAU3R,SAASC,cAAc,OACrC0R,EAAQC,UAAY,qFAEpBF,EAASG,OAAO,CAAC,WAAY,aAAc,SAASC,EAAUC,GAC5D,IACIW,EADAtZ,EAAQ2Y,EAAWM,MAAK,GAG5BjZ,EAAMiE,MAAQA,EACdjE,EAAMsa,UAAY1B,EAAa0B,UAC/Bta,EAAMua,MAAQ,WACZjB,EAAKiB,SAGP7B,EAASH,EAATG,CAAkB1Y,GAClBA,EAAMoZ,WAENE,EAAO,IAAIlB,EAAK,CACdzO,OAAQuQ,EAAwB,GAChC3B,QAASA,EACTgB,SAAU,gBACVC,QAAS,kCACTC,OAAQ,QACRE,cAAe,CACbC,YAAa,CAAC,CAACC,GAAI,SAAUC,KAAK,EAAMC,WAAY,aAInDC,OACLpB,EAAayB,eAEbf,EAAKW,GAAG,SAAS,WAEfnR,YAAW,WACT8P,EAAa4B,eACbxa,EAAMqZ,WACNC,EAAKhZ,qBAKV,MAqBL,IAAIma,EAAgB,SAAS9wB,EAAQ+wB,EAAUC,EAAWC,EAAUvV,EAAMf,EAAKgB,EAAOf,GACpF,IAAIsW,EAAUlxB,EACVmxB,EAAYJ,EACZK,EAAaJ,EACbK,EAAYJ,EACZK,EAAY,CAAE5V,KAAMA,EAAMf,IAAKA,GAC/B4W,EAAS5V,EACT6V,EAAU5W,EAEdlZ,KAAKia,MAAQ,WAAa,OAAO4V,GACjC7vB,KAAKkZ,OAAS,WAAa,OAAO4W,GAClC9vB,KAAKkuB,SAAW,WAAa,OAAO0B,GACpC5vB,KAAK+vB,KAAO,WAAaN,EAAUD,IACnCxvB,KAAKmZ,MAAQ,WAAauW,EAAWF,IACrCxvB,KAAKgwB,UAAY,WAAa,OAAOR,GACrCxvB,KAAKiwB,OAAS,SAAS/B,GAErByB,EAAUH,EADVI,EAAY1B,KAQZgC,EAAc,SAAStW,EAASuW,GAClC,IACIC,EAAWxW,EACXyW,EAAiBF,EACjBG,GAAU,EAEdtwB,KAAKuwB,OAAS,WAAa,OAAOF,GAClCrwB,KAAKwtB,WAAa,WAAa,OAAO4C,GACtCpwB,KAAKwwB,UAAY,aACjBxwB,KAAKywB,SAAW,WAAa,OAAOH,GACpCtwB,KAAK0wB,KAAO,WAAaJ,GAAU,GACnCtwB,KAAK2wB,OAAS,WAAaL,GAAU,IAMnCM,EAAe,SAASpY,GAC1B,IAAIqY,EAAU,GAEd7wB,KAAK8wB,OAAS,GACd9wB,KAAK+wB,MAAQvY,EACbxY,KAAKgxB,eAAgB,EAErBhxB,KAAKixB,UAAY,WACf,OAAOJ,GAGT7wB,KAAKkxB,SAAW,SAASC,GACvB,OAAOnxB,KAAK8wB,OAASK,GAMvBnxB,KAAKoxB,YAAc,SAAS3D,GAC1B,IAAI4D,EAAOrxB,KACPsxB,EAAQzE,EAAE0E,UAAU9D,EAAQ,YAC5B+D,EAAUF,EAAM,GACpB7D,EAAS6D,EAAM,GAEfhd,EAAEmd,KAAKhE,GAAQ,SAASpV,EAAOO,GAC7B,IAAI8Y,EAAK,IAAIxB,EAAYtX,EAAOyY,EAAKM,UAAU/Y,IAC/CiY,EAAQxrB,KAAKqsB,MAGfpd,EAAEmd,KAAKD,GAAS,SAAUnZ,EAAOO,GAC/B,IAAIgZ,EAAM,IAAI1B,EAAYtX,EAAOyY,EAAKQ,aAAajZ,IACnDiY,EAAQxrB,KAAKusB,MAGff,EAAQnW,MAAK,SAASta,EAAGD,GACvB,IAAI2xB,EAAK1xB,EAAEotB,aAAcuE,EAAK5xB,EAAEqtB,aAChC,OAAIsE,EAAGtyB,IAAMuyB,EAAGvyB,IAAc,EAC1BsyB,EAAGtyB,IAAMuyB,EAAGvyB,KAAe,EACxB,MAOXQ,KAAKgyB,WAAa,WAChB,IAAIX,EAAOrxB,KAGXsU,EAAEmd,KAAKZ,GAAS,SAASxY,EAAOO,GAE1ByY,EAAKY,YAAYrZ,EAAM4U,aAAahuB,OAASoZ,EAAM6X,WACrD7X,EAAM2X,SAASR,OAEfnX,EAAM2X,SAASP,YAAYU,WAQjC1wB,KAAKkyB,aAAe,WAClB,IACoClY,EAAMf,EADtCoY,EAAOrxB,KACP3C,EAAI2C,KAAK+wB,MAAMoB,gBACfC,EAAQpyB,KAAK+wB,MAAMpX,WAAW3Z,KAAK+wB,MAAMvD,aAAaC,OAAO2E,MAAQ,GAEzE9d,EAAEmd,KAAKZ,GAAS,SAASxY,EAAOO,GAC9BK,EAAM5b,EAAE4b,IAAMoY,EAAKN,MAAM7X,SAAWN,EAAM2X,SAASrX,SACnDc,EAAOoY,EAAMC,IAAIzZ,EAAM4U,aAAahuB,KAAOnC,EAAE2c,KAAOpB,EAAM2X,SAAStW,QAAU,EAC7ErB,EAAM2X,SAASN,OAAO,CAAEhX,IAAKA,EAAKe,KAAMA,QAO5Cha,KAAKsyB,aAAe,WAClBhe,EAAEmd,KAAKZ,GAAS,SAASxY,EAAOxE,GAC9BA,EAAI0c,SAASpX,WAEf0X,EAAU,IAMZ7wB,KAAK2xB,UAAY,SAAS/Y,GACxB,IAMWK,EAAKe,EAAMla,EAAOyyB,EAAYC,EAAYC,EAAWC,EAC5DC,EAPAtB,EAAOrxB,KAEP4yB,EAAY5yB,KAAK+wB,MAAM8B,iBACvBx1B,EAAI2C,KAAK+wB,MAAMoB,gBACfW,EAAO9yB,KAAK+wB,MAAMgC,UAClBX,EAAQpyB,KAAK+wB,MAAMpX,WAAW3Z,KAAK+wB,MAAMvD,aAAaC,OAAO2E,MAAQ,GAKrEU,EAAK3b,OAAS2b,EAAK3b,MAAM6b,MAAgBF,EAAK3b,MAC9C2b,EAAKG,QAAUH,EAAKG,OAAOD,MAAgBF,EAAKG,OAGpD,IAAIC,EAActa,EAAMua,UAKtBrzB,EAHkB,OAAhBE,KAAK8wB,QAAoB9wB,KAAK8wB,OAAOoC,IAAiBlzB,KAAK8wB,OAAOoC,GAAapzB,MAGzEE,KAAK8wB,OAAOoC,GAAapzB,MAFzB,OAQRyyB,EAHkB,OAAhBvyB,KAAK8wB,QAAoB9wB,KAAK8wB,OAAOoC,IAAiBlzB,KAAK8wB,OAAOoC,GAAaX,WAGpEvyB,KAAK8wB,OAAOoC,GAAaX,WAFzB,EAQbC,EAHkB,OAAhBxyB,KAAK8wB,SAAoB9wB,KAAK8wB,OAAOoC,SAAwD/T,IAAxCnf,KAAK8wB,OAAOoC,GAAaV,YAGnExyB,KAAK8wB,OAAOoC,GAAaV,WAMtCG,EAHkB,OAAhB3yB,KAAK8wB,SAAoB9wB,KAAK8wB,OAAOoC,SAA2D/T,IAA3Cnf,KAAK8wB,OAAOoC,GAAaP,eAGhE3yB,KAAK8wB,OAAOoC,GAAaP,cAMzCF,EAHiB,MAAfzyB,KAAK8wB,QAAmB9wB,KAAK8wB,OAAOoC,IAAiBlzB,KAAK8wB,OAAOoC,GAAaT,UAGpEzyB,KAAK8wB,OAAOoC,GAAaT,UAAUhyB,cAFnC,SAQZiyB,EAHiB,MAAf1yB,KAAK8wB,QAAmB9wB,KAAK8wB,OAAOoC,SAAuD/T,IAAvCnf,KAAK8wB,OAAOoC,GAAaR,UAGnE1yB,KAAK8wB,OAAOoC,GAAaR,UAFzB,EAKd,IAAIU,EAAYhB,EAAMxY,QAAQyZ,oBAAsB,EACpDD,GAAwB,EAExBna,EAAM5b,EAAE4b,IAAMjZ,KAAK+wB,MAAM7X,SAAWka,EACpCpZ,EAAOoY,EAAMC,IAAIzZ,EAAMpZ,KAAOnC,EAAE2c,KAEhC,IAAIsZ,EAAOhf,EAAE,kDAAkDif,IAAI,CACjE,SAAY,WACZ,QAAW,GACX,KAAQvZ,EAAO,KACf,IAAO,EACP,MAAS0Y,EAAY,KACrB,OAAU1yB,KAAK+wB,MAAM7X,SAAuB,GAAZka,EAChC,oBAAqBV,EAAY,KACjC,oBAAqBD,EACrB,oBAAqB3yB,EACrB,MAASA,IAEV0zB,SAASZ,GAEV,GAAIJ,EAAY,CACd,IAAIiB,EAASnf,EAAE,qCAAqCif,IAAI,CACtD,SAAY,WACZ,MAAUhB,EAAatzB,KAAKK,MAAMozB,EAAY,GAAM,KACpD,YAAa,EACb,cAAe,EACf,MAAS,EACT,OAAU,EACV,cAAeH,EAAW,uBAC1B,eAAgBA,EAAW,yBAG7BkB,EAAOD,SAASF,GAEZtzB,KAAK8wB,OAAOoC,IAAgBlzB,KAAK8wB,OAAOoC,GAAahF,UAAgE,WAApDluB,KAAK8wB,OAAOoC,GAAahF,SAAS7kB,cACrGoqB,EAAOF,IAAI,CACT,IAAOta,EAAIsZ,EAAW,EAAG,KACzB,aAAc,OACd,gBAAiBA,EAAW,YAAczyB,IAG5C2zB,EAAOF,IAAI,CACT,IAAO,MACP,aAAchB,EAAW,YAAczyB,EACvC,gBAAiB,SAIrB2zB,EAAOrd,KAAK,CACV,MAASwC,IAOPA,EAAM8a,WACR5E,EAAkB2E,EAAQ7a,EAAM8a,UAAWrC,EAAKN,OAO9C4B,IACFc,EAAOF,IAAI,CAAE,OAAU,SACvBE,EAAOE,OAdQ,WACf3G,EAAuByG,EAAQnf,EAAEtU,MAAMoW,KAAK,SAAUib,EAAKN,UAO5C,WACfM,EAAKN,MAAM6C,qBAyBf,OAhBoB,IAAIxE,EACtBkE,GACA,SAAkBnY,GAAOA,EAAIrC,UAC7B,SAASqC,GAAOA,EAAIjG,YACpB,SAASiG,EAAK+S,GACZ/S,EAAIoY,IAAI,CACNta,IAAKiV,EAASjV,IACde,KAAMkU,EAASlU,SAGnBA,EACAf,EACAqa,EAAKrZ,QACLqZ,EAAKpa,WASTlZ,KAAK6xB,aAAe,SAAUjZ,GAC5B,IAMWK,EAAKe,EAAM0Y,EAAWmB,EAAapB,EAAW3yB,EAAO6yB,EAN5DtB,EAAOrxB,KAEP4yB,EAAY5yB,KAAK+wB,MAAM8B,iBACvBx1B,EAAI2C,KAAK+wB,MAAMoB,gBACfW,EAAO9yB,KAAK+wB,MAAMgC,UAClBX,EAAQpyB,KAAK+wB,MAAMpX,WAAW3Z,KAAK+wB,MAAMvD,aAAaC,OAAO2E,MAAQ,GAIrEU,EAAK3b,OAAS2b,EAAK3b,MAAM6b,MAAgBF,EAAK3b,MAC9C2b,EAAKG,QAAUH,EAAKG,OAAOD,MAAgBF,EAAKG,OAGpD,IAAIC,EAActa,EAAMua,UAKtBrzB,EAHkB,OAAhBE,KAAK8wB,QAAoB9wB,KAAK8wB,OAAOoC,IAAiBlzB,KAAK8wB,OAAOoC,GAAapzB,MAGzEE,KAAK8wB,OAAOoC,GAAapzB,MAFzB,OAQR6yB,EAHkB,OAAhB3yB,KAAK8wB,SAAoB9wB,KAAK8wB,OAAOoC,SAA2D/T,IAA3Cnf,KAAK8wB,OAAOoC,GAAaP,eAGhE3yB,KAAK8wB,OAAOoC,GAAaP,cAMzCD,EAHiB,MAAf1yB,KAAK8wB,QAAmB9wB,KAAK8wB,OAAOoC,SAAuD/T,IAAvCnf,KAAK8wB,OAAOoC,GAAaR,UAGnE1yB,KAAK8wB,OAAOoC,GAAaR,UAFzB,EAQZD,EAHiB,MAAfzyB,KAAK8wB,QAAmB9wB,KAAK8wB,OAAOoC,IAAiBlzB,KAAK8wB,OAAOoC,GAAaT,UAGpEzyB,KAAK8wB,OAAOoC,GAAaT,UAAUhyB,cAFnC,SAMdwY,EAAM5b,EAAE4b,IAAMjZ,KAAK+wB,MAAM7X,SADT,EAGhB,IAAI4a,EAAW70B,KAAKO,IAAIoZ,EAAMpZ,IAAKoZ,EAAMmb,SACrCC,EAAS/0B,KAAKS,IAAIkZ,EAAMpZ,IAAKoZ,EAAMmb,SACvC/Z,EAAOoY,EAAMC,IAAIyB,GAAYz2B,EAAE2c,KAC/B,IAAI+J,EAAQqO,EAAMC,IAAI2B,GAAU32B,EAAE2c,KAClC6Z,EAAc9P,EAAQ/J,EAEtB6S,EAAE4E,KAAK,CAACzX,EAAM+J,IAAQ,SAASmK,GAClB5Z,EAAE,kDAAkDif,IAAI,CACjE,SAAY,WACZ,QAAW,GACX,KAAQrF,EAAW,KACnB,IAAO,EACP,MAASwE,EAAY,KACrB,OAAUrB,EAAKN,MAAM7X,SAhBT,EAiBZ,oBAAqBwZ,EAAY,KACjC,oBAAqBD,EACrB,oBAAqB3yB,EACrB,MAASA,IAEN0zB,SAASZ,MAGhB,IAAIqB,EAAS3f,EAAE,kEAAkEif,IAAI,CACnF,SAAY,WACZ,QAAW,GACX,KAAQvZ,EAAO,KACf,IAAOf,EACP,MAASha,KAAKK,MAAMu0B,EAAcnB,GAAa,KAC/C,OAAU,SACV,oBAAqB5yB,EACrB,MAASA,EACT,mBAAoBA,IAEtBm0B,EAAOT,SAASZ,GAEhBqB,EAAO7d,KAAK,CACV,MAASwC,IAOPA,EAAM8a,WACR5E,EAAkBmF,EAAQrb,EAAM8a,UAAWrC,EAAKN,OA4BlD,OArBI4B,IACFsB,EAAOV,IAAI,CAAE,OAAU,SACvBU,EAAON,OAdQ,WACf3G,EAAuBiH,EAAQ3f,EAAEtU,MAAMoW,KAAK,SAAUib,EAAKN,UAO5C,WACfM,EAAKN,MAAM6C,qBAQO,IAAIxE,EACtB6E,GACA,SAAkB9Y,GAAOA,EAAIrC,UAC7B,SAAUqC,GAAOA,EAAIjG,YACrB,SAAUiG,EAAK+S,GACb/S,EAAIoY,IAAI,CACNta,IAAKiV,EAASjV,IACde,KAAMkU,EAASlU,SAGnBA,EACAf,EACAgb,EAAOha,QACPga,EAAO/a,WASXlZ,KAAKiyB,YAAc,SAASpa,GAC1B,IAAIua,EAAQpyB,KAAK+wB,MAAMpX,WAAW3Z,KAAK+wB,MAAMvD,aAAaC,OAAO2E,MAAQ,GACrE8B,EAAK9B,EAAMC,IAAIxa,GACnB,OAAOqc,EAAK,GAAKA,EAAK9B,EAAMC,IAAID,EAAM1yB,OAuE1C4U,EAAEkE,KAAK2b,QAAQ9uB,KAAK,CAClB+uB,KAjEF,SAAc5b,GAEZ,IAAI6Y,EAAOrxB,KACPq0B,EAAe,IAAIzD,EAAapY,GAEpCA,EAAKyY,UAAY,WACf,OAAOoD,EAAaxD,SAGtBrY,EAAK8b,WAAa,WAChBhgB,EAAEmd,KAAK4C,EAAaxD,SAAS,SAASxY,EAAOO,GAC3CA,EAAM2X,SAASP,YAAYU,WAI/BlY,EAAK+b,WAAa,WAChB/b,EAAK8b,aACLhgB,EAAEmd,KAAK4C,EAAaxD,SAAS,SAASxY,EAAOO,GAC3CA,EAAM8X,UAGRW,EAAKgD,aAAarC,cAIpBxZ,EAAKgc,UAAY,SAAS/G,GACpB4G,EAAarD,eACfqD,EAAajD,YAAY3D,IAI7BjV,EAAKic,MAAMC,eAAervB,MAAK,SAASmT,EAAMoB,GAEjB,MAAvBA,EAAQ6T,OAAOrX,OACjBie,EAAarD,eAAgB,MAIjCxY,EAAKic,MAAM1E,KAAK1qB,MAAK,SAASmT,GAC5B,IAAIoB,EAAUpB,EAAKgV,aAEf6G,EAAarD,gBAEXqD,EAAapD,YAAYpnB,OAAS,GACpCwqB,EAAanD,SAAStX,EAAQ6T,OAAO0D,OACrCkD,EAAajD,YAAYxX,EAAQ6T,OAAOrX,OAExCie,EAAanC,gBAIjBmC,EAAarC,iBAefpY,QAXmB,CACnB6T,OAAQ,CACNrX,KAAM,KACN+a,MAAO,KACPiB,MAAO,EACPlE,SAAU,WAOZ/wB,KAAM,SACNw3B,QAAS,WAzlBb,4B,mPCIIzgB,EAAO,CAAC,YAAR,4BAMI,SAAS0gB,GAKjB,IAAIC,EAAQC,SAASt2B,UAAUJ,KAE3B22B,EAAib,SAAUC,EAAKp4B,GAAK,GAAIyf,MAAM4Y,QAAQD,GAAQ,OAAOA,EAAY,GAAIr3B,OAAOu3B,YAAY53B,OAAO03B,GAAQ,OAAxf,SAAuBA,EAAKp4B,GAAK,IAAIu4B,EAAO,GAAQC,GAAK,EAAUC,GAAK,EAAWC,OAAKnW,EAAW,IAAM,IAAK,IAAiCoW,EAA7BC,EAAKR,EAAIr3B,OAAOu3B,cAAmBE,GAAMG,EAAKC,EAAGC,QAAQC,QAAoBP,EAAK9vB,KAAKkwB,EAAG13B,QAAYjB,GAAKu4B,EAAKtrB,SAAWjN,GAA3Dw4B,GAAK,IAAoE,MAAOO,GAAON,GAAK,EAAMC,EAAKK,EAAtL,QAAuM,KAAWP,GAAMI,EAAA,QAAcA,EAAA,SAA/B,QAA2D,GAAIH,EAAI,MAAMC,GAAQ,OAAOH,EAA6HS,CAAcZ,EAAKp4B,GAAa,MAAM,IAAIi5B,UAAU,yDAEnlBC,EAAgB,WAAc,SAASlX,EAAiBN,EAAQyX,GAAS,IAAK,IAAIn5B,EAAI,EAAGA,EAAIm5B,EAAMlsB,OAAQjN,IAAK,CAAE,IAAIo5B,EAAaD,EAAMn5B,GAAIo5B,EAAWx4B,WAAaw4B,EAAWx4B,aAAc,EAAOw4B,EAAW/X,cAAe,EAAU,UAAW+X,IAAYA,EAAWC,UAAW,GAAM34B,OAAOC,eAAe+gB,EAAQ0X,EAAW73B,IAAK63B,IAAiB,OAAO,SAAUE,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYvX,EAAiBsX,EAAY13B,UAAW23B,GAAiBC,GAAaxX,EAAiBsX,EAAaE,GAAqBF,GAA7gB,GAEhBG,EAAO,SAAaC,EAAKC,EAAKC,GAAqC,IAA9B,IAAIC,GAAS,EAAwBA,GAAQ,CAAE,IAAIn4B,EAASg4B,EAAK/3B,EAAWg4B,EAAKG,EAAWF,EAAKC,GAAS,EAAsB,OAAXn4B,IAAiBA,EAASw2B,SAASt2B,WAAW,IAAIm4B,EAAOr5B,OAAOs5B,yBAAyBt4B,EAAQC,GAAW,QAAa4gB,IAATwX,EAAJ,CAA6O,GAAI,UAAWA,EAAQ,OAAOA,EAAK94B,MAAgB,IAAIT,EAASu5B,EAAKl5B,IAAK,QAAe0hB,IAAX/hB,EAAwB,OAAoB,OAAOA,EAAOL,KAAK25B,GAAhW,IAAIG,EAASv5B,OAAOw5B,eAAex4B,GAAS,GAAe,OAAXu4B,EAAmB,OAA2BP,EAAMO,EAAQN,EAAMh4B,EAAUi4B,EAAME,EAAUD,GAAS,EAAME,EAAOE,OAAS1X,IAE/c,SAAS4X,EAAgBC,EAAUd,GAAe,KAAMc,aAAoBd,GAAgB,MAAM,IAAIL,UAAU,qCAEhH,SAASoB,EAAUC,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAItB,UAAU,qEAAoEsB,EAApE,cAAoEA,KAAeD,EAAS14B,UAAYlB,OAAOY,OAAOi5B,GAAcA,EAAW34B,UAAW,CAAE44B,YAAa,CAAEv5B,MAAOq5B,EAAU15B,YAAY,EAAOy4B,UAAU,EAAMhY,cAAc,KAAekZ,IAAY75B,OAAO+5B,eAAiB/5B,OAAO+5B,eAAeH,EAAUC,GAAcD,EAASI,UAAYH,GAEje,IAAII,EAAgB3C,EAAO4C,MACvBC,EAASF,EAAcE,OACvBC,EAAWH,EAAcG,SACzBC,EAAcJ,EAAcI,YAC5BC,EAAWL,EAAcK,SACzBC,EAAUN,EAAcM,QAE5B,SAASC,EAAWC,GAClB,IAAIC,EAAaD,EAAI9L,MAAM,KAEvBgM,EAAclD,EAAeiD,EAAY,GAEzCE,EAAQD,EAAY,GACpBE,EAASF,EAAY,GAEzB,GAAI,CAAC,OAAQ,SAAS1kB,QAAQ2kB,IAAU,EAAG,CACzC,IAAIE,EAAO,CAACD,EAAQD,GACpBA,EAAQE,EAAK,GACbD,EAASC,EAAK,GAEhB,MAAO,CAACF,EAAOC,GAAQt0B,KAAK,KAG9B,SAASw0B,EAAgBrD,EAAKnc,GAG5B,IAFA,IAAIR,OAAQ8G,EACRla,EAAU,IAC0B,KAAhCoT,EAAQ2c,EAAIzhB,QAAQsF,KAC1B5T,EAAQI,KAAK2vB,EAAI1U,OAAOjI,EAAO,IAEjC,OAAOpT,EAGT,IAAIqzB,EAAc,CAAC,SACf,iBAAkB/c,SAASsF,iBAC7ByX,EAAYjzB,KAAK,cAGnB,IAAIkzB,EAAsB,CACxB,iBAAoB,sBACpB,cAAiB,gBACjB,YAAe,iBACf,WAAc,iBAGZC,EAAqB,GACzB,IAAK,IAAIC,KAASF,GACX,IAAI95B,eAAe1B,KAAKw7B,EAAqBE,SAEb,IADtBld,SAASC,cAAc,KAClBJ,MAAMqd,KACtBD,EAAqBD,EAAoBE,IAK/C,IAAIC,EAAgB,CAClB1e,KAAM,QACN+J,MAAO,OACP9K,IAAK,SACLyK,OAAQ,MACRzN,OAAQ,SACR0iB,OAAQ,UAGNC,EAAW,GA8cX7L,EAzcJ,SAAS8L,IACP,IAAIjf,EAAU3R,UAAU4B,QAAU,QAAsBsV,IAAjBlX,UAAU,GAAmB,GAAKA,UAAU,GAE/EgmB,EAAO,WACT,IAAK,IAAI6K,EAAO7wB,UAAU4B,OAAQhC,EAAOwU,MAAMyc,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC3ElxB,EAAKkxB,GAAQ9wB,UAAU8wB,GAGzB,OAAO,IAAKlE,EAAM/sB,MAAMkxB,EAAc,CAAC,MAAMjxB,OAAOF,MAGtD4vB,EAAOxJ,EAAM,CACX4K,cAAeA,EACfI,MAAO,GACPC,SAAU,KAGZ,IAAIC,EAAiB,CACnBC,YAAa,OACbF,SAAU,CACRhL,SAAU,cACVE,OAAQ,QACRiL,YAAa,KACbC,yBAAyB,EACzBC,mBAAmB,EACnBpL,QAAS,GACTjZ,QAAQ,EACRskB,UAAW,EACXC,WAAY,GAEZC,WAAY,KACZC,UAAW,KACXC,eAAgB,KAChBvL,gBAAiB,KACjBC,cAAe,KAInBmJ,EAAOxJ,EAAMkL,EAAgBvf,GAC7B6d,EAAOxJ,EAAKiL,SAAUC,EAAeD,SAAUtf,EAAQsf,eAEb,IAA/BN,EAAS3K,EAAKmL,eACvBR,EAAS3K,EAAKmL,aAAe,IAG/BnL,EAAK4L,kBAAoB,WAOvB,IAHA,IAAIC,GAAU,EACVb,EAAQL,EAAS3K,EAAKmL,aACtBzjB,EAAMsjB,EAAMpvB,OACPjN,EAAI,EAAGA,EAAI+Y,IAAO/Y,EACzB,GAAIq8B,EAAMr8B,GAAGm9B,WAAY,CACvBD,GAAU,EACV,MAIAA,EACFpC,EAASnc,SAASye,KAAM/L,EAAKmL,YAAc,SAE3CzB,EAAYpc,SAASye,KAAM/L,EAAKmL,YAAc,UAIlD,IAAIJ,EAAgB,SAAUiB,GAG5B,SAASjB,EAAaj5B,GAOpB,GANAg3B,EAAgB/2B,KAAMg5B,GAEtB3C,EAAK/4B,OAAOw5B,eAAekC,EAAax6B,WAAY,cAAewB,MAAMjD,KAAKiD,MAC9EA,KAAK4Z,QAAU6d,EAAO,GAAIxJ,EAAKiL,SAAUn5B,GACzCC,KAAKse,OAASte,KAAK4Z,QAAQ0E,YAEA,IAAhBte,KAAKse,OACd,MAAM,IAAItC,MAAM,0CAGlB,IAAIke,EAAa,QAAUjM,EAAKmL,YAE5Be,EAAcn6B,KAAKse,OAAO8b,aAAaF,GACvCC,GAAuC,MAAxBn6B,KAAK4Z,QAAQsT,UAC9BltB,KAAK4Z,QAAQsT,QAAUiN,GAIzB,IADA,IAAIE,EAAgB,CAAC,WAAY,UACxBz9B,EAAI,EAAGA,EAAIy9B,EAAcxwB,SAAUjN,EAAG,CAE7C,IAAI09B,EAAWt6B,KAAKse,OAAO8b,aAAaF,EAAa,IAAMG,EAAcz9B,IACrE09B,GAA8C,MAAlCt6B,KAAK4Z,QAAQygB,EAAcz9B,MACzCoD,KAAK4Z,QAAQygB,EAAcz9B,IAAM09B,GAIjCt6B,KAAK4Z,QAAQuU,UAA6C,IAAlCnuB,KAAK4Z,QAAQ2gB,kBACvC7C,EAAS13B,KAAKse,OAAQte,KAAK4Z,QAAQuU,SAGrCF,EAAKgL,MAAM5zB,KAAKrF,MAChB44B,EAAS3K,EAAKmL,aAAa/zB,KAAKrF,MAEhCA,KAAKw6B,aAAe,GACpBx6B,KAAKy6B,cACLz6B,KAAK06B,gBACL16B,KAAKoxB,cACLpxB,KAAK26B,cAwVP,OAhYA1D,EAAU+B,EAAciB,GA2CxBnE,EAAakD,EAAc,CAAC,CAC1B76B,IAAK,MACLN,MAAO,SAAamd,EAASpC,EAAOuF,GAClCne,KAAKw6B,aAAan1B,KAAK,CAAE2V,QAASA,EAASpC,MAAOA,EAAOuF,QAASA,IAClEnD,EAAQoD,iBAAiBxF,EAAOuF,KAEjC,CACDhgB,IAAK,cACLN,MAAO,WACLmC,KAAK46B,qBAAuB56B,KAAK66B,sBAAsBz8B,KAAK4B,QAE7D,CACD7B,IAAK,gBACLN,MAAO,WACL,IAAIi9B,EAAQ96B,KAYZ,GAVAA,KAAKiuB,KAAO1S,SAASC,cAAc,OACnCkc,EAAS13B,KAAKiuB,KAAMA,EAAKmL,aAErBp5B,KAAK4Z,QAAQuU,SACfuJ,EAAS13B,KAAKiuB,KAAMjuB,KAAK4Z,QAAQuU,SAGnCnuB,KAAKktB,QAAU3R,SAASC,cAAc,OACtCkc,EAAS13B,KAAKktB,QAASe,EAAKmL,YAAc,YAEN,mBAAzBp5B,KAAK4Z,QAAQsT,QAAwB,CAC9C,IAAI6N,EAAwB,WAE1B,IAAIC,EAAuBF,EAAMlhB,QAAQsT,QAAQnwB,KAAK+9B,EAAOA,GAE7D,GAAoC,iBAAzBE,EACTF,EAAM5N,QAAQC,UAAY6N,MACrB,IAAoC,iBAAhC,IAAOA,EAAP,cAAOA,IAIhB,MAAM,IAAIhf,MAAM,uEAHhB8e,EAAM5N,QAAQC,UAAY,GAC1B2N,EAAM5N,QAAQhL,YAAY8Y,KAM9BD,IACA/6B,KAAK4uB,GAAG,OAAQmM,EAAsB38B,KAAK4B,WACF,WAAhC,EAAOA,KAAK4Z,QAAQsT,SAC7BltB,KAAKktB,QAAQhL,YAAYliB,KAAK4Z,QAAQsT,SAEtCltB,KAAKktB,QAAQC,UAAYntB,KAAK4Z,QAAQsT,QAGxCltB,KAAKiuB,KAAK/L,YAAYliB,KAAKktB,WAE5B,CACD/uB,IAAK,cACLN,MAAO,WAKL,IAAIo9B,EAAaj7B,KAAK4Z,QAAQsU,SAASjC,MAAM,KAC7CgP,EAAW,GAAKvC,EAAcuC,EAAW,IACzCA,EAAaA,EAAWp3B,KAAK,KAE7B,IAAI0qB,EAAc,GACdvuB,KAAK4Z,QAAQ0f,wBACf/K,EAAYlpB,KAAK,CACfmpB,GAAI,eACJC,IAAK,cACLC,WAAY,kBAIdH,EAAYlpB,KAAK,CACfmpB,GAAI,kBAI+B,IAAnCxuB,KAAK4Z,QAAQ2f,kBACfhL,EAAYlpB,KAAK,CACfmpB,GAAI,SACJE,WAAY,aAIdH,EAAYlpB,KAAK,CACfmpB,GAAI,WAIR,IAAIzuB,EAAO,CACTib,QAAShb,KAAKiuB,KACd3P,OAAQte,KAAKse,OACboQ,WAAYoJ,EAAWmD,GACvBC,iBAAkBpD,EAAW93B,KAAK4Z,QAAQsU,UAC1CkL,YAAanL,EAAKmL,YAClBpgB,OAAQ,MACRmiB,aAAc,MACdC,SAAS,EACT7M,YAAaA,EACbgM,iBAAkBv6B,KAAK4Z,QAAQ2gB,mBAGE,IAA/Bv6B,KAAK4Z,QAAQ0U,gBACftuB,KAAKq7B,OAAS,IAAIzG,EAAO6C,EAAO,GAAI13B,EAAMC,KAAK4Z,QAAQ0U,mBAG1D,CACDnwB,IAAK,cACLN,MAAO,WACL,IAAIy9B,EAASt7B,KAEb,GAAKA,KAAK4Z,QAAQwU,OAIlB,GAA4B,WAAxBpuB,KAAK4Z,QAAQwU,OAAjB,CAKA,IAAIX,EAASztB,KAAK4Z,QAAQwU,OAAOnC,MAAM,KAEvC,GAAIwB,EAAOla,QAAQ,UAAY,EAwB7B,IAvBA,IAAIgoB,EAAc,SAAqB3iB,GACrC0iB,EAAOE,OAAO5iB,GACdA,EAAMsM,kBAGJuW,EAAe,SAAsB7iB,GAClC0iB,EAAOvB,aAKRnhB,EAAM0F,SAAWgd,EAAOrN,MAAQqN,EAAOrN,KAAK5Q,SAASzE,EAAM0F,SAK3D1F,EAAM0F,SAAWgd,EAAOhd,QAAUgd,EAAOhd,OAAOjB,SAASzE,EAAM0F,SAInEgd,EAAOpM,MAAMtW,KAGNhc,EAAI,EAAGA,EAAI07B,EAAYzuB,SAAUjN,EAAG,CAC3C,IAAI8+B,EAAapD,EAAY17B,GAC7BoD,KAAK27B,IAAI37B,KAAKse,OAAQod,EAAYH,GAClCv7B,KAAK27B,IAAIpgB,SAAUmgB,EAAYD,GAInC,IAAIG,EAAY,KACZC,EAAa,KAEbC,EAAY,SAAmBljB,GACd,OAAfijB,EACFve,aAAaue,GAEbD,EAAYne,YAAW,WACrB6d,EAAO3M,KAAK/V,GACZgjB,EAAY,QACK,UAAfhjB,EAAMmjB,KAAmBT,EAAO1hB,QAAQ8f,WAAa4B,EAAO1hB,QAAQggB,iBAAmB0B,EAAO1hB,QAAQ4f,YAI1GwC,EAAa,SAAoBpjB,GACjB,OAAdgjB,EACFte,aAAase,GAEbC,EAAape,YAAW,WACtB6d,EAAOpM,MAAMtW,GACbijB,EAAa,QACI,SAAfjjB,EAAMmjB,KAAkBT,EAAO1hB,QAAQ+f,UAAY2B,EAAO1hB,QAAQyU,kBAAoBiN,EAAO1hB,QAAQ6f,aAIzGhM,EAAOla,QAAQ,UAAY,IAC7BvT,KAAK27B,IAAI37B,KAAKse,OAAQ,YAAawd,GACnC97B,KAAK27B,IAAI37B,KAAKiuB,KAAM,YAAa6N,GACjC97B,KAAK27B,IAAI37B,KAAKse,OAAQ,WAAY0d,GAClCh8B,KAAK27B,IAAI37B,KAAKiuB,KAAM,WAAY+N,IAG9BvO,EAAOla,QAAQ,UAAY,IAC7BvT,KAAK27B,IAAI37B,KAAKse,OAAQ,QAASwd,GAC/B97B,KAAK27B,IAAI37B,KAAKiuB,KAAM,QAAS6N,GAC7B97B,KAAK27B,IAAI37B,KAAKse,OAAQ,OAAQ0d,GAC9Bh8B,KAAK27B,IAAI37B,KAAKiuB,KAAM,OAAQ+N,SAzE5Bve,WAAWzd,KAAK2uB,KAAKvwB,KAAK4B,SA4E7B,CACD7B,IAAK,WACLN,MAAO,WACL,GAAImC,KAAKiuB,KACP,OAAO2J,EAAS53B,KAAKiuB,KAAMA,EAAKmL,YAAc,WAGjD,CACDj7B,IAAK,SACLN,MAAO,SAAgB+a,GACjB5Y,KAAK+5B,WACP/5B,KAAKkvB,MAAMtW,GAEX5Y,KAAK2uB,KAAK/V,KAGb,CACDza,IAAK,OACLN,MAAO,SAAc+a,GACnB,IAAIqjB,EAASj8B,KAGTA,KAAK+5B,aAIJ/5B,KAAKiuB,KAAKhS,YACbV,SAASye,KAAK9X,YAAYliB,KAAKiuB,WAGN,IAAhBjuB,KAAKq7B,QACdr7B,KAAKq7B,OAAOa,SAGdxE,EAAS13B,KAAKiuB,KAAMA,EAAKmL,YAAc,SACvC1B,EAAS13B,KAAKiuB,KAAMA,EAAKmL,YAAc,uBAEvC3b,YAAW,WACLwe,EAAOhO,MACTyJ,EAASuE,EAAOhO,KAAMA,EAAKmL,YAAc,uBAIlB,IAAhBp5B,KAAKq7B,QACdr7B,KAAKq7B,OAAOnN,WAGdluB,KAAKm8B,QAAQ,QAEblO,EAAK4L,uBAEN,CACD17B,IAAK,wBACLN,MAAO,SAA+B2iB,GAChCA,EAAElC,SAAWkC,EAAE4b,gBAIdxE,EAAS53B,KAAKiuB,KAAMA,EAAKmL,YAAc,UAC1CzB,EAAY33B,KAAKiuB,KAAMA,EAAKmL,YAAc,uBAE5Cp5B,KAAKiuB,KAAKzP,oBAAoBga,EAAoBx4B,KAAK46B,yBAExD,CACDz8B,IAAK,qBACLN,MAAO,SAA4B+a,GACjC,IAAIyjB,GAAc,EASlB,OAPKr8B,KAAKs8B,WAAiD,mBAA7Bt8B,KAAK4Z,QAAQyf,cACzCr5B,KAAKs8B,WAAY,EACjBD,GAAwD,IAA1Cr8B,KAAK4Z,QAAQyf,YAAYzgB,EAAO5Y,OAGhDA,KAAKs8B,WAAY,EAEVD,IAER,CACDl+B,IAAK,QACLN,MAAO,SAAe+a,GACf5Y,KAAK+5B,YAIL/5B,KAAKu8B,mBAAmB3jB,KAI7B+e,EAAY33B,KAAKiuB,KAAMA,EAAKmL,YAAc,SAC1CzB,EAAY33B,KAAKiuB,KAAMA,EAAKmL,YAAc,eAE1Cp5B,KAAKiuB,KAAK7P,iBAAiBoa,EAAoBx4B,KAAK46B,sBAEpD56B,KAAKm8B,QAAQ,cAEc,IAAhBn8B,KAAKq7B,QACdr7B,KAAKq7B,OAAOmB,UAGdvO,EAAK4L,oBAED75B,KAAK4Z,QAAQ1E,QACflV,KAAKkV,OAAO0D,MAGf,CACDza,IAAK,SACLN,MAAO,SAAgB+a,GACrB5Y,KAAKkvB,MAAMtW,GACP5Y,KAAKiuB,KAAKhS,YACZjc,KAAKiuB,KAAKhS,WAAWC,YAAYlc,KAAKiuB,QAGzC,CACD9vB,IAAK,WACLN,MAAO,WACDmC,KAAK+5B,iBAAqC,IAAhB/5B,KAAKq7B,QACjCr7B,KAAKq7B,OAAOnN,aAGf,CACD/vB,IAAK,UACLN,MAAO,WACLmC,KAAKkV,cAEsB,IAAhBlV,KAAKq7B,QACdr7B,KAAKq7B,OAAOpmB,UAGd,IAAK,IAAIrY,EAAI,EAAGA,EAAIoD,KAAKw6B,aAAa3wB,SAAUjN,EAAG,CACjD,IAAI6/B,EAAiBz8B,KAAKw6B,aAAa59B,GACnCoe,EAAUyhB,EAAezhB,QACzB0hB,EAASD,EAAe7jB,MACxBuF,EAAUse,EAAete,QAE7BnD,EAAQwD,oBAAoBke,EAAQve,GAGtCne,KAAKw6B,aAAe,GAEpBx6B,KAAKq7B,OAAS,KACdr7B,KAAKiuB,KAAO,KACZjuB,KAAKktB,QAAU,KACfltB,KAAKse,OAAS,KAEd+Z,EAAgBO,EAAS3K,EAAKmL,aAAcp5B,MAC5Cq4B,EAAgBpK,EAAKgL,MAAOj5B,UAIzBg5B,EAjYW,CAkYjBnB,GAEH,OAAO5J,EAGE4K,GAKX,OAHAtd,SAAS6C,iBAAiB,oBAAoB,WAC5C2O,EAAK8M,uBAEA9M,IAziBH,gC,mPCAA7Y,EAAO,QAAP,4BAMI,WAIR,IAAI4hB,EAAgB,WAAc,SAASlX,EAAiBN,EAAQyX,GAAS,IAAK,IAAIn5B,EAAI,EAAGA,EAAIm5B,EAAMlsB,OAAQjN,IAAK,CAAE,IAAIo5B,EAAaD,EAAMn5B,GAAIo5B,EAAWx4B,WAAaw4B,EAAWx4B,aAAc,EAAOw4B,EAAW/X,cAAe,EAAU,UAAW+X,IAAYA,EAAWC,UAAW,GAAM34B,OAAOC,eAAe+gB,EAAQ0X,EAAW73B,IAAK63B,IAAiB,OAAO,SAAUE,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYvX,EAAiBsX,EAAY13B,UAAW23B,GAAiBC,GAAaxX,EAAiBsX,EAAaE,GAAqBF,GAA7gB,GAEpB,SAASa,EAAgBC,EAAUd,GAAe,KAAMc,aAAoBd,GAAgB,MAAM,IAAIL,UAAU,qCAEhH,IAAI8G,OAAaxd,OACS,IAAfwd,IACTA,EAAa,CAAE7/B,QAAS,KAG1B,IAAI8/B,EAAc,KAIlB,SAASC,EAA4BC,GACnC,IAAIC,EAAeD,EAAKpb,wBAIpBD,EAAO,GACX,IAAK,IAAIub,KAAKD,EACZtb,EAAKub,GAAKD,EAAaC,GAGzB,IACE,GAAIF,EAAK1X,gBAAkB7J,SAAU,CACnC,IAAI0hB,EAAgBH,EAAK1X,cAAc8X,YAAYC,aACnD,GAAIF,EAAe,CACjB,IAAIG,EAAYP,EAA4BI,GAC5Cxb,EAAKxI,KAAOmkB,EAAUnkB,IACtBwI,EAAKiC,QAAU0Z,EAAUnkB,IACzBwI,EAAKzH,MAAQojB,EAAUpjB,KACvByH,EAAKsC,OAASqZ,EAAUpjB,OAG5B,MAAO2b,IAIT,OAAOlU,EAGT,SAAS4b,EAAiBpb,GAGxB,IACIiM,GADgBjT,iBAAiBgH,IAAO,IACfiM,SACzBoP,EAAU,GAEd,GAAiB,UAAbpP,EACF,MAAO,CAACjM,GAIV,IADA,IAAI4U,EAAS5U,GACL4U,EAASA,EAAO5a,aAAe4a,GAA8B,IAApBA,EAAO0G,UAAgB,CACtE,IAAIniB,OAAQ+D,EACZ,IACE/D,EAAQH,iBAAiB4b,GACzB,MAAOlB,IAET,GAAI,MAAOva,EAET,OADAkiB,EAAQj4B,KAAKwxB,GACNyG,EAGT,IAAIE,EAASpiB,EACTqiB,EAAWD,EAAOC,SAClBpW,EAAYmW,EAAOnW,UACnBH,EAAYsW,EAAOtW,UAEnB,wBAAwB7F,KAAKoc,EAAWvW,EAAYG,KACrC,aAAb6G,GAA2B,CAAC,WAAY,WAAY,SAAS3a,QAAQ6H,EAAM8S,WAAa,IAC1FoP,EAAQj4B,KAAKwxB,GAYnB,OAPAyG,EAAQj4B,KAAK4c,EAAGmD,cAAc4U,MAG1B/X,EAAGmD,gBAAkB7J,UACvB+hB,EAAQj4B,KAAK4c,EAAGmD,cAAc8X,aAGzBI,EAGT,IACMI,EADFC,GACED,EAAK,EACF,WACL,QAASA,IAITE,EAAe,GAkCnB,SAASC,IACHjB,GACFrhB,SAASye,KAAK9d,YAAY0gB,GAE5BA,EAAc,KAGhB,SAASkB,EAAU7b,GACjB,IAAI8b,OAAM5e,EACN8C,IAAO1G,UACTwiB,EAAMxiB,SACN0G,EAAK1G,SAASsF,iBAEdkd,EAAM9b,EAAGmD,cAGX,IAAI4Y,EAAQD,EAAIld,gBAEZod,EAAMpB,EAA4B5a,GAElCic,EArDU,WAKd,IAAIpB,EAAOF,EACNE,GAASvhB,SAASye,KAAK3c,SAASyf,MACnCA,EAAOvhB,SAASC,cAAc,QACzBmP,aAAa,iBAAkBgT,KACpClG,EAAOqF,EAAK1hB,MAAO,CACjBnC,IAAK,EACLe,KAAM,EACNkU,SAAU,aAGZ3S,SAASye,KAAK9X,YAAY4a,GAE1BF,EAAcE,GAGhB,IAAIY,EAAKZ,EAAK1C,aAAa,kBAU3B,YATgC,IAArBwD,EAAaF,KACtBE,EAAaF,GAAMb,EAA4BC,GAG/CqB,GAAM,kBACGP,EAAaF,OAIjBE,EAAaF,GAuBPU,GAiBb,OAfAH,EAAIhlB,KAAOilB,EAAOjlB,IAClBglB,EAAIjkB,MAAQkkB,EAAOlkB,UAEM,IAAdikB,EAAIhkB,QACbgkB,EAAIhkB,MAAQsB,SAASye,KAAKlY,YAAcmc,EAAIjkB,KAAOikB,EAAIla,YAE/B,IAAfka,EAAI/kB,SACb+kB,EAAI/kB,OAASqC,SAASye,KAAKjY,aAAekc,EAAIhlB,IAAMglB,EAAIva,QAG1Dua,EAAIhlB,IAAMglB,EAAIhlB,IAAM+kB,EAAMK,UAC1BJ,EAAIjkB,KAAOikB,EAAIjkB,KAAOgkB,EAAMM,WAC5BL,EAAIla,MAAQga,EAAI/D,KAAKzS,YAAc0W,EAAIhkB,MAAQgkB,EAAIjkB,KACnDikB,EAAIva,OAASqa,EAAI/D,KAAK5S,aAAe6W,EAAI/kB,OAAS+kB,EAAIhlB,IAE/CglB,EAGT,SAASM,EAAgBtc,GACvB,OAAOA,EAAGuc,cAAgBjjB,SAASsF,gBAGrC,IAAI4d,EAAiB,KACrB,SAASC,IACP,GAAID,EACF,OAAOA,EAET,IAAIE,EAAQpjB,SAASC,cAAc,OACnCmjB,EAAMvjB,MAAMnB,MAAQ,OACpB0kB,EAAMvjB,MAAMlC,OAAS,QAErB,IAAI0lB,EAAQrjB,SAASC,cAAc,OACnCic,EAAOmH,EAAMxjB,MAAO,CAClB8S,SAAU,WACVjV,IAAK,EACLe,KAAM,EACN6kB,cAAe,OACfC,WAAY,SACZ7kB,MAAO,QACPf,OAAQ,QACRukB,SAAU,WAGZmB,EAAM1c,YAAYyc,GAElBpjB,SAASye,KAAK9X,YAAY0c,GAE1B,IAAIG,EAAiBJ,EAAM1W,YAC3B2W,EAAMxjB,MAAMqiB,SAAW,SACvB,IAAIuB,EAAcL,EAAM1W,YAEpB8W,IAAmBC,IACrBA,EAAcJ,EAAMrX,aAGtBhM,SAASye,KAAK9d,YAAY0iB,GAE1B,IAAI3kB,EAAQ8kB,EAAiBC,EAG7B,OADAP,EAAiB,CAAExkB,MAAOA,EAAOf,OAAQe,GAI3C,SAASwd,IACP,IAAIxuB,EAAMhB,UAAU4B,QAAU,QAAsBsV,IAAjBlX,UAAU,GAAmB,GAAKA,UAAU,GAE3EJ,EAAO,GAcX,OAZAwU,MAAM7d,UAAU6G,KAAKyC,MAAMD,EAAMI,WAEjCJ,EAAKG,MAAM,GAAGuY,SAAQ,SAAUpF,GAC9B,GAAIA,EACF,IAAK,IAAIhd,KAAOgd,GACT,IAAI1c,eAAe1B,KAAKoe,EAAKhd,KAChC8K,EAAI9K,GAAOgd,EAAIhd,OAMhB8K,EAGT,SAAS0uB,EAAY1V,EAAI9kB,GACvB,QAA4B,IAAjB8kB,EAAG7E,UACZjgB,EAAK8uB,MAAM,KAAK1L,SAAQ,SAAU9D,GAC5BA,EAAIwiB,QACNhd,EAAG7E,UAAUlI,OAAOuH,UAGnB,CACL,IAAIyiB,EAAQ,IAAIjrB,OAAO,QAAU9W,EAAK8uB,MAAM,KAAKpoB,KAAK,KAAO,QAAS,MAClEyX,EAAY6jB,EAAald,GAAIzhB,QAAQ0+B,EAAO,KAChDE,EAAand,EAAI3G,IAIrB,SAASoc,EAASzV,EAAI9kB,GACpB,QAA4B,IAAjB8kB,EAAG7E,UACZjgB,EAAK8uB,MAAM,KAAK1L,SAAQ,SAAU9D,GAC5BA,EAAIwiB,QACNhd,EAAG7E,UAAUG,IAAId,UAGhB,CACLkb,EAAY1V,EAAI9kB,GAChB,IAAIsf,EAAM0iB,EAAald,GAAO,IAAM9kB,EACpCiiC,EAAand,EAAIxF,IAIrB,SAASmb,EAAS3V,EAAI9kB,GACpB,QAA4B,IAAjB8kB,EAAG7E,UACZ,OAAO6E,EAAG7E,UAAUC,SAASlgB,GAE/B,IAAIme,EAAY6jB,EAAald,GAC7B,OAAO,IAAIhO,OAAO,QAAU9W,EAAO,QAAS,MAAMkkB,KAAK/F,GAGzD,SAAS6jB,EAAald,GAGpB,OAAIA,EAAG3G,qBAAqB2G,EAAGmD,cAAc8X,YAAYmC,kBAChDpd,EAAG3G,UAAUgkB,QAEfrd,EAAG3G,UAGZ,SAAS8jB,EAAand,EAAI3G,GACxB2G,EAAG0I,aAAa,QAASrP,GAG3B,SAASikB,EAActd,EAAI1E,EAAKiiB,GAG9BA,EAAIjf,SAAQ,SAAU9D,IACM,IAAtBc,EAAIhK,QAAQkJ,IAAemb,EAAS3V,EAAIxF,IAC1Ckb,EAAY1V,EAAIxF,MAIpBc,EAAIgD,SAAQ,SAAU9D,GACfmb,EAAS3V,EAAIxF,IAChBib,EAASzV,EAAIxF,MAKnB,IAAIgjB,EAAW,GAEXtB,EAAQ,SAAev2B,GACzB63B,EAASp6B,KAAKuC,IAGZ83B,EAAQ,WAEV,IADA,IAAI93B,OAAKuX,EACFvX,EAAK63B,EAASE,OACnB/3B,KAIAiwB,EAAW,WACb,SAASA,IACPd,EAAgB/2B,KAAM63B,GA0ExB,OAvEA/B,EAAa+B,EAAS,CAAC,CACrB15B,IAAK,KACLN,MAAO,SAAY+a,EAAOuF,EAASyhB,GACjC,IAAInf,IAAOxY,UAAU4B,QAAU,QAAsBsV,IAAjBlX,UAAU,KAA2BA,UAAU,QAEtD,IAAlBjI,KAAK6/B,WACd7/B,KAAK6/B,SAAW,SAEkB,IAAzB7/B,KAAK6/B,SAASjnB,KACvB5Y,KAAK6/B,SAASjnB,GAAS,IAEzB5Y,KAAK6/B,SAASjnB,GAAOvT,KAAK,CAAE8Y,QAASA,EAASyhB,IAAKA,EAAKnf,KAAMA,MAE/D,CACDtiB,IAAK,OACLN,MAAO,SAAc+a,EAAOuF,EAASyhB,GACnC5/B,KAAK4uB,GAAGhW,EAAOuF,EAASyhB,GAAK,KAE9B,CACDzhC,IAAK,MACLN,MAAO,SAAa+a,EAAOuF,GACzB,QAA6B,IAAlBne,KAAK6/B,eAA4D,IAAzB7/B,KAAK6/B,SAASjnB,GAIjE,QAAuB,IAAZuF,SACFne,KAAK6/B,SAASjnB,QAGrB,IADA,IAAIhc,EAAI,EACDA,EAAIoD,KAAK6/B,SAASjnB,GAAO/O,QAC1B7J,KAAK6/B,SAASjnB,GAAOhc,GAAGuhB,UAAYA,EACtCne,KAAK6/B,SAASjnB,GAAO0H,OAAO1jB,EAAG,KAE7BA,IAKT,CACDuB,IAAK,UACLN,MAAO,SAAiB+a,GACtB,QAA6B,IAAlB5Y,KAAK6/B,UAA4B7/B,KAAK6/B,SAASjnB,GAAQ,CAGhE,IAFA,IAAIhc,EAAI,EAECk8B,EAAO7wB,UAAU4B,OAAQhC,EAAOwU,MAAMyc,EAAO,EAAIA,EAAO,EAAI,GAAIC,EAAO,EAAGA,EAAOD,EAAMC,IAC9FlxB,EAAKkxB,EAAO,GAAK9wB,UAAU8wB,GAG7B,KAAOn8B,EAAIoD,KAAK6/B,SAASjnB,GAAO/O,QAAQ,CACtC,IAAIi2B,EAAoB9/B,KAAK6/B,SAASjnB,GAAOhc,GACzCuhB,EAAU2hB,EAAkB3hB,QAC5ByhB,EAAME,EAAkBF,IACxBnf,EAAOqf,EAAkBrf,KAEzBsf,EAAUH,OACS,IAAZG,IACTA,EAAU//B,MAGZme,EAAQrW,MAAMi4B,EAASl4B,GAEnB4Y,EACFzgB,KAAK6/B,SAASjnB,GAAO0H,OAAO1jB,EAAG,KAE7BA,QAOLi7B,EA5EM,GA+Ef8E,EAAWnF,MAAQ,CACjBqF,4BAA6BA,EAC7BQ,iBAAkBA,EAClBS,UAAWA,EACXS,gBAAiBA,EACjB9G,OAAQA,EACRC,SAAUA,EACVC,YAAaA,EACbC,SAAUA,EACV2H,cAAeA,EACfpB,MAAOA,EACPuB,MAAOA,EACP/B,SAAUA,EACV9F,QAASA,EACT6G,iBAAkBA,EAClBb,mBAAoBA,GAMtB,IAAI9I,EAAib,SAAUC,EAAKp4B,GAAK,GAAIyf,MAAM4Y,QAAQD,GAAQ,OAAOA,EAAY,GAAIr3B,OAAOu3B,YAAY53B,OAAO03B,GAAQ,OAAxf,SAAuBA,EAAKp4B,GAAK,IAAIu4B,EAAO,GAAQC,GAAK,EAAUC,GAAK,EAAWC,OAAKnW,EAAW,IAAM,IAAK,IAAiCoW,EAA7BC,EAAKR,EAAIr3B,OAAOu3B,cAAmBE,GAAMG,EAAKC,EAAGC,QAAQC,QAAoBP,EAAK9vB,KAAKkwB,EAAG13B,QAAYjB,GAAKu4B,EAAKtrB,SAAWjN,GAA3Dw4B,GAAK,IAAoE,MAAOO,GAAON,GAAK,EAAMC,EAAKK,EAAtL,QAAuM,KAAWP,GAAMI,EAAA,QAAcA,EAAA,SAA/B,QAA2D,GAAIH,EAAI,MAAMC,GAAQ,OAAOH,EAA6HS,CAAcZ,EAAKp4B,GAAa,MAAM,IAAIi5B,UAAU,yDAMvlB,SAASkB,EAAgBC,EAAUd,GAAe,KAAMc,aAAoBd,GAAgB,MAAM,IAAIL,UAAU,qCAIhH,GARIC,EAAgB,WAAc,SAASlX,EAAiBN,EAAQyX,GAAS,IAAK,IAAIn5B,EAAI,EAAGA,EAAIm5B,EAAMlsB,OAAQjN,IAAK,CAAE,IAAIo5B,EAAaD,EAAMn5B,GAAIo5B,EAAWx4B,WAAaw4B,EAAWx4B,aAAc,EAAOw4B,EAAW/X,cAAe,EAAU,UAAW+X,IAAYA,EAAWC,UAAW,GAAM34B,OAAOC,eAAe+gB,EAAQ0X,EAAW73B,IAAK63B,IAAiB,OAAO,SAAUE,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYvX,EAAiBsX,EAAY13B,UAAW23B,GAAiBC,GAAaxX,EAAiBsX,EAAaE,GAAqBF,GAA7gB,QAQM,IAAfyG,EACT,MAAM,IAAI3gB,MAAM,uDAGlB,IACIqhB,GADA2C,EAAoBrD,EAAWnF,OACM6F,iBAErCkB,GADAT,EAAYkC,EAAkBlC,UACZkC,EAAkBzB,iBAEpC7G,GADAD,EAASuI,EAAkBvI,OAChBuI,EAAkBtI,UAC7BC,EAAcqI,EAAkBrI,YAIhC+G,GAHAa,EAAgBS,EAAkBT,cAClCpB,EAAQ6B,EAAkB7B,MAC1BuB,EAAQM,EAAkBN,MACPM,EAAkBtB,kBACrCb,EAAqBmC,EAAkBnC,mBAE3C,SAASoC,EAAO7/B,EAAGD,GACjB,IAAImf,EAAOrX,UAAU4B,QAAU,QAAsBsV,IAAjBlX,UAAU,GAAmB,EAAIA,UAAU,GAE/E,OAAO7H,EAAIkf,GAAQnf,GAAKA,GAAKC,EAAIkf,EAGnC,IAgCM4gB,EACAC,EACAC,EAEAC,EApCFC,EAAgB,WAClB,GAAwB,oBAAb/kB,SACT,MAAO,GAKT,IAHA,IAAI0G,EAAK1G,SAASC,cAAc,OAE5B+kB,EAAa,CAAC,YAAa,kBAAmB,aAAc,eAAgB,eACvE3jC,EAAI,EAAGA,EAAI2jC,EAAW12B,SAAUjN,EAAG,CAC1C,IAAIuB,EAAMoiC,EAAW3jC,GACrB,QAAsBuiB,IAAlB8C,EAAG7G,MAAMjd,GACX,OAAOA,GAVO,GAehBqiC,EAAU,GAEVtS,EAAW,WACbsS,EAAQjgB,SAAQ,SAAU8a,GACxBA,EAAOnN,UAAS,MAElBwR,KAGF,SAASe,IACP,MAA2B,YAAvB,oBAAOC,YAAP,cAAOA,eAAuD,mBAApBA,YAAYD,IACjDC,YAAYD,OAEb,IAAIjX,KAIR0W,EAAW,KACXC,EAAe,KACfC,EAAiB,KAEjBC,EAAO,SAASA,IAClB,QAA4B,IAAjBF,GAAgCA,EAAe,GAMxD,OAJAA,EAAelhC,KAAKO,IAAI2gC,EAAe,GAAI,UAG3CC,EAAiB3iB,WAAW4iB,EAAM,WAIZ,IAAbH,GAA4BO,IAAQP,EAAW,KAKpC,MAAlBE,IACF9iB,aAAa8iB,GACbA,EAAiB,MAGnBF,EAAWO,IACXvS,IACAiS,EAAeM,IAAQP,IAGH,oBAAXhmB,aAA6D,IAA5BA,OAAOkE,kBACjD,CAAC,SAAU,SAAU,aAAamC,SAAQ,SAAU3H,GAClDsB,OAAOkE,iBAAiBxF,EAAOynB,MAKrC,IAAIM,EAAY,CACdhI,OAAQ,SACR3e,KAAM,QACN+J,MAAO,QAGL6c,EAAY,CACd3qB,OAAQ,SACRgD,IAAK,SACLyK,OAAQ,OAGNmd,EAAa,CACf5nB,IAAK,EACLe,KAAM,EACN/D,OAAQ,MACR0iB,OAAQ,MACRjV,OAAQ,OACRK,MAAO,QAGL+c,EAAwB,SAA+BpS,EAAYqS,GACrE,IAAI/mB,EAAO0U,EAAW1U,KAClBf,EAAMyV,EAAWzV,IAUrB,MARa,SAATe,IACFA,EAAO2mB,EAAUI,EAAqB/mB,OAG5B,SAARf,IACFA,EAAM2nB,EAAUG,EAAqB9nB,MAGhC,CAAEe,KAAMA,EAAMf,IAAKA,IAGxB+nB,EAAqB,SAA4BtS,GACnD,IAAI1U,EAAO0U,EAAW1U,KAClBf,EAAMyV,EAAWzV,IAUrB,YAR2C,IAAhC4nB,EAAWnS,EAAW1U,QAC/BA,EAAO6mB,EAAWnS,EAAW1U,YAGW,IAA/B6mB,EAAWnS,EAAWzV,OAC/BA,EAAM4nB,EAAWnS,EAAWzV,MAGvB,CAAEe,KAAMA,EAAMf,IAAKA,IAG5B,SAASgoB,IAGP,IAFA,IAAIh4B,EAAM,CAAEgQ,IAAK,EAAGe,KAAM,GAEjB8e,EAAO7wB,UAAU4B,OAAQq3B,EAAU7kB,MAAMyc,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC9EmI,EAAQnI,GAAQ9wB,UAAU8wB,GAkB5B,OAfAmI,EAAQ3gB,SAAQ,SAAU6X,GACxB,IAAInf,EAAMmf,EAAKnf,IACXe,EAAOoe,EAAKpe,KAEG,iBAARf,IACTA,EAAM5F,WAAW4F,EAAK,KAEJ,iBAATe,IACTA,EAAO3G,WAAW2G,EAAM,KAG1B/Q,EAAIgQ,KAAOA,EACXhQ,EAAI+Q,MAAQA,KAGP/Q,EAGT,SAASk4B,EAAWnoB,EAAQ5P,GAQ1B,MAP2B,iBAAhB4P,EAAOgB,OAAmD,IAA9BhB,EAAOgB,KAAKzG,QAAQ,OACzDyF,EAAOgB,KAAO3G,WAAW2F,EAAOgB,KAAM,IAAM,IAAM5Q,EAAK6Q,OAE/B,iBAAfjB,EAAOC,MAAiD,IAA7BD,EAAOC,IAAI1F,QAAQ,OACvDyF,EAAOC,IAAM5F,WAAW2F,EAAOC,IAAK,IAAM,IAAM7P,EAAK8P,QAGhDF,EAGT,IAAIooB,EAAc,SAAqBvjC,GACrC,IAAIwjC,EAAexjC,EAAMouB,MAAM,KAE3BqV,EAAgBvM,EAAesM,EAAc,GAKjD,MAAO,CAAEpoB,IAHCqoB,EAAc,GAGLtnB,KAFRsnB,EAAc,KAIvBC,EAAkBH,EAElBI,EAAe,SAAUvH,GAG3B,SAASuH,EAAY5nB,GACnB,IAAIkhB,EAAQ96B,KAEZ+2B,EAAgB/2B,KAAMwhC,GA1Mf,SAAaC,EAAKC,EAAKC,GAAqC,IAA9B,IAAIlL,GAAS,EAAwBA,GAAQ,CAAE,IAAIn4B,EAASmjC,EAAKljC,EAAWmjC,EAAKhL,EAAWiL,EAAKlL,GAAS,EAAsB,OAAXn4B,IAAiBA,EAASw2B,SAASt2B,WAAW,IAAIm4B,EAAOr5B,OAAOs5B,yBAAyBt4B,EAAQC,GAAW,QAAa4gB,IAATwX,EAAJ,CAA6O,GAAI,UAAWA,EAAQ,OAAOA,EAAK94B,MAAgB,IAAIT,EAASu5B,EAAKl5B,IAAK,QAAe0hB,IAAX/hB,EAAwB,OAAoB,OAAOA,EAAOL,KAAK25B,GAAhW,IAAIG,EAASv5B,OAAOw5B,eAAex4B,GAAS,GAAe,OAAXu4B,EAAmB,OAA2B4K,EAAM5K,EAAQ6K,EAAMnjC,EAAUojC,EAAMjL,EAAUD,GAAS,EAAME,EAAOE,OAAS1X,GA4M3ckX,CAAK/4B,OAAOw5B,eAAe0K,EAAYhjC,WAAY,cAAewB,MAAMjD,KAAKiD,MAC7EA,KAAKkuB,SAAWluB,KAAKkuB,SAAS9vB,KAAK4B,MAEnCwgC,EAAQn7B,KAAKrF,MAEbA,KAAK4hC,QAAU,GAEf5hC,KAAK6hC,WAAWjoB,GAAS,GAEzB+iB,EAAW7/B,QAAQyjB,SAAQ,SAAU5jB,QACF,IAAtBA,EAAOmlC,YAChBnlC,EAAOmlC,WAAW/kC,KAAK+9B,MAI3B96B,KAAKkuB,WA8oBP,OAr2BF,SAAmBgJ,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAItB,UAAU,qEAAoEsB,EAApE,cAAoEA,KAAeD,EAAS14B,UAAYlB,OAAOY,OAAOi5B,GAAcA,EAAW34B,UAAW,CAAE44B,YAAa,CAAEv5B,MAAOq5B,EAAU15B,YAAY,EAAOy4B,UAAU,EAAMhY,cAAc,KAAekZ,IAAY75B,OAAO+5B,eAAiB/5B,OAAO+5B,eAAeH,EAAUC,GAAcD,EAASI,UAAYH,GAiM/dF,CAAUuK,EAAavH,GAyBvBnE,EAAa0L,EAAa,CAAC,CACzBrjC,IAAK,WACLN,MAAO,WACL,IAAIM,EAAM8J,UAAU4B,QAAU,QAAsBsV,IAAjBlX,UAAU,GAAmB,GAAKA,UAAU,GAC3EkmB,EAAUnuB,KAAK4Z,QAAQuU,QAE3B,YAAuB,IAAZA,GAA2BA,EAAQhwB,GACrC6B,KAAK4Z,QAAQuU,QAAQhwB,GACnB6B,KAAK4Z,QAAQwf,YACfp5B,KAAK4Z,QAAQwf,YAAc,IAAMj7B,EAEjCA,IAGV,CACDA,IAAK,aACLN,MAAO,SAAoB+b,GACzB,IAAI0hB,EAASt7B,KAETwW,EAAMvO,UAAU4B,QAAU,QAAsBsV,IAAjBlX,UAAU,IAA0BA,UAAU,GAE7EixB,EAAW,CACblgB,OAAQ,MACRmiB,aAAc,MACdD,iBAAkB,YAClB9B,YAAa,UAGfp5B,KAAK4Z,QAAU6d,EAAOyB,EAAUtf,GAEhC,IAAIwW,EAAWpwB,KAAK4Z,QAChBoB,EAAUoV,EAASpV,QACnBsD,EAAS8R,EAAS9R,OAClByjB,EAAiB3R,EAAS2R,eA+B9B,GA7BA/hC,KAAKgb,QAAUA,EACfhb,KAAKse,OAASA,EACdte,KAAK+hC,eAAiBA,EAEF,aAAhB/hC,KAAKse,QACPte,KAAKse,OAAS/C,SAASye,KACvBh6B,KAAK+hC,eAAiB,WACG,kBAAhB/hC,KAAKse,SACdte,KAAKse,OAAS/C,SAASye,KACvBh6B,KAAK+hC,eAAiB,iBAGxB,CAAC,UAAW,UAAUxhB,SAAQ,SAAUpiB,GACtC,QAA2B,IAAhBm9B,EAAOn9B,GAChB,MAAM,IAAI6d,MAAM,8DAGgB,IAAvBsf,EAAOn9B,GAAK6jC,OACrB1G,EAAOn9B,GAAOm9B,EAAOn9B,GAAK,GACM,iBAAhBm9B,EAAOn9B,KACvBm9B,EAAOn9B,GAAOod,SAASyL,cAAcsU,EAAOn9B,QAIhDu5B,EAAS13B,KAAKgb,QAAShb,KAAKiiC,SAAS,aACG,IAAlCjiC,KAAK4Z,QAAQ2gB,kBACjB7C,EAAS13B,KAAKse,OAAQte,KAAKiiC,SAAS,YAGjCjiC,KAAK4Z,QAAQ8U,WAChB,MAAM,IAAI1S,MAAM,gDAGlBhc,KAAKk7B,iBAAmBqG,EAAgBvhC,KAAK4Z,QAAQshB,kBACrDl7B,KAAK0uB,WAAa6S,EAAgBvhC,KAAK4Z,QAAQ8U,YAC/C1uB,KAAKgZ,OAASooB,EAAYphC,KAAK4Z,QAAQZ,QACvChZ,KAAKm7B,aAAeiG,EAAYphC,KAAK4Z,QAAQuhB,mBAEX,IAAvBn7B,KAAKkiC,eACdliC,KAAKw8B,UAGqB,kBAAxBx8B,KAAK+hC,eACP/hC,KAAKkiC,cAAgB,CAACliC,KAAKse,QAE3Bte,KAAKkiC,cAAgB7E,EAAiBr9B,KAAKse,SAGd,IAAzBte,KAAK4Z,QAAQwhB,SACjBp7B,KAAKk8B,OAAO1lB,KAGf,CACDrY,IAAK,kBACLN,MAAO,WACL,QAAmC,IAAxBmC,KAAK+hC,eAqFd,OAAOjE,EAAU99B,KAAKse,QApFtB,GAA4B,YAAxBte,KAAK+hC,eACP,OAAI/hC,KAAKse,SAAW/C,SAASye,KACpB,CAAE/gB,IAAKuM,YAAaxL,KAAMyL,YAAavM,OAAQkB,YAAaH,MAAOkoB,cAItEl5B,EAAM,CACRiQ,QAHEkpB,EAAStE,EAAU99B,KAAKse,SAGXpF,OACfe,MAAOmoB,EAAOnoB,MACdhB,IAAKmpB,EAAOnpB,IACZe,KAAMooB,EAAOpoB,OAGXd,OAASja,KAAKO,IAAIyJ,EAAIiQ,OAAQkpB,EAAOlpB,QAAUsM,YAAc4c,EAAOnpB,MACxEhQ,EAAIiQ,OAASja,KAAKO,IAAIyJ,EAAIiQ,OAAQkpB,EAAOlpB,QAAUkpB,EAAOnpB,IAAMmpB,EAAOlpB,QAAUsM,YAAcpL,eAC/FnR,EAAIiQ,OAASja,KAAKO,IAAI4a,YAAanR,EAAIiQ,QACvCjQ,EAAIiQ,QAAU,EAEdjQ,EAAIgR,MAAQhb,KAAKO,IAAIyJ,EAAIgR,MAAOmoB,EAAOnoB,OAASwL,YAAc2c,EAAOpoB,OACrE/Q,EAAIgR,MAAQhb,KAAKO,IAAIyJ,EAAIgR,MAAOmoB,EAAOnoB,OAASmoB,EAAOpoB,KAAOooB,EAAOnoB,OAASwL,YAAc0c,cAC5Fl5B,EAAIgR,MAAQhb,KAAKO,IAAI2iC,WAAYl5B,EAAIgR,OACrChR,EAAIgR,OAAS,EAEThR,EAAIgQ,IAAMuM,cACZvc,EAAIgQ,IAAMuM,aAERvc,EAAI+Q,KAAOyL,cACbxc,EAAI+Q,KAAOyL,aAGNxc,GAEJ,GAA4B,kBAAxBjJ,KAAK+hC,eAAoC,CAClD,IAAIK,OAASjjB,EACTb,EAASte,KAAKse,OACdA,IAAW/C,SAASye,MACtB1b,EAAS/C,SAASsF,gBAElBuhB,EAAS,CACPpoB,KAAMyL,YACNxM,IAAKuM,YACLtM,OAAQkB,YACRH,MAAOkoB,aAGTC,EAAStE,EAAUxf,GAGrB,IAAIlD,EAAQH,iBAAiBqD,GAIzB+jB,EAAe,GAFG/jB,EAAOwD,YAAcxD,EAAOiJ,aAAe,CAACnM,EAAMqiB,SAAUriB,EAAMiM,WAAW9T,QAAQ,WAAa,GAAKvT,KAAKse,SAAW/C,SAASye,QAIpJqI,EAAe,IAGjB,IAAInpB,EAASkpB,EAAOlpB,OAAS7F,WAAW+H,EAAMmQ,gBAAkBlY,WAAW+H,EAAMoQ,mBAAqB6W,EAElGp5B,EAAM,CACRgR,MAAO,GACPf,OAAiB,KAATA,GAAkBA,EAASoF,EAAOyD,cAC1C/H,KAAMooB,EAAOpoB,KAAOooB,EAAOnoB,MAAQ5G,WAAW+H,EAAMyP,iBAAmB,IAGrEyX,EAAS,EACTppB,EAAS,KAAOlZ,KAAKse,SAAW/C,SAASye,OAC3CsI,GAAU,MAAUrjC,KAAKmH,IAAI8S,EAAQ,GAAK,OAAUA,EAAS,OAG3DlZ,KAAKse,SAAW/C,SAASye,OAC3B/wB,EAAIiQ,OAASja,KAAKS,IAAIuJ,EAAIiQ,OAAQ,KAGpC,IAAIqpB,EAAmBviC,KAAKse,OAAOnE,WAAamE,EAAOyD,aAAe7I,GAOtE,OANAjQ,EAAIgQ,IAAMspB,GAAoBrpB,EAASjQ,EAAIiQ,OAASopB,GAAUF,EAAOnpB,IAAM5F,WAAW+H,EAAMmQ,gBAExFvrB,KAAKse,SAAW/C,SAASye,OAC3B/wB,EAAIiQ,OAASja,KAAKS,IAAIuJ,EAAIiQ,OAAQ,KAG7BjQ,KAMZ,CACD9K,IAAK,aACLN,MAAO,WACLmC,KAAKwiC,OAAS,KAEf,CACDrkC,IAAK,QACLN,MAAO,SAAem/B,EAAG5/B,GAWvB,YAR2B,IAAhB4C,KAAKwiC,SACdxiC,KAAKwiC,OAAS,SAGc,IAAnBxiC,KAAKwiC,OAAOxF,KACrBh9B,KAAKwiC,OAAOxF,GAAK5/B,EAAOL,KAAKiD,OAGxBA,KAAKwiC,OAAOxF,KAEpB,CACD7+B,IAAK,SACLN,MAAO,WACL,IAAIo+B,EAASj8B,KAETwW,EAAMvO,UAAU4B,QAAU,QAAsBsV,IAAjBlX,UAAU,IAA0BA,UAAU,IAEzC,IAAlCjI,KAAK4Z,QAAQ2gB,kBACjB7C,EAAS13B,KAAKse,OAAQte,KAAKiiC,SAAS,YAEtCvK,EAAS13B,KAAKgb,QAAShb,KAAKiiC,SAAS,YACrCjiC,KAAKo7B,SAAU,EAEfp7B,KAAKkiC,cAAc3hB,SAAQ,SAAUsW,GAC/BA,IAAWoF,EAAO3d,OAAO8G,eAC3ByR,EAAOzY,iBAAiB,SAAU6d,EAAO/N,aAIzC1X,GACFxW,KAAKkuB,aAGR,CACD/vB,IAAK,UACLN,MAAO,WACL,IAAI4kC,EAASziC,KAEb23B,EAAY33B,KAAKse,OAAQte,KAAKiiC,SAAS,YACvCtK,EAAY33B,KAAKgb,QAAShb,KAAKiiC,SAAS,YACxCjiC,KAAKo7B,SAAU,OAEmB,IAAvBp7B,KAAKkiC,eACdliC,KAAKkiC,cAAc3hB,SAAQ,SAAUsW,GACnCA,EAAOrY,oBAAoB,SAAUikB,EAAOvU,eAIjD,CACD/vB,IAAK,UACLN,MAAO,WACL,IAAI6kC,EAAS1iC,KAEbA,KAAKw8B,UAELgE,EAAQjgB,SAAQ,SAAU8a,EAAQz+B,GAC5By+B,IAAWqH,GACblC,EAAQlgB,OAAO1jB,EAAG,MAKC,IAAnB4jC,EAAQ32B,QACVg0B,MAGH,CACD1/B,IAAK,sBACLN,MAAO,SAA6B8kC,EAAeC,GACjD,IAAIC,EAAS7iC,KAEb2iC,EAAgBA,GAAiB3iC,KAAK0uB,WACtCkU,EAAeA,GAAgB5iC,KAAKk7B,sBAGE,IAA3Bl7B,KAAK8iC,mBAAqC9iC,KAAK8iC,kBAAkBj5B,QAI1E7J,KAAK8iC,kBAAkBxiB,OAAO,EAAGtgB,KAAK8iC,kBAAkBj5B,aAGpB,IAA3B7J,KAAK8iC,oBACd9iC,KAAK8iC,kBAAoB,IAE3B,IAAIvlB,EAAMvd,KAAK8iC,kBAEXH,EAAc1pB,KAChBsE,EAAIlY,KAAKrF,KAAKiiC,SAAS,oBAAsB,IAAMU,EAAc1pB,KAE/D0pB,EAAc3oB,MAChBuD,EAAIlY,KAAKrF,KAAKiiC,SAAS,oBAAsB,IAAMU,EAAc3oB,MAE/D4oB,EAAa3pB,KACfsE,EAAIlY,KAAKrF,KAAKiiC,SAAS,mBAAqB,IAAMW,EAAa3pB,KAE7D2pB,EAAa5oB,MACfuD,EAAIlY,KAAKrF,KAAKiiC,SAAS,mBAAqB,IAAMW,EAAa5oB,MAGjE,IAAIwlB,EAAM,GA3BE,CAAC,OAAQ,MAAO,SAAU,QAAS,SAAU,UA4BnDjf,SAAQ,SAAUwiB,GACtBvD,EAAIn6B,KAAKw9B,EAAOZ,SAAS,oBAAsB,IAAMc,GACrDvD,EAAIn6B,KAAKw9B,EAAOZ,SAAS,mBAAqB,IAAMc,MAGtD5E,GAAM,gBACsC,IAA7B0E,EAAOC,oBAIpBvD,EAAcsD,EAAO7nB,QAAS6nB,EAAOC,kBAAmBtD,IACd,IAApCqD,EAAOjpB,QAAQ2gB,kBACnBgF,EAAcsD,EAAOvkB,OAAQukB,EAAOC,kBAAmBtD,UAGlDqD,EAAOC,wBAGjB,CACD3kC,IAAK,WACLN,MAAO,WACL,IAAImlC,EAAShjC,KAETijC,EAAeh7B,UAAU4B,QAAU,QAAsBsV,IAAjBlX,UAAU,IAA0BA,UAAU,GAK1F,GAAKjI,KAAKo7B,QAAV,CAIAp7B,KAAKkjC,aAGL,IAAIhI,EAAmB4F,EAAsB9gC,KAAKk7B,iBAAkBl7B,KAAK0uB,YAEzE1uB,KAAKmjC,oBAAoBnjC,KAAK0uB,WAAYwM,GAE1C,IAAIkI,EAAapjC,KAAKqjC,MAAM,kBAAkB,WAC5C,OAAOvF,EAAUkF,EAAOhoB,YAGtBf,EAAQmpB,EAAWnpB,MACnBf,EAASkqB,EAAWlqB,OAExB,GAAc,IAAVe,GAA0B,IAAXf,QAAyC,IAAlBlZ,KAAKsjC,SAA0B,CACvE,IAAIC,EAAYvjC,KAAKsjC,SAIrBrpB,EAAQspB,EAAUtpB,MAClBf,EAASqqB,EAAUrqB,YAEnBlZ,KAAKsjC,SAAW,CAAErpB,MAAOA,EAAOf,OAAQA,GAG1C,IAAIsqB,EAAYxjC,KAAKqjC,MAAM,iBAAiB,WAC1C,OAAOL,EAAOS,qBAEZC,EAAaF,EAGbxqB,EAASmoB,EAAWH,EAAmBhhC,KAAK0uB,YAAa,CAAEzU,MAAOA,EAAOf,OAAQA,IACjFiiB,EAAegG,EAAWH,EAAmB9F,GAAmBwI,GAEhEC,EAAexC,EAAWnhC,KAAKgZ,OAAQ,CAAEiB,MAAOA,EAAOf,OAAQA,IAC/D0qB,EAAqBzC,EAAWnhC,KAAKm7B,aAAcuI,GAGvD1qB,EAASioB,EAAUjoB,EAAQ2qB,GAC3BxI,EAAe8F,EAAU9F,EAAcyI,GAMvC,IAHA,IAAI5pB,EAAOwpB,EAAUxpB,KAAOmhB,EAAanhB,KAAOhB,EAAOgB,KACnDf,EAAMuqB,EAAUvqB,IAAMkiB,EAAaliB,IAAMD,EAAOC,IAE3Crc,EAAI,EAAGA,EAAI+/B,EAAW7/B,QAAQ+M,SAAUjN,EAAG,CAClD,IAAIinC,EAAWlH,EAAW7/B,QAAQF,GAC9BwI,EAAMy+B,EAAS3V,SAASnxB,KAAKiD,KAAM,CACrCga,KAAMA,EACNf,IAAKA,EACLiiB,iBAAkBA,EAClBsI,UAAWA,EACXJ,WAAYA,EACZpqB,OAAQA,EACRmiB,aAAcA,EACdwI,aAAcA,EACdC,mBAAoBA,EACpBE,cAAeA,EACfpV,WAAY1uB,KAAK0uB,aAGnB,IAAY,IAARtpB,EACF,OAAO,OACiB,IAARA,GAAsC,iBAAf,IAAOA,EAAP,cAAOA,MAG9C6T,EAAM7T,EAAI6T,IACVe,EAAO5U,EAAI4U,MAOf,IAAIyb,EAAO,CAGTsO,KAAM,CACJ9qB,IAAKA,EACLe,KAAMA,GAIRgqB,SAAU,CACR/qB,IAAKA,EAAMuM,YACX9B,OAAQ8B,YAAcvM,EAAMC,EAASkB,YACrCJ,KAAMA,EAAOyL,YACb1B,MAAO0B,YAAczL,EAAOC,EAAQkoB,aAIpCpE,EAAM/9B,KAAKse,OAAO8G,cAClB6e,EAAMlG,EAAIb,YAEV4G,OAAgB3kB,EAoEpB,OAnEI8kB,EAAI7pB,YAAc2jB,EAAIld,gBAAgBuG,eACxC0c,EAAgB9jC,KAAKqjC,MAAM,iBAAkB3E,GAC7CjJ,EAAKuO,SAAStgB,QAAUogB,EAAc5qB,QAGpC+qB,EAAI9B,WAAapE,EAAIld,gBAAgB0G,cACvCuc,EAAgB9jC,KAAKqjC,MAAM,iBAAkB3E,GAC7CjJ,EAAKuO,SAASjgB,OAAS+f,EAAc7pB,QAGkB,IAArD,CAAC,GAAI,UAAU1G,QAAQwqB,EAAI/D,KAAK5e,MAAM8S,YAAuF,IAAnE,CAAC,GAAI,UAAU3a,QAAQwqB,EAAI/D,KAAKkK,cAAc9oB,MAAM8S,YAEhHuH,EAAKsO,KAAKrgB,OAASqa,EAAI/D,KAAKjY,aAAe9I,EAAMC,EACjDuc,EAAKsO,KAAKhgB,MAAQga,EAAI/D,KAAKlY,YAAc9H,EAAOC,QAGR,IAA/Bja,KAAK4Z,QAAQuqB,gBAA4E,IAA3CnkC,KAAK4Z,QAAQuqB,cAAcC,kBAA0D,IAAxBpkC,KAAK+hC,gBACzH,WACE,IAAIvD,EAAewE,EAAOK,MAAM,uBAAuB,WACrD,OAAO9E,EAAgByE,EAAO1kB,WAE5B+lB,EAAiBrB,EAAOK,MAAM,8BAA8B,WAC9D,OAAOvF,EAAUU,MAEf8F,EAAoBrpB,iBAAiBujB,GACrC+F,EAAmBF,EAEnBG,EAAe,GAQnB,GAPA,CAAC,MAAO,OAAQ,SAAU,SAASjkB,SAAQ,SAAUwiB,GACnDyB,EAAazB,EAAKtiC,eAAiB4S,WAAWixB,EAAkB,SAAWvB,EAAO,aAGpFsB,EAAetgB,MAAQga,EAAI/D,KAAKlY,YAAcuiB,EAAerqB,KAAOuqB,EAAiBtqB,MAAQuqB,EAAazgB,MAC1GsgB,EAAe3gB,OAASqa,EAAI/D,KAAKjY,aAAesiB,EAAeprB,IAAMsrB,EAAiBrrB,OAASsrB,EAAa9gB,OAExG+R,EAAKsO,KAAK9qB,KAAOorB,EAAeprB,IAAMurB,EAAavrB,KAAOwc,EAAKsO,KAAKrgB,QAAU2gB,EAAe3gB,QAC3F+R,EAAKsO,KAAK/pB,MAAQqqB,EAAerqB,KAAOwqB,EAAaxqB,MAAQyb,EAAKsO,KAAKhgB,OAASsgB,EAAetgB,MAAO,CAExG,IAAI5J,EAAYqkB,EAAarkB,UACzB2I,EAAa0b,EAAa1b,WAI9B2S,EAAKzc,OAAS,CACZC,IAAKwc,EAAKsO,KAAK9qB,IAAMorB,EAAeprB,IAAMkB,EAAYqqB,EAAavrB,IACnEe,KAAMyb,EAAKsO,KAAK/pB,KAAOqqB,EAAerqB,KAAO8I,EAAa0hB,EAAaxqB,OA5B/E,GAsCFha,KAAKykC,KAAKhP,GAEVz1B,KAAK4hC,QAAQ8C,QAAQjP,GAEjBz1B,KAAK4hC,QAAQ/3B,OAAS,GACxB7J,KAAK4hC,QAAQjC,MAGXsD,GACFvD,KAGK,KAIR,CACDvhC,IAAK,OACLN,MAAO,SAAc2Y,GACnB,IAAImuB,EAAS3kC,KAEb,QAAyC,IAA5BA,KAAKgb,QAAQiB,WAA1B,CAIA,IAAI2oB,EAAO,GAEX,IAAK,IAAI7I,KAAQvlB,EAGf,IAAK,IAAIrY,KAFTymC,EAAK7I,GAAQ,GAEGvlB,EAAIulB,GAAO,CAGzB,IAFA,IAAI8I,GAAQ,EAEHjoC,EAAI,EAAGA,EAAIoD,KAAK4hC,QAAQ/3B,SAAUjN,EAAG,CAC5C,IAAIkoC,EAAQ9kC,KAAK4hC,QAAQhlC,GACzB,QAA2B,IAAhBkoC,EAAM/I,KAA0BkE,EAAO6E,EAAM/I,GAAM59B,GAAMqY,EAAIulB,GAAM59B,IAAO,CACnF0mC,GAAQ,EACR,OAICA,IACHD,EAAK7I,GAAM59B,IAAO,GAKxB,IAsF2DqiB,EACjDtjB,EAvFNq2B,EAAM,CAAEta,IAAK,GAAIe,KAAM,GAAI+J,MAAO,GAAIL,OAAQ,IAE9CqhB,EAAa,SAAoBC,EAAOC,GAG1C,IAAY,UAFmD,IAAjCN,EAAO/qB,QAAQuqB,cAChBQ,EAAO/qB,QAAQuqB,cAAce,IAAM,MAC7C,CACjB,IAAIC,OAAOhmB,EACPimB,OAAOjmB,EACP6lB,EAAM/rB,KACRsa,EAAIta,IAAM,EACVksB,EAAOF,EAAKhsB,MAEZsa,EAAI7P,OAAS,EACbyhB,GAAQF,EAAKvhB,QAGXshB,EAAMhrB,MACRuZ,EAAIvZ,KAAO,EACXorB,EAAOH,EAAKjrB,OAEZuZ,EAAIxP,MAAQ,EACZqhB,GAAQH,EAAKlhB,OAGwB,iBAA5B7J,OAAOmrB,kBAAiCA,iBAAmB,GAAM,IAC1ED,EAAOnmC,KAAKK,MAAM8lC,EAAOC,kBAAoBA,iBAC7CF,EAAOlmC,KAAKK,MAAM6lC,EAAOE,kBAAoBA,kBAG/C9R,EAAI+M,GAAgB,cAAgB8E,EAAO,kBAAoBD,EAAO,MAEjD,gBAAjB7E,IAGF/M,EAAI+M,IAAiB,uBAGnB0E,EAAM/rB,IACRsa,EAAIta,IAAMgsB,EAAKhsB,IAAM,KAErBsa,EAAI7P,OAASuhB,EAAKvhB,OAAS,KAGzBshB,EAAMhrB,KACRuZ,EAAIvZ,KAAOirB,EAAKjrB,KAAO,KAEvBuZ,EAAIxP,MAAQkhB,EAAKlhB,MAAQ,MAK3BuhB,GAAQ,EA6BZ,IA5BKV,EAAKb,KAAK9qB,KAAO2rB,EAAKb,KAAKrgB,UAAYkhB,EAAKb,KAAK/pB,MAAQ4qB,EAAKb,KAAKhgB,QACtEwP,EAAIrF,SAAW,WACf6W,EAAWH,EAAKb,KAAMvtB,EAAIutB,QAChBa,EAAKZ,SAAS/qB,KAAO2rB,EAAKZ,SAAStgB,UAAYkhB,EAAKZ,SAAShqB,MAAQ4qB,EAAKZ,SAASjgB,QAC7FwP,EAAIrF,SAAW,QACf6W,EAAWH,EAAKZ,SAAUxtB,EAAIwtB,gBACE,IAAhBY,EAAK5rB,QAA0B4rB,EAAK5rB,OAAOC,KAAO2rB,EAAK5rB,OAAOgB,KAC9E,WACEuZ,EAAIrF,SAAW,WACf,IAAIsQ,EAAemG,EAAOtB,MAAM,uBAAuB,WACrD,OAAO9E,EAAgBoG,EAAOrmB,WAG5BigB,EAAgBoG,EAAO3pB,WAAawjB,GACtCL,GAAM,WACJwG,EAAO3pB,QAAQiB,WAAWC,YAAYyoB,EAAO3pB,SAC7CwjB,EAAatc,YAAYyiB,EAAO3pB,YAIpC+pB,EAAWH,EAAK5rB,OAAQxC,EAAIwC,QAC5BssB,GAAQ,EAdV,IAiBA/R,EAAIrF,SAAW,WACf6W,EAAW,CAAE9rB,KAAK,EAAMe,MAAM,GAAQxD,EAAIutB,QAGvCuB,EACH,GAAItlC,KAAK4Z,QAAQ2rB,YACXvlC,KAAKgb,QAAQiB,aAAejc,KAAK4Z,QAAQ2rB,aAC3CvlC,KAAK4Z,QAAQ2rB,YAAYrjB,YAAYliB,KAAKgb,aAEvC,CAUL,IATA,IAMIwqB,GAAqB,EAErBC,EAAczlC,KAAKgb,QAAQiB,WACxBwpB,GAAwC,IAAzBA,EAAYlI,UAA0C,SAAxBkI,EAAY3f,UAR1D5oB,cADiDsjB,EASoDilB,GAR/FrgB,eACCsgB,mBAAqBxoC,EAAEyoC,yBAA2BzoC,EAAE0oC,sBAAwB1oC,EAAE2oC,uBAC3ErlB,IAMyG,CACvH,GAA+C,WAA3CvF,iBAAiBwqB,GAAavX,SAAuB,CACvDsX,GAAqB,EACrB,MAGFC,EAAcA,EAAYxpB,WAGvBupB,IACHxlC,KAAKgb,QAAQiB,WAAWC,YAAYlc,KAAKgb,SACzChb,KAAKgb,QAAQoK,cAAc4U,KAAK9X,YAAYliB,KAAKgb,UAMvD,IAAI8qB,EAAW,GACXC,GAAQ,EACZ,IAAK,IAAI5nC,KAAOo1B,EAAK,CACnB,IAAI1f,EAAM0f,EAAIp1B,GACF6B,KAAKgb,QAAQI,MAAMjd,KAEjB0V,IACZkyB,GAAQ,EACRD,EAAS3nC,GAAO0V,GAIhBkyB,GACF5H,GAAM,WACJ1G,EAAOkN,EAAO3pB,QAAQI,MAAO0qB,GAC7BnB,EAAOxI,QAAQ,wBAMhBqF,EArqBU,CAsqBhB3J,GAEH2J,EAAY1kC,QAAU,GAEtB6/B,EAAWzO,SAAWA,EAEtB,IAAI0G,EAAS6C,EAAO+J,EAAa7E,GAK7B5H,EAAib,SAAUC,EAAKp4B,GAAK,GAAIyf,MAAM4Y,QAAQD,GAAQ,OAAOA,EAAY,GAAIr3B,OAAOu3B,YAAY53B,OAAO03B,GAAQ,OAAxf,SAAuBA,EAAKp4B,GAAK,IAAIu4B,EAAO,GAAQC,GAAK,EAAUC,GAAK,EAAWC,OAAKnW,EAAW,IAAM,IAAK,IAAiCoW,EAA7BC,EAAKR,EAAIr3B,OAAOu3B,cAAmBE,GAAMG,EAAKC,EAAGC,QAAQC,QAAoBP,EAAK9vB,KAAKkwB,EAAG13B,QAAYjB,GAAKu4B,EAAKtrB,SAAWjN,GAA3Dw4B,GAAK,IAAoE,MAAOO,GAAON,GAAK,EAAMC,EAAKK,EAAtL,QAAuM,KAAWP,GAAMI,EAAA,QAAcA,EAAA,SAA/B,QAA2D,GAAIH,EAAI,MAAMC,GAAQ,OAAOH,EAA6HS,CAAcZ,EAAKp4B,GAAa,MAAM,IAAIi5B,UAAU,yDAGnlBiI,GADAkC,EAAoBrD,EAAWnF,OACDsG,UAHlC,IAIIrG,EAASuI,EAAkBvI,OAI3BuO,GAHAzG,EAAgBS,EAAkBT,cAClCpB,EAAQ6B,EAAkB7B,MAEV,CAAC,OAAQ,MAAO,QAAS,WA6C7CxB,EAAW7/B,QAAQuI,KAAK,CACtB6oB,SAAU,SAAkBkK,GAC1B,IAAI0C,EAAQ96B,KAERiZ,EAAMmf,EAAKnf,IACXe,EAAOoe,EAAKpe,KACZkhB,EAAmB9C,EAAK8C,iBAE5B,IAAKl7B,KAAK4Z,QAAQ2U,YAChB,OAAO,EAGT,IAAIiU,EAASxiC,KAAKqjC,MAAM,kBAAkB,WACxC,OAAOvF,EAAUhD,EAAM9f,YAGrB9B,EAASspB,EAAOtpB,OAChBe,EAAQuoB,EAAOvoB,MAEnB,GAAc,IAAVA,GAA0B,IAAXf,QAAyC,IAAlBlZ,KAAKsjC,SAA0B,CACvE,IAAIC,EAAYvjC,KAAKsjC,SAIrBrpB,EAAQspB,EAAUtpB,MAClBf,EAASqqB,EAAUrqB,OAGrB,IAAIwqB,EAAa1jC,KAAKqjC,MAAM,iBAAiB,WAC3C,OAAOvI,EAAM2I,qBAGXwC,EAAevC,EAAWxqB,OAC1BgtB,EAAcxC,EAAWzpB,MAEzBksB,EAAa,CAACnmC,KAAKiiC,SAAS,UAAWjiC,KAAKiiC,SAAS,kBAEzDjiC,KAAK4Z,QAAQ2U,YAAYhO,SAAQ,SAAU6lB,GACzC,IAAIC,EAAmBD,EAAWC,iBAC9BC,EAAcF,EAAWE,YAEzBD,GACFF,EAAW9gC,KAAKghC,GAEdC,GACFH,EAAW9gC,KAAKihC,MAIpBH,EAAW5lB,SAAQ,SAAU9D,GAC3B,CAAC,OAAQ,MAAO,QAAS,UAAU8D,SAAQ,SAAUwiB,GACnDoD,EAAW9gC,KAAKoX,EAAM,IAAMsmB,SAIhC,IAAIwD,EAAa,GAEbC,EAAc/O,EAAO,GAAIyD,GACzBuL,EAAchP,EAAO,GAAIz3B,KAAK0uB,YA8QlC,OA5QA1uB,KAAK4Z,QAAQ2U,YAAYhO,SAAQ,SAAU6lB,GACzC,IAAI5X,EAAK4X,EAAW5X,GAChBE,EAAa0X,EAAW1X,WACxBD,EAAM2X,EAAW3X,SAEK,IAAfC,IACTA,EAAa,IAGf,IAAIgY,OAAgBvnB,EAChBwnB,OAAgBxnB,EACpB,GAAIuP,EAAWnb,QAAQ,MAAQ,EAAG,CAChC,IAAIqzB,EAAoBlY,EAAWzC,MAAM,KAErC4a,EAAqB9R,EAAe6R,EAAmB,GAE3DD,EAAgBE,EAAmB,GACnCH,EAAgBG,EAAmB,QAEnCH,EAAgBC,EAAgBjY,EAGlC,IAAI0T,EA7HV,SAAyB/G,EAAQ7M,GAwC/B,MAvCW,iBAAPA,EACFA,EAAK6M,EAAO6G,cAAc,GACV,WAAP1T,IACTA,EAAK,CAAC/I,YAAaD,YAAa2c,WAAa1c,YAAarL,YAAcoL,cAGtEgJ,IAAOjT,WACTiT,EAAKA,EAAG3N,sBAGiB,IAAhB2N,EAAG+O,UACZ,WACE,IAAIT,EAAOtO,EACPplB,EAAO00B,EAAUtP,GACjBhY,EAAMpN,EACNgS,EAAQH,iBAAiBuT,GAK7B,GAHAA,EAAK,CAAChY,EAAIwD,KAAMxD,EAAIyC,IAAK7P,EAAK6Q,MAAQzD,EAAIwD,KAAM5Q,EAAK8P,OAAS1C,EAAIyC,KAG9D6jB,EAAK1X,gBAAkB7J,SAAU,CACnC,IAAI0oB,EAAMnH,EAAK1X,cAAc8X,YAC7B1O,EAAG,IAAMyV,EAAIxe,YACb+I,EAAG,IAAMyV,EAAIze,YACbgJ,EAAG,IAAMyV,EAAIxe,YACb+I,EAAG,IAAMyV,EAAIze,YAGfwgB,EAAczlB,SAAQ,SAAUwiB,EAAMnmC,GAEvB,SADbmmC,EAAOA,EAAK,GAAG15B,cAAgB05B,EAAKhhC,OAAO,KACZ,SAATghC,EACpBvU,EAAG5xB,IAAMyW,WAAW+H,EAAM,SAAW2nB,EAAO,UAE5CvU,EAAG5xB,IAAMyW,WAAW+H,EAAM,SAAW2nB,EAAO,aAtBlD,GA4BKvU,EAqFUsY,CAAgBhM,EAAOtM,GAEd,WAAlBmY,GAAgD,SAAlBA,IAC5B1tB,EAAMmpB,EAAO,IAA0B,QAApBoE,EAAYvtB,MACjCA,GAAOgtB,EACPO,EAAYvtB,IAAM,UAGhBA,EAAMC,EAASkpB,EAAO,IAA0B,WAApBoE,EAAYvtB,MAC1CA,GAAOgtB,EACPO,EAAYvtB,IAAM,QAIA,aAAlB0tB,IACsB,QAApBH,EAAYvtB,MACU,WAApBwtB,EAAYxtB,KAAoBA,EAAMmpB,EAAO,IAC/CnpB,GAAOgtB,EACPO,EAAYvtB,IAAM,SAElBA,GAAOC,EACPutB,EAAYxtB,IAAM,OACW,QAApBwtB,EAAYxtB,KAAiBA,EAAMC,EAASkpB,EAAO,IAAMnpB,GAAOC,EAAS+sB,IAAiB7D,EAAO,KAC1GnpB,GAAOC,EAAS+sB,EAChBO,EAAYvtB,IAAM,SAElBwtB,EAAYxtB,IAAM,WAIE,WAApButB,EAAYvtB,MACU,QAApBwtB,EAAYxtB,KAAiBA,EAAMC,EAASkpB,EAAO,IACrDnpB,GAAOgtB,EACPO,EAAYvtB,IAAM,MAElBA,GAAOC,EACPutB,EAAYxtB,IAAM,UACW,WAApBwtB,EAAYxtB,KAAoBA,EAAMmpB,EAAO,IAAMnpB,GAAgB,EAATC,EAAa+sB,IAAiB7D,EAAO,KACxGnpB,GAAOC,EAAS+sB,EAChBO,EAAYvtB,IAAM,MAElBwtB,EAAYxtB,IAAM,QAIE,WAApButB,EAAYvtB,MACVA,EAAMC,EAASkpB,EAAO,IAA0B,QAApBqE,EAAYxtB,KAC1CA,GAAOC,EACPutB,EAAYxtB,IAAM,UACTA,EAAMmpB,EAAO,IAA0B,WAApBqE,EAAYxtB,MACxCA,GAAOC,EACPutB,EAAYxtB,IAAM,SAKF,WAAlBytB,GAAgD,SAAlBA,IAC5B1sB,EAAOooB,EAAO,IAA2B,SAArBoE,EAAYxsB,OAClCA,GAAQksB,EACRM,EAAYxsB,KAAO,SAGjBA,EAAOC,EAAQmoB,EAAO,IAA2B,UAArBoE,EAAYxsB,OAC1CA,GAAQksB,EACRM,EAAYxsB,KAAO,SAID,aAAlB0sB,IACE1sB,EAAOooB,EAAO,IAA2B,SAArBoE,EAAYxsB,KACT,UAArBysB,EAAYzsB,MACdA,GAAQksB,EACRM,EAAYxsB,KAAO,QAEnBA,GAAQC,EACRwsB,EAAYzsB,KAAO,QACW,SAArBysB,EAAYzsB,OACrBA,GAAQksB,EACRM,EAAYxsB,KAAO,QAEnBA,GAAQC,EACRwsB,EAAYzsB,KAAO,SAEZA,EAAOC,EAAQmoB,EAAO,IAA2B,UAArBoE,EAAYxsB,KACxB,SAArBysB,EAAYzsB,MACdA,GAAQksB,EACRM,EAAYxsB,KAAO,OAEnBA,GAAQC,EACRwsB,EAAYzsB,KAAO,SACW,UAArBysB,EAAYzsB,OACrBA,GAAQksB,EACRM,EAAYxsB,KAAO,OAEnBA,GAAQC,EACRwsB,EAAYzsB,KAAO,QAES,WAArBwsB,EAAYxsB,OACjBA,EAAOC,EAAQmoB,EAAO,IAA2B,SAArBqE,EAAYzsB,MAC1CA,GAAQC,EACRwsB,EAAYzsB,KAAO,SACVA,EAAOooB,EAAO,IAA2B,UAArBqE,EAAYzsB,OACzCA,GAAQC,EACRwsB,EAAYzsB,KAAO,UAKH,YAAlB2sB,GAAiD,SAAlBA,IAC7B1tB,EAAMmpB,EAAO,IAA0B,WAApBqE,EAAYxtB,MACjCA,GAAOC,EACPutB,EAAYxtB,IAAM,OAGhBA,EAAMC,EAASkpB,EAAO,IAA0B,QAApBqE,EAAYxtB,MAC1CA,GAAOC,EACPutB,EAAYxtB,IAAM,WAIA,YAAlBytB,GAAiD,SAAlBA,IAC7B1sB,EAAOooB,EAAO,KACS,UAArBqE,EAAYzsB,MACdA,GAAQC,EACRwsB,EAAYzsB,KAAO,QACW,WAArBysB,EAAYzsB,OACrBA,GAAQC,EAAQ,EAChBwsB,EAAYzsB,KAAO,SAInBA,EAAOC,EAAQmoB,EAAO,KACC,SAArBqE,EAAYzsB,MACdA,GAAQC,EACRwsB,EAAYzsB,KAAO,SACW,WAArBysB,EAAYzsB,OACrBA,GAAQC,EAAQ,EAChBwsB,EAAYzsB,KAAO,WAKN,iBAARyU,EACTA,EAAMA,EAAIxC,MAAM,KAAK8a,KAAI,SAAUroC,GACjC,OAAOA,EAAEugC,WAEM,IAARxQ,IACTA,EAAM,CAAC,MAAO,OAAQ,QAAS,WAGjCA,EAAMA,GAAO,GAEb,IAyCQ6X,EAgBAU,EAzDJC,EAAS,GACTC,EAAM,GAENjuB,EAAMmpB,EAAO,KACX3T,EAAIlb,QAAQ,QAAU,GACxB0F,EAAMmpB,EAAO,GACb6E,EAAO5hC,KAAK,QAEZ6hC,EAAI7hC,KAAK,QAIT4T,EAAMC,EAASkpB,EAAO,KACpB3T,EAAIlb,QAAQ,WAAa,GAC3B0F,EAAMmpB,EAAO,GAAKlpB,EAClB+tB,EAAO5hC,KAAK,WAEZ6hC,EAAI7hC,KAAK,WAIT2U,EAAOooB,EAAO,KACZ3T,EAAIlb,QAAQ,SAAW,GACzByG,EAAOooB,EAAO,GACd6E,EAAO5hC,KAAK,SAEZ6hC,EAAI7hC,KAAK,SAIT2U,EAAOC,EAAQmoB,EAAO,KACpB3T,EAAIlb,QAAQ,UAAY,GAC1ByG,EAAOooB,EAAO,GAAKnoB,EACnBgtB,EAAO5hC,KAAK,UAEZ6hC,EAAI7hC,KAAK,UAIT4hC,EAAOp9B,SAEHy8B,OAAcnnB,EAEhBmnB,OADuC,IAA9BxL,EAAMlhB,QAAQ0sB,YACTxL,EAAMlhB,QAAQ0sB,YAEdxL,EAAMmH,SAAS,UAG/BsE,EAAWlhC,KAAKihC,GAChBW,EAAO1mB,SAAQ,SAAUwiB,GACvBwD,EAAWlhC,KAAKihC,EAAc,IAAMvD,OAKtCmE,EAAIr9B,SAEAm9B,OAAW7nB,EAEb6nB,OAD4C,IAAnClM,EAAMlhB,QAAQysB,iBACZvL,EAAMlhB,QAAQysB,iBAEdvL,EAAMmH,SAAS,iBAG5BsE,EAAWlhC,KAAK2hC,GAChBE,EAAI3mB,SAAQ,SAAUwiB,GACpBwD,EAAWlhC,KAAK2hC,EAAW,IAAMjE,QAKnCkE,EAAO1zB,QAAQ,SAAW,GAAK0zB,EAAO1zB,QAAQ,UAAY,KAC5DkzB,EAAYzsB,KAAOwsB,EAAYxsB,MAAO,IAEpCitB,EAAO1zB,QAAQ,QAAU,GAAK0zB,EAAO1zB,QAAQ,WAAa,KAC5DkzB,EAAYxtB,IAAMutB,EAAYvtB,KAAM,GAGlCutB,EAAYvtB,MAAQiiB,EAAiBjiB,KAAOutB,EAAYxsB,OAASkhB,EAAiBlhB,MAAQysB,EAAYxtB,MAAQ6hB,EAAMpM,WAAWzV,KAAOwtB,EAAYzsB,OAAS8gB,EAAMpM,WAAW1U,OAC9K8gB,EAAMqI,oBAAoBsD,EAAaD,GACvC1L,EAAMqB,QAAQ,SAAU,CACtBzN,WAAY+X,EACZvL,iBAAkBsL,QAKxBrI,GAAM,YACqC,IAAnCrD,EAAMlhB,QAAQ2gB,kBAClBgF,EAAczE,EAAMxc,OAAQioB,EAAYJ,GAE1C5G,EAAczE,EAAM9f,QAASurB,EAAYJ,MAGpC,CAAEltB,IAAKA,EAAKe,KAAMA,MAO7B,IAAIgmB,EACAlC,GADAkC,EAAoBrD,EAAWnF,OACDsG,UAC9ByB,EAAgBS,EAAkBT,cAkHtC,OAjHIpB,EAAQ6B,EAAkB7B,MAE9BxB,EAAW7/B,QAAQuI,KAAK,CACtB6oB,SAAU,SAAkBkK,GAC1B,IAAI0C,EAAQ96B,KAERiZ,EAAMmf,EAAKnf,IACXe,EAAOoe,EAAKpe,KAEZwoB,EAASxiC,KAAKqjC,MAAM,kBAAkB,WACxC,OAAOvF,EAAUhD,EAAM9f,YAGrB9B,EAASspB,EAAOtpB,OAChBe,EAAQuoB,EAAOvoB,MAEfupB,EAAYxjC,KAAKyjC,kBAEjB/f,EAASzK,EAAMC,EACf6K,EAAQ/J,EAAOC,EAEfktB,EAAU,GACVluB,GAAOuqB,EAAU9f,QAAUA,GAAU8f,EAAUvqB,KACjD,CAAC,OAAQ,SAASsH,SAAQ,SAAUwiB,GAClC,IAAIqE,EAAgB5D,EAAUT,GAC1BqE,IAAkBptB,GAAQotB,IAAkBrjB,GAC9CojB,EAAQ9hC,KAAK09B,MAKf/oB,GAAQwpB,EAAUzf,OAASA,GAASyf,EAAUxpB,MAChD,CAAC,MAAO,UAAUuG,SAAQ,SAAUwiB,GAClC,IAAIqE,EAAgB5D,EAAUT,GAC1BqE,IAAkBnuB,GAAOmuB,IAAkB1jB,GAC7CyjB,EAAQ9hC,KAAK09B,MAKnB,IAAIoD,EAAa,GACbI,EAAa,GAuBjB,OApBAJ,EAAW9gC,KAAKrF,KAAKiiC,SAAS,YADlB,CAAC,OAAQ,MAAO,QAAS,UAE/B1hB,SAAQ,SAAUwiB,GACtBoD,EAAW9gC,KAAKy1B,EAAMmH,SAAS,WAAa,IAAMc,MAGhDoE,EAAQt9B,QACV08B,EAAWlhC,KAAKrF,KAAKiiC,SAAS,YAGhCkF,EAAQ5mB,SAAQ,SAAUwiB,GACxBwD,EAAWlhC,KAAKy1B,EAAMmH,SAAS,WAAa,IAAMc,MAGpD5E,GAAM,YACqC,IAAnCrD,EAAMlhB,QAAQ2gB,kBAClBgF,EAAczE,EAAMxc,OAAQioB,EAAYJ,GAE1C5G,EAAczE,EAAM9f,QAASurB,EAAYJ,OAGpC,KAOPpR,EAAib,SAAUC,EAAKp4B,GAAK,GAAIyf,MAAM4Y,QAAQD,GAAQ,OAAOA,EAAY,GAAIr3B,OAAOu3B,YAAY53B,OAAO03B,GAAQ,OAAxf,SAAuBA,EAAKp4B,GAAK,IAAIu4B,EAAO,GAAQC,GAAK,EAAUC,GAAK,EAAWC,OAAKnW,EAAW,IAAM,IAAK,IAAiCoW,EAA7BC,EAAKR,EAAIr3B,OAAOu3B,cAAmBE,GAAMG,EAAKC,EAAGC,QAAQC,QAAoBP,EAAK9vB,KAAKkwB,EAAG13B,QAAYjB,GAAKu4B,EAAKtrB,SAAWjN,GAA3Dw4B,GAAK,IAAoE,MAAOO,GAAON,GAAK,EAAMC,EAAKK,EAAtL,QAAuM,KAAWP,GAAMI,EAAA,QAAcA,EAAA,SAA/B,QAA2D,GAAIH,EAAI,MAAMC,GAAQ,OAAOH,EAA6HS,CAAcZ,EAAKp4B,GAAa,MAAM,IAAIi5B,UAAU,yDAEvlB8G,EAAW7/B,QAAQuI,KAAK,CACtB6oB,SAAU,SAAkBkK,GAC1B,IAAInf,EAAMmf,EAAKnf,IACXe,EAAOoe,EAAKpe,KAEhB,GAAKha,KAAK4Z,QAAQytB,MAAlB,CAIA,IAAIA,EAAQrnC,KAAK4Z,QAAQytB,MACS,mBAAvBrnC,KAAK4Z,QAAQytB,QACtBA,EAAQrnC,KAAK4Z,QAAQytB,MAAMtqC,KAAKiD,KAAM,CAAEiZ,IAAKA,EAAKe,KAAMA,KAG1D,IAAIstB,OAAWnoB,EACXooB,OAAYpoB,EAChB,GAAqB,iBAAVkoB,EAAoB,EAC7BA,EAAQA,EAAMpb,MAAM,MACd,GAAKob,EAAM,IAAMA,EAAM,GAE7B,IAEIG,EAAUzS,EAFDsS,EAEwB,GAErCC,EAAWE,EAAQ,GACnBD,EAAYC,EAAQ,GAEpBF,EAAWj0B,WAAWi0B,EAAU,IAChCC,EAAYl0B,WAAWk0B,EAAW,SAElCD,EAAWD,EAAMpuB,IACjBsuB,EAAYF,EAAMrtB,KAMpB,MAAO,CAAEf,IAHTA,GAAOquB,EAGYttB,KAFnBA,GAAQutB,OAKL3S,IArxDH,gC,yMCJJ,EAUA,aCEE,EAAS,CACT,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,W,SAgBA,EAAO,GACR,sB,SAGC,EAAO,GACR,4BAlBiB,EAqBH6S,EAnBT,IAAuB,QAAS,GACpCC,EAAkB,EAAE,SAAM,EAAe,CAAE,MAC3CA,EAAkB,IAAE,MAAIA,EAvEE,G,EAwEjB,EAAE,EAAO,OAAY,YAC3B,4BAGH,EAAO,EAAM,cAAiB,EAAU,oBACzC,aAWc,IArBG,EAEZ,EACJA,E,ICzDA,EAA+C,W,SAA3B,EAAAzY,GAAgC,iBA6HrD,O,EA1HQ,UAAa,wBAClBjvB,KAAK,WACLA,KAAK,YAAU,EAChB,yB,EAGM,UAAa,aAAK,WACxB,oB,EAGU,UAAQ,uBACfA,KAAK4Y,QACL5Y,KAAK4Y,MAAM,MACX5Y,KAAK4Y,MAAM,YAAc,KAACqW,UAAU,UAAS,GAC9C,4CAIDjvB,KAAK4Y,MAAM,SAAiB,QAC5B,KAAI,MAAM,UAAI,EACZ,EAAK,KACL5Y,KAAK4Y,MAAM,QAAQ,IAAQ,MAC5B,wBAGF,yB,EAGM,UAAc,wBACnB5Y,KAAK,QACN,yB,EAGU,UAAU,cAAY,SAAc,K,GAC3C,YAAO,a,KA2FJ,EAvFH,G,YACS,CACP,MDpDqB,uBCqDrB,SAAU,SACX,c,MAEC,CACA,MD1DK,uBC2DL,SAAU,SACX,c,WAEQ,CACP,MD7DK,yBC8DL,SAAU,SACX,c,WAEQ,CACP,MDrEgB,uBCsEhB,SAAU,SACX,e,GAID,KAAI,M,EACF,WAAW,SACT,C,CAEE,UAAU,EACV,SAAS,MAAK,KAAM,UACpB,QAAMA,KAAK4Y,MAAM,QAAI,UACrB,UAAW,WACX,UAAW,aACZ,uBAID,C,CAEE,IAAI,KAAM,MAAM,KAAK,UACrB,UAAW,MAAK,KAChB,UAAW,WACZ,8B,IAMH,IAAIhc,EAAK,EAAE,EAAA+qC,EAAe,YAE1B,WAEA9uB,EAAK,IAAMA,EAAKV,KAChBU,EAAK,MAAS,KAEd,EAAI,UAAa,EAAE,YACjBA,EAAK,SACL,YAAS,iBAITsY,EAAMtY,EAAK+uB,OAAOzqC,Q,EAChB,EAAO,OAAK,MAAO,CACnB,QAAU,OAAQ,UAClB,SAAU,SACV,gB,SA2BK,EAAgB,GAC/B,IAGA,EAHI,IAAe,c,EAIE,sB,IAeT,EAAU,EAClB2C,EAdD,EADC,UACD,oBDtJmB,uBCmKV,EARI,EAQM,ED9JX,IC+JPA,EAAM,IAAW,GATnB,EAUAA,EAAM,WACN,WAAa,GACd,iBAEA,E,EAbQ,KAAI,CACT,MAAO,QAAS,kBACf,aAlCH,EAeK,EAjBmB,EAkB3B,0BAhB4B,GAGzB+nC,EAAY,KAAK,mBADA,EAGjBA,EAAY,MAAM,mBAJO,G,EAKf,QACR,OAAM,EAAW,mBACjB,KAAK,EACL,MAAO,EACP,gBAEL,EA7HgD,G,6BC2G3C,IAAE,GACF,IAGA,EAQA,EAXA,E,SC5Ee,G,IACnB,IAAI,EAAU,KAEd,EAAmB,KAAV,EAAM,sBACb,IAAI,EAAO,EAAS,IACR,OAAVC,GAAiB,EAAU,eAC5B,gBAEW,OAAVC,GAAiB,EAAU,eAC5B,eAIJ,4BD+DK,kBAAE,UACF,E,SAlDE,EAAuB,OAE7B,IACI,IAAoB,MAAZ,EAAmB,EAAW,GACtC,IAAkB,MAAV,EAAU,KAElBC,EAAK,EAAQ,E,GACf,OAGA,IAEI,EAAQ,KAAK,IAAM,IAAF,EAAE,EAFN,IAEM,GACR,OAAb,IACD,MAIa,MAAZ,GAAa,UACd,UAED,CAIgB,MAAZ,IACA,GAxBc,IAwBd,GAGQ,GAAE,gBACT,KAGW,MAAZ,IACA,GAhCc,IAgCP,GACC,GAAE,gBACT,KAKR,oBASK,CAAY,yBAGZ,GAHY,MAGA,GAFZ,EAIA,GAAO/oC,KAAK,MAAM,KAAG,IAAK,cAC9B,kBAEI,EAAK,IAuBV,OApBG,EAAO,IACR,IACK,EAAK,GACT,IAEE,EAAO,OACP,EAAM,MACP,IAGF,EADK,EAAK,IACV,EAEA,GAID,KAID,cAHC,OAAmB,SAGpB,eADsB,OAAE,WAAc,YAAE,O,SCvJlC,EAAc,K,IACjB,EACD,S,GAGa,MAAZ,EAAY,GAAG,CACf,MAAO,EAAiB,EAAC,gBAAe,GACzC,wBAGF,a,MA+EiB,W,SACT,EAAU,GACfe,KAAK,WAAa,EAAK,WACvBA,KAAK,MAAKD,EAAKkoC,MACfjoC,KAAK,GAAK,EAAG,MACbA,KAAKioC,MAAA,EAAY,MACjBjoC,KAAK,aAAa,EAAM,kBACxBA,KAAK,QAAa,MAClBA,KAAK,cAAW,sBAChBA,KAAK,MAAM,GACXA,KAAK,QAAO,EACZA,KAAK,YACN,iDA+OF,O,EA5OQ,UAAW,iCAChBA,KAAK,MAAM,G,KACT,OAAU,CACV,eAEFA,KAAK,OAAS,GACdA,KAAK,KAAK,GACVA,KAAK,MAAM,EACXA,KAAK,SACL,mBAAkB,YAEb,KAAK,M,IACR,IAAI,IAAQ,EAAGkoC,EAAW,OAAE,KAC5B,IAAI,EAAC,EAAoB,GACvB,EAAS,2BAGS,IAAlB,EAAKpyB,QACN,8BAEoB,IAAnB,EAAKqyB,SACLnoC,KAAK,OAAM,OAAc,OAC1B,6BAEoB,IAAnB,EAAK4V,SACN,gCAEkB,IAAjB,EAAS,OACV,4BAEmB,IAAlB,EAAK,OACN,gBAzHN,KADuC,EA0HjC,QAzHN,gBA2HoB,IAAb,EAAKkC,QACN,yBAEwB,IAAvB,EAAK,YACL9X,KAAK,MAAM,UAAU,KAAG,OAAS,KAAS,EAAC,YAC5C,wCAEyB,IAAxB,EAAK,aACN,6CAE0B,IAAzB,EAAK,cACN,8CAEsB,IAArB,EAAKooC,gBACN,yCAEsB,IAArB,EAAK,cACN,uCAEoB,IAAnB,EAAK,cACN,qCAEe,IAAd,EAAKC,SACN,2BAEoB,IAAnB,EAAKC,cACN,qCAEc,IAAb,EAAKxoC,QACN,yBAEkB,IAAjB,EAAKyoC,YACN,iCAEe,IAAd,EAAKhxB,SACN,2BAGc,IAAb,EAAKJ,QACN,qB,IAnKiC,G,EAwKhC,UAAY,yBAEhB,IAAI,EAAO,GACXnX,KAAKwoC,MAAM,MAAO,EAClBxoC,KAAKwoC,MAAM,KAAMzuB,OAAO0uB,UACxBzoC,KAAKwoC,MAAM,IAAM,OAAG,UACpBxoC,KAAKwoC,MAAM,OAAM,OAAK,UACtBxoC,KAAKwoC,MAAM,SACXxoC,KAAKwoC,MAAM,QAAQ,KACnBxoC,KAAKwoC,MAAM,MAAQ,KACnBxoC,KAAKwoC,MAAM,MAAO,EAClBxoC,KAAKwoC,MAAM,KAAK,KAChBxoC,KAAKwoC,MAAM,MAAQ,KACnBxoC,KAAK,eAAiB,iBACtBA,KAAK,WAAY,EAEjB,KAAI,WAAW,E,IACf,IAEI,EACA,EAEA,EALA,EAA2B,cAAd0oC,EACb,EAAY,mBAGZ,IAEA,EAAgB,EAEpB,GAAoB,EAClB,IAAY,EAAG1oC,KAAKwV,WAAY,OAAK,K,GACrC,EAAcxV,KAAKwV,WAAY,GAAG,GAElC,6BAGiB,IAAf,EAA0B,CAC1B,IAAImzB,EAAW,EAAW,EACxB,EAAW,WAAWA,WACvB,uB,GAIH,EAAI,EACe,OAAjB,EAAiB,C,GACf,EACD,SAEC,IACD,KAIG,OAAJ,IACE,EAAoB,WAAa,KACjC3oC,KAAK,aAAY,EACjB,gBAAW,EACZ,KAGC,EAAe,KAAE,YAClB,kBAGC,EAAe,KAAE,YAClB,kBAGoB,OAAnBA,KAAKwoC,MAAMtQ,MACZ,mBAEG,EAAgB,GAEhB,GAAe,EACb,oBAAgB,WAEjB,uBAIA,kBADC,EACD,IAEA,EAEF,MAIH,EAAgB,EACd,EAAW,KAAS,cAAa,MAClC,qBAGkB,IAAjB,IACD,oBAIJ,cAyBF,OAtBGl4B,KAAKwoC,MAAM9oC,OAAM,OAAK,YACvB,qBAECM,KAAKwoC,MAAMhpC,MAAM,OAAK,YACvB,qBAGC,EAAK,SAAYQ,KAAK,YACtBA,KAAKwoC,MAAM,SAAU,MAAO,MAAO,EACnC,KAAI,MAAK,QAAM,EAAY,EAAQ,OAAO,MACnB,OAArBxoC,KAAKwoC,MAAMI,SAAiBre,EAAO1gB,OAAY,IAChD,sCAGkB,OAAnB7J,KAAKwoC,MAAM,KAAmC,OAAtB,KAAM,MAAM,MACrC,gDAEwB,OAAvBxoC,KAAKwoC,MAAM,SAAuC,OAArB,KAAO,MAAG,QACxC,qDAGD,WAAO,MAAO,SACf,G,EAGM,6BAAyB,gBAC9BxoC,KAAK,cAAW,EAChBA,KAAK,WACN,uB,EAGM,sBAAE,SAASnC,GAIjB,OAHG,EAAc,gBACf,QAEF,yD,EAGM,UAAY,qBAAmB,W,IAClC,IAAI,EAAK,SAAY,WAAS,OAAM,I,GACb,OAArB,KAAI,WAAY,MAAgB,CAChC,IAAIgrC,EAAU,KAAM,WAAW,iB,GACjB,KAAZ,EAAO,QAAK,SACb,SAIN,U,EAGK,UAAQ,eAAkB,SAAW,G,SACvC,EAAO,YAAK,mBAIZ,aAMH,6BACF,EA3PiB,G,8BClFhB,EAA6B,W,SAAT,EAAA5Z,GAAa,iBAiOlC,O,EA9NO,UAAmB,cAAU,gBACjC,IAAI,EAAM,EAAS,UAapB,MAZgB,WAAb,cACD,cAWF,sY,EAGK,UAAa,aAAM,YACvB,IAII,EAJA,EAAW,EAAI,EAAI,eAAe,QAAM,yBAExC,EAAa,uCACb,EAAO,KAEP,OAAY,KACZ,EAAY,KAAC,UAEjB,kBAAqB,G,SACf,EAAU,G,GACJ,OAAR6Z,EACD,gBACC,CACA,MAAS,EAAM,QAAQ,EACvB,GAAY,EACZ,IAAW,QACZ,kB,SAID,IAEA,IAAAC,EAAa,EAAS,UAAW,MAAS,IAAG,EAC7C,EAAW,SAAGA,EAAW,YAEzB,QAAc,EACdC,EAAWC,IAAI,YAAWC,GAC1BF,EAAWC,IAAI,aAEf,mBAA4B,G,EAE1B,OAAU,QAAS,WACnBha,EAAU,S,EACR,OAAW,KAAK,qBAChB,UAAW,EACV,mBAKP,EAAM,KAEN,EAAA+Z,EAAc,WAAa,IAC3BA,EAAWpa,GAAG,YAAW,GACzBoa,EAAWpa,GAAG,aACf,sB,EAGM,UAAiB,mBACtB5uB,KAAK,YAAY,KAAG,yBAAM,SAC3B,sB,EAGa,UAAK,aAAW,SAAa,KACzC,IAAI,EAAQ,KAAK,WAAO,GACpBnC,EAAQ,EAAGA,MACX,IAEJ,EAAkB,E,GAEhB,EAAc,cAGd,CACA,MAAoB,KAAM,KAAK,IAAI,GAAK,EAAG,EAACA,IAC7C,6DAJC,KACD,IAMD,IAAI,EAAa,EAAiB,KAAE,sBAEpC,iBAAW,OAAY,GACvBmrC,EAAW,YAAW,iCAAgB,QACvC,gB,EAGc,4BAAuB,WACrC,wG,EAGM,UAAiB,QAAM,cAC5B,KAAK,gBAAe,E,IAClB,IAAI,EAAK,EAAG,IAAS,OAAE,I,GACrB,EAAK,WAAc,CACnB,qBAAM,EACP,M,GAID,KAAI,oBAAsB,CAC1B,IAAI,EAAK,KAAgB,gBAAiB,oCAC3C,6BACM,KAAI,cACV,2B,EAII,UAAkB,cAAgB,GACvChpC,KAAK,WAAY,gCACjBA,KAAK,OAEL,KAAI,YAAK,EAAc,iBACrBA,KAAK,cACN,eAGC,2BAKF,KAAI,OAAK,EAAU,SACjBA,KAAK,kBAAoB,GAC1B,wBAECA,KAAK,kBAAoB,GAC1B,oCAGDA,KAAKmpC,YAAY,IAAG,YAAa,iBACjCnpC,KAAK,YAAY,GAAG,YAAK,8CAC1B,uB,EAGY,UAAU,eAAU,SAAiB,EAAQ,G,GACtD,EAAO,oC,CAIT,IAGA,EAAO,EAAS,EAHZ,EAAU,IACV,GAAG,I,IAGL,MAAY8U,EAAMs0B,WAAW,OAAG,I,GAChC,EAAK,gBACH,EAAS,oB,CAIX,MA4BA,EAAQ,E,OA3BN,EAAW,I,IACT,KACA,IAEE,EAAK,WAAS,OAAY,EAAI,IAC9B,EAAI,EAAM,WAAQ,EAAU,IACrB,MAAS,EAAM,QAErB,EADC,EAAQ,EAAE,OAIf,M,IAEC,KACA,IAEE,EAAK,WAAS,OAAY,EAAI,IAC9B,EAAI,EAAM,WAAQ,EAAU,IACrB,MAAS,EAAM,QAErB,EADC,EAAQ,EAAE,O,OAShB,EAAK,W,IACH,WACA,EAAY,4BACZ,EAAM,0BACP,M,IAEC,UACA,EAAY,2BACZ,EAAM,2BACP,M,IAEC,KACA,EAAY,2BACZ,EAAM,uBACP,M,IAEC,SACA,EAAYC,EAAU,UACtB,EAAM,YAMR,EAAQ,M,EACN,KAAS,SAAM,MACf,MAAO,QAAS,YACf,UAGH,EAAQ,M,EACN,KAAS,SAAM,MACf,MAAO,QAAS,kBACf,aAIV,EAjO8B,G,SCwC7B,EAAkBxrC,EAAQyrC,GAC3B,yB,SC1BC,EAAO,O,MACL,CACA,SAAU,IACV,SAAM,G,KACJ,SAAW30B,EAAM,GACjB,IAII,EACA,EACA,EANA,IAAYI,KACZ,EAAY,EAAC,UACb,IAAW,MACX,EAAK,GAIL,EAAa,EACb,MAAmB,EAAI,GACvB,EAAc,MAA8B,GAC9C,EAAO,MAAa,oBACnB,Y,SA6ED,KAEE,kBAAE,iB,EACY,iEACX,OAAS,MAAM,UACnB,YAIC,kBAAE,iB,EACY,kEACX,OAAS,MAAM,UACnB,YAGC,eACD,8FAGF,U,SAGK,EAAmB,EAAG,GAC1B,IAAI,EAAK,EAAQ,MAAM,GACnB,EAAK,EAAQ,MAAK,GACpB,QAAWiF,EAAO,QACnB,WAEC,QAAW+J,EAAQ,QACpB,Y,IAID,MAAU,EAAO,WACX,EAAK,EAAE,EAAK,EAAI,YACpB,IAAI,IAAY,GACZ,EAAe,EAAK,MAAO,GAC/B1E,EAAKzF,QAAQ,IAA2B,OAArByF,EAAKzF,QAAQ,IAAeyF,EAAKzF,QAAQ,IAAM2vB,EAAa,IAChF,wD,SAOG,EAAuB,G,IAE3B,MAAU,OAAO,UACV,EAAI,EAAG,EAAC,EAAM,OAAU,I,GAC3B,KAAS,e,IAGT,EAAI,M,GACF,YAAS,mBACV,c,QAGU,IAAT,EAAS,kDACV,SAID,EAAG,GAAG,MAAQ,SAAM,IACrB,uBAIJ,S,SAwMK,EAAoB,G,OACtB,cAAoB,EAAM,OAC3B,WAEA,K,SAIG,EAAQ,GACZ,IAAI,EAAM,MACN,EAAM,IAAEC,YAAYz0B,EAAK00B,MAAM,MAAM,KAAO10B,EAAK00B,MAAQ,KAACC,UAE9D,EAAQ,EAAQ,oD,EACd,MAAU,CACV,SAAM,EAAY,cAClB,KAAM,EAAM,WACZ,KAAK,OACL,IAAK,EACL,IAAK,EACL,MAAO,WACP,QACA,qB,SAIE,EAAQ,G,IACV,EAAQ,EAAwB,EAAC,qBAChC,uB,EAGD,MAAU,CACV,SAAM,EAAY,cAClB,KAAM,EAAI,WACV,KAAM,KACN,IAAK,EACL,IAAK,EAAE,OAAU,EACjB,MAAO,WACP,S,SAIE,EAAgB,KACpB,IAAI,IAAY,EAEZ,EAAe,EAAY,G,GAC7B,EAAK,QAAG,GACR,EAAM,EAAE,MAAI,EAAO,oCACnB,EAAM,IAAE,IAAIC,GAEZ,IAAmB,S,IAEnB,IAAI,EAAY,EAChB,EAAgB,KAAG,SAAc,MAC/B,EAAW,GACX,GAA0B,EAC3B,qBAID,EAAM1qC,KAAK,MAAK,EAAM,GAAY,EAElC,EAAM,KAAK,YACX,EAAK,G,IACH,IAAK,EAAC,EAAQ,UACf,eAID,EAAQ,IACR,EAAM,EACP,I,EAGC,MAAU,CACV,SAAM,EAAY,cAClB,KAAM,EAAI,WACV,KAAK,KACL,IAAK,EACL,IAAK,EACL,MAAO,YACP,SAIH,mB,SAGK,EAAQ,G,IACV,EAAO,EAAC,EAAC8nC,IAAI,GAAO,SAAU,EAAE,G,OAC9B,EAAyB,MAAA1xB,EAAe,YAAO,SAAW,EAASu0B,GAElE,OADO,SAAe,GAAU,sBAChC,cAIL,EAAQ,EAAQ,a,EACd,MAAU,CACV,SAAM,EAAY,cAClB,KAAM,EAAI,WACV,KAAM,KACN,IAAK,EACL,IAAK,EAAE,OAAU,EACjB,MAAO,WACP,S,SAmCE,EAAU,G,OACZ,QACD,KAGF,gB,SAGK,EAAY,EAAQ,G,GACf,IAAP,U,CAKF,IAQI,EAAM,EARN,EAA2B,IAAhB,EAAO,IACpBvqB,EAAK7f,IAAM,OAAK,YACjB,YAEC6f,EAAK3f,IAAM,OAAK,YACjB,YAMD,MAAU,EAAG,IAAO,EAAC,EAAS,I,IAC5B,IAAM,EAAG0W,EAAQ,YACjB,EAAI,EAAO,IACJ,QAAU,EAAG,UAChB1W,GAAM,EAAO,EAAM,MAAI,OACxB,iBAECF,GAAM,EAAO,EAAM,MAAO,UAC3B,mB,EAKH,UAAW,SAAO,GAClB,gE,EAEA,iBAAoB,SAAUa,GAC9B,8BAGAX,GAAM,EAGA,EAEA,IACP,4BAFA,2BAHC,EAAM2f,EAAKwqB,iBAAiB,GAC7B,0BAQA,EADC,EAAG,IACJ,kDAEA,qDAGA,EADC,EAAG,IACJ,mDAEA,qDAGC,GAAO,6CAIP,OAAI,SAAY,IAAE,oBAChB,IACA,EAAG,IAAK,GACT,KAGD,EAAI,M,SAcS,OAEf,IACA,EADI,EAAQ,G,IAEV,EAAW,EAAAC,GAAU,OACtB,UAGD,IAAM,EAAW,KAAM,KAAO,aAC1BC,EAAW,S,GACb,EAAa,EAAY,CACzB,MAAW,iB,IAEX,EAAK,GACH,EAAW,EAAAD,GAAU,SACtB,UAIJ,SAjCO,CAAc,eAChB,GACD,oBAECzqB,EAAK,MAAMA,EAAKsqB,MAAM,OAAK,GAAM,EAAM,MACxC,mCAGD,QAAY,GAAI,UACTtqB,EAAK,WACb,S,SA0BI,EAAgB,K,EACnB,cAAO,SAAIxL,EAAA,GACX,+D,SAIE,EAAU,EAAS,EAAE,G,GACvB,GAAI,GAAQ,EAAS,CACrB,IAAI,IAAa,EACb,EAAS,EAAS,M,OAIpB,GAAO,GACR,WAEC,GAAc,MAAC,GANN,MAOV,QAEC,GAAO,IACR,cAEC,GAAc,SAAC,GAVH,QAWb,QAEF,QAGF,c,EAzmBC,4BAAwB,WAExB,EAAU,KACR2E,IACAA,EAAI,UACL,W,EAUD,OAAO,aAAc,SAAK,IAC1B,EAAK,GAAM,KAKX,EAAc,EAAK,aAAE,G,SAkJDpC,G,IAClB,IAAI,IAAM,EAAGA,EAAQ,YACrB,IAAAf,EAAW,EAAG,GAEd,uCAA4C,iBAE1C,eAAiB,WACjBA,EAAO,KAAK,GACb,aAzJH,I,SH1CkB,EAAC,G,IACvB,IAAI,IAAM,EAAGe,EAAQ,YACrB,IAAI,EAAQ,EAAM,GACZ,IAAc,MAChB,EAAaf,EAAA,OAAiB,EAE9B,IAAe,EADf,QAC4B,EAAY,eAAiB,EAAQ,iBAErE,IAAmB,oCAEjB,EAAO,EAAmB,SAAQ,EAAO,UAC1C,yCAKC,GAAO,IAAmB,GAAU,EACrC,gCG2BG,CAAiB,KAChB,mC,EAGD,uCAAe,Y,cAqHf,EAAI,U,eAnFF,EACD,S,GAGa,IAAZ,EACD,SAGF,SA4EG,GACD,OAKD,eAGA,aAAmB,gBAEnB,M,SAyFoB,GACpB,IAAI,IAAQ,EAAE,YA0Df,MAzDU,C,MACL,CACA,SACD,mBAED,OAAQ,U,OACN,CACA,eAAa,SAAa,EAAO,WACjC,MAAO,oB,MACL,CACA,KAAM,EAAK,MACX,MAAM,EACN,OAA0B,EAAI,MAC9B,UAAOP,EAAM,OAAW,cACzB,qB,OAEK,CACJ,OAAW,OACX,UAAU,EAAG,UACd,yC,KAEC,CACA,KAAM,EAAC,KACP,OACA,SAAM,EACN,QACD,a,OAEK,CACJ,KAAM,EAAC,OACPk1B,KAAA,EACA,WAAQ,EACT,iCAEF,cAED,MAAO,GACP,MAAM,G,KACJ,CACA,gBAAY,EACZ,YACA,gBAAc,KACd,YAAW,EACX,WAAW,EACX,WAAO,EACP,MAAM,UACN,aAAe,WAChB,gB,UAEO,CACN,KAAK,IACN,c,UAEO,CACP,WAjJU,CAAgB,I,SAuBf,EAAY,G,OACxB,EAAK,MAAU,M,IACb,SACApwB,EAAQvE,OAAO40B,KAAK,SAAQ,GAE5B,EAAK,OAAS,KAAM,MAAK,S,IACvB,IAAI,IAAM,EAAG7zB,EAAQ,YACrB,IAAAf,EAAW,EAAM,GAClB,0CAGD,EAAM,GACP,M,IAEC,YACA,IAAI,OAAS,EAET,E,SD5OQ,G,IACtB,IAEA,KAEM,IAAM,EAAG60B,EAAY,W,IACzB,IACA,EADI,EAAa,GACG10B,WACd,MAAY,EAAE,OAAiB,IACP,OAA1B,EAAW,GARD,IASX,YATW,IAcjB,SC6NoB,CAAiB,G,GACxB,EAAI,QAAU,UACd,IAAI,EAAU,IAAE,IAAI,IAAEuxB,IAAI3wB,GAAM,SAACzX,GAAU,OAAAA,EAAE6pC,MAAM,QAC/C,EAAQ,EAAuB,QAAgB,4CACnD,EAAU,EAAG,MAAS,SAAS,EAAgB,GJ7O7C,EI8Oc,EJ9OR,EI8OQ,EJ7OxB,EI6OgD,EJ1OhD,EAAM,KAAE,KAAQ,IAAK,EAAG,KAAM,KAAG,IAAQ,EAAI,KAAM,KACrD,GAGE,EAAK,KAAO,IAAE,6EACP,EACV,MACM,GAAM,EACZ,KACM,GAAM,IACZ,MIiOW,IAAI,E,SD1NG,K,IAEnB,MAAgB,GACV,EAAK,EAAG,WAAe,IAAS,CACpC,IAAI,IAAkB,QACpB2B,EAAUC,GACX,YAEA,O,IAID,EAAe,EAAe,uBAC7B,uBAIJ,gDCyM4B,CAAU,EADzB,EJ7Nb,UI+Na,KAAQ,KAAO,EAChB,iCAEA,IAGD,EAAM,KACP,M,IAEC,QACAxwB,EAAQvE,OAAO40B,KAAK,SAAQ,GAC5B,SAAc,WAAS,SACvB,EAAM,GACP,M,QAGC,SAAY,KAAQ,SAAC,SACrB,EAAM,G,IJjQF,EAAM,EAChB,EAGA,EAAqB,EAAoB,EAIzC,EAAc,KI0LZ,GAAsB,G,SAiSP,K,IACb,EAAU,CACV,SAAM,OACN,KAAK,EAAG,cACR,MAAO,EACP,QAAK,QAAY,GAAM,SAAY,EACnC,IAAKI,EAAYv1B,EAAMw1B,MAAM,GAAG,KAChC,MAAcx1B,EAAMw1B,MAAS,QAC7B,kC,GAIF,EAAI,cACF,EAAc,UAAC,MAAO,KACtB,IAAAC,EAAc,EAAI,WAClBA,EAAQ,MAAO,EACfA,EAAQ,KAAO,EAAG,MAAM,GAAM,KAC9BA,EAAQ,QAAQ,EAAG,MAAQ,cAC3BA,EAAQ,SAAM,QACdA,EAAQ,IAAMF,EAAYv1B,EAAMw1B,MAAM,GAAG,KACzCC,EAAQ,MAAez1B,EAAMw1B,MAAS,QACtC,EAAQ,aAAW,EAAS,kBAE5B,QAAc,QACd,IAAkB,MAAQ,GAAM,GACjC,gEAED,IAAkB,MAAQ,GAAM,GACjC,gEA5TC,CAAiB,KACjB,EAAa,eAAc,EAAa,GAExC,EAAY,cAAc,EAAa,GACvC,E,SAiJa,EAAM,GACnB,IAAI,EAAS,EAAG,OAAM,KAClB,EAAU,EAAG,OAAW,SACxB,EAAgB,OAAH,QAAyB,IAAR,EAC9B,EAA8B,OAAf,QAA6B,IAAd,EAC9B,EAAWx1B,EAAM,OAAO,GAAoB,EAEhD,GAAiB,IAAL,SAAK,cAsBlB,O,EArBG,MAAM,SAAW,K,GACf,SAAS,SACV,S,GAGC,SAAU,SACX,S,GAGC,EAAY,C,GACV,QAAQ,GAAG,EAAS,SACrB,W,GAEC,QAAQ,GAAI,EAAQ,MAAC,GACtB,WAIF,YAGJ,EA9KU,CAAe,K,SAgEpB,K,IAEF,EAAI,EAAkB,YACpB,uBACOC,EAAK,aACb,a,MAED,GACA,QAAK,IAAK,mBAAgB,GAC1BA,EAAK,iBAAmB,eACxBA,EAAK,aAAc,EACpB,sBAGC,GACD,uBA9EF,OAvIE,M,EAMC,wCAEE,EAAO,4BAKP,GAAO,oDAKX,EACA,cAEF,G,EAGc,gDACR,GACD,aAKL,G,EAgjBE,KAAI,gBAAgB,SAAW,EAAE,GAC/B,uBAMA,WAAiB,uB,YAEf,WACC,EAAK,sBACT,K,EAEG,QAAQ,W,EACF,QAAE,CACN,KAAI,EAAO,EAAAy1B,IAAIC,EAAOrY,MAAQ,MAC7B,4BAbL,sB,EAmBF,KAAI,aAAY,SAAS,EAAQ,KAC/B,yBAKA,oCAEuB,Y,YAEnB,WACC,EAAK,iCACT,U,EAKH,gBAAkB,WAClB,EAAQ,UACR3d,EAAK,MACJ,gB,sFC9rBF,EAA+B,EAAE,6BAC/B,uE,MACL,C,KACE,SAAI,EAAc,GAClB,IAGI,EACA,EACA,EAEJ,EAPI,GAAa,EACb,EAAK,EAAQ,KACb,EAAK,Q,SAoBP,EAAkB,GACnB,6D,SAGC,K,IAEE,EAAO,qC,CAIT,IAAI,EAAK,EAAG,iBAA6B,kBACrC,EAAM,EAAqB,GAE/B,EAAS,K,GACP,W,EACS,KAAK,CACZ,QAAQ,EAAE,GACV,uBACA,iBACE,W,SACA,sHAEF,OAAO,Q,MACL,CACA,S,WACO,WACN,iB,cAEM,YACN,iC,SAOH,EAAK,GACT,IACI,IADK,EAAG,kBAER,IAAiB,GACjB,EAAc,EAAe,iCACjC,eAAE,EAAa,GAChB,oC,SAGK,EAAK,GACT,IAEIi2B,EAFK,EAAiB,EAAC,eAEd,KAAM,Q,GACjB,IAAM,EAAO,OAAQ,OACtB,yBAI0B,IAAzB51B,EAAMyC,OAAO,SAId,OAHCzC,EAAMyC,OAAOmD,KAAA,KACb,EAAK,OAAQ,SAAC,UACd,WAIF5F,EAAMyC,OAAO,UAAY,kBACzB,EAAK,OAAQ,KAAC,EACf,W,SAGM,EAAaozB,G,IAChB,EAAO,OAAG,GACX,SAGD,IAAI,EAAM,kCAA0B,SAClC,EAAI,OAAQ,OAAS,IAEtB,qBADS,SAAmB,SAAW,mBAAY,kBACnD,aAGF,iB,SAmHK,EAAiB,GAErB,IAAI,E,WAxDJ,MAAgB,G,IACd,EAAI,IAAM,EAAa,OAAI,KAE3B,IAAIt1B,EAAO,K,IACT,iBAAS,U,CAKX,IAAI,EAAO,kC,GACD,IAAR,EAAI,QACL,oCAEC,EAAI,aAAI,WACT,kCAEDqB,GAAQ,+BACRA,GAAQ,kCACRA,GAAQ,+CAAS,iBAEjBA,GAAI,S,GAGA,gDAAqB,0CACvB,EAAI,OAAM,OAAO,CACjB,IAAI,IAAU,YAAO,EAAY,MAAO,KACpC,EAAMrB,EAAOwF,YAAYxF,EAAOmzB,MAAU,SAC1C,EAAMnzB,EAAOwF,YAAYxF,EAAOmzB,MAAM,KACtC,EAAM,EAAE,YAAO,EAAY,MAAO,KAElC,EAAM,EAAO,YAAK,eACpB,EAAI,OAAI,MACT,sDAEC,EAAI,OAAI,MACT,sDAEC,EAAI,OAAI,MACT,sDAEC,EAAI,OAAI,UACT,0DAEC,EAAI,OAAI,QACT,wDAIH,YACD,cAEF,SAKkB,G,GACf,EAAI,OAAS,aAAG,CAChB,IAAAoC,EAAgB,EAAiB,mBACjCA,EAAUC,OAAO,GACjB,EAAKA,OAAO,GACb,iBAEA,YAGC,SAAc,UAsBdC,GACD,YATCA,EAGD,WAFA,eAPC,CAEA,oBAAqB,EACrB,qB,EArOF,IAAI,uBACFA,GACD,e,EAID,OAAO,GAAI,iBAAY,YACvB,EAAI,EAAM,a,eAwFR,EAAK,MAAO,OAAC,KAGd,OAFC,eACA,GAAO,GAIP,IACAr2B,EAAKma,GAAG,QAAS,qBAAqB,GACtCna,EAAKma,GAAG,QAAS,sBAAkB,GACnC,aAAc,KAAM,GACrB,MAID,EAAa,EAEb,UAEA,IAKI,EALA,EAAK,SAAa,WAAO,8C,GAE7Bna,EAAK,gBAAY,GAEjB,EAAI,kCAAgB,2BAElB,EAAI,OAAS,aAAO,CACpB,IAAAs2B,EAAU,OACV,GAAU,gDACR,EAAM,OAAI,SACVA,GAAUC,EAAmB,OAC7BD,GAAUC,EAAmB,OAC7BD,GAAUC,EAAmB,OAC7BD,GAAUC,EAAmB,WAC9B,eAGF,IADC,YAIA,SAAa,O,EACJ,EAA0B,SAAM,eACtC,iCAED,SAAa,WACd,gBAKD,qBACA,EAAa,GACd,WAGF,KA3IE,GAEA,mD,IC1BP,EAAgB,W,SAGd,EAAuB,EAAM,KAC7BC,EAAO,aAAW,GAElBA,EAAO,iBAAiB,G,EACtB,SAAa,e,oBACD,gB,IACV,GACA,KAAK,EACL,aAAc,EACd,MAAO,EAAE,oB,OACP,EACF,QAAE,uBACF,mCAKJA,EAAO,aAAc,S,EAEnB,YAAS,SAAiB,EAAO,GAExB,UAAP,gBAMF,mCAGc,gBAAZ,iBACD,oBAEDA,EAAO,uBAAyB,2BAEhC,2BAEFA,EAAO,eAfJ,uC,EAiBD,cAAO,SAAsB,GAC7BA,EAAO,SAAc,QACrB,2BAEFA,EAAO,e,EAEL,kBAAgB,Y,IACd,EAAS,OAAa,G,EACtB,KAAU,CACV,QAAQ,EAAO,qBACf,SAAU,aACV,OAAO,Q,SACL,wE,MACA,CACA,WAAQ,EACT,8BACD,OAAS,GAET,QAAC,WACA,oB,EAKH,eAAO,SAAuB,UACvB,EAAK,SAAU,gBACtB,2BAEFA,EAAO,gB,iBAEW,WAChB,OAAG,uCACH,mB,EAIA,uBAAE,W,EACA,iBAAmB,G,EACf,SAAE,cAAkB,SAAE,G,IACxB,EAAO,2BACR,oB,EAGC,iBAAoB,KAAC,CACrB,KAAK,EAAQ,KACZ,4BACF,sBAKLA,EAAOC,kBAAkB,cAAa,KAAU,IAChDD,EAAOC,kBAAkB,gBAAc,KAAW,IAClDD,EAAOC,kBAAkB,mBAAmB,SAAe,EAAG,QAAW,EAAE,KAC3ED,EAAOC,kBAAkB,yBAAiB,GAAa,EAAE,IAAO,UAAgB,EAAE,KAClFD,EAAOC,kBAAkB,kBAAkB,gBAAgB,aAAc,wBACzED,EAAOC,kBAAkB,gBAAU,cAAsB,EAAG,kBAC5DD,EAAOC,kBAAkB,iBAAe,cAAc,S,EACnD,6C,EACA,8CACD,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACC,GACH,K,EAEG,8CACD,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACC,GACH,KAEAD,EAAOC,kBAAkB,SAAS,SAAU,KAAM,IAClDD,EAAOC,kBAAkB,gBAAgB,cAAc,aACvDD,EAAOC,kBAAkB,QAAQ,QAAS,EAAE,GAAM,EAAE,kBACpDD,EAAOC,kBAAkB,QAAS,QAAE,CAAQ,WAC5CD,EAAOC,kBAAkB,iBAAa,OACtCD,EAAOC,kBAAkB,UAAU,SAAW,KAAM,KAAO,EAAC,QAC5DD,EAAO,8BAAyB,4BACjC,+CACH,2B,SAvJW,QAAkB,mC,GAFX,G,2FCKhB,EAAkB,W,SAGZ,EAAkB,G,IACpB,EAAK,K,KACN,2BAEG,mBACFjrC,KAAI,UAAW,G,IAEfmrC,EAAgB,6BACf,iCAEC,EAAClc,UAAU,SAChB,OAGCjvB,KAAK,UAAM,mBAAgB,EAkC3B,O,EAlDa,QAAK,W,EAkBP,UAAE,aAAU,W,KACrB,MAAI,WAAI,MACR,WAAM,EACN,UAAU,WACT,QACC,MAAC,EACN,UAGCA,KAAK,UAAM,UAEb,EAAC,sCAED,kCACEA,KAAKivB,UAAUmc,UAGjB,uD,EAES,UAAM,kBAA4B,SAAU,G,IACjD,EAAK,KACP,OAAE,YACH,kCAED,a,EAES,UAAM,kBAA4B,SAAU,G,IACjD,EAAK,KACP,OAAE,YACH,kCACH,aAEI,EAnDgB,G,EA4HN,YAAQ,sC,MAClB,CACA,aACA,SAJA,23FAKA,WAAO,E,kBACS,E,aACf,OACD,OACD,mB,qBC5IoB,OAKO,EAAC,WAE7B,2B,SAEI,UAAU,0B,IAOV,EAND,OAED,gBAAyB,sBACrB,S,GAIF,EAAQ,UAAY,EAAK,SAAK,OAAgB,G,EACvC,EAAW,SAAQ,G,IACxB,EAAK,4BAAkC,GACxC,4BACF,wBAEOprC,KAAK,mC,OAGT,WAAO,MAAQ,M,iBAEd,OACF,qCACI,SAAa,4B,gBAUjB,MANiB,C,CAEd,eACK,aAA2B,EAAE,OAAK,oDAG1C,mBACI,OAAS,8BAGf,YACF,+B,EAKK,UAAO,uBAAQ,Y,OACjB,EAAY,M,IACV,O,IAEA,Q,MACE,Q,QAEF,MAA8B,WAA1BA,KAAK8U,MAAMsd,MAAMr0B,KACZ,SAEK,cAAd,KAAO,MAAO,WACf,YAEJ,S,EAKK,UAAW,gCAAa,W,OACxBiC,KAAK8U,MAAM,MAAK,M,IAChB,OACA9U,KAAK8U,MAAM,MAAO,EAClB9U,KAAK8U,MAAM,OAAQ,EACnB9U,KAAK8U,MAAM,QAAM,EACjB,WAAM,eACP,6BACD,KAAK,MAAU,gBACb,M,IAEA,SACA9U,KAAK8U,MAAM,MAAK,EAChB9U,KAAK8U,MAAM,OAAO,EAClB9U,KAAK8U,MAAM,QAAQ,EACnB9U,KAAK8U,MAAM,OAAM,EACjB,WAAM,eACP,6BACD,KAAK,YAAa,iBAChB,M,IAEA,YACA9U,KAAK8U,MAAM,MAAK,EAChB9U,KAAK8U,MAAM,OAAO,EAClB9U,KAAK8U,MAAM,QAAQ,EACnB,WAAM,SACP,0BACF,+B,EAOG,UAAa,kBAAe,SAAO,OACvC,IAAI,EAAa,EAAM,YAAmB,GAEtC,EAAM,EAAO,OACf,EAAY,IAAU,OACtB,EAAO,KAAK,2BACZ,EAAO,IAAK,GACZ,WAAM,EACL,QAEC,QACF,KAAI,EAAO,OAEX,GAAW,EAAa,OAAE,IACjB,IAAsB,aAC9B,cACF,MAEMO,EAAO,oBAId,OAAI,G,EAEI,oC,IACG,KAAE,iBAEZ,MACM,QAAG,uEAIV,U,EAEI,UAAS,yBAA8B,W,YACrC,MAAK,MAAM,M,gBAEZ,mCAGG,YADA,iBAAe,OAAK,W,IAGtB,EAAW,KAAM,qBAAmB,IAK3C,YAJM,iDAEF,sC,EAOF,0CAED,GAAgB,IAAZ,EAAS,OACT,SAGJ,SACE,O,EACM,G,GAgBL,S,EAAA,MACD,GAAiC,IAAjC,aAAuB,OACxB,U,WAjByB,G,EACpB,UAAuB,GAAO,c,GAC/B,gB,EAAM,QACL,EAAoB,Q,IAGnB,oBACF,4BACA,cAKH,EAAI,MAOP,kBAGC,U,EAEI,UAAO,iC,YACL,MAAM,MAAO,M,mBAEX,CACF,CAAEg2B,KAAM,MAAO,MAAO,OACtB,CAAEA,KAAM,MAAO,MAAO,OACtB,yBACH,6BACF,8BAMD,MAAI,I,EAEM,UAAU,mBAAsB,EAAK,G,QAC7C,EAAU9sC,EAAe,MAAI,K,EAC3B,EACD,oB,MAAM,MAIF,OAHH,EAAO,IAAU,IAKxB,U,EAhN8B,G,ECOH,W,SAEnB,EAAa,EAAU,GAC5ByB,KAAKirC,OAAO,EAEZjrC,KAAK,KAELA,KAAK,UAAY,O,KACf,MAAS,qB,KACT,YAAc,K,KACd,YAAe,EAAI,mB,KACnB,WACA,SACA,iBAEE,gBAAc,GAChB,gBAAY,GACZ,kBAAgB,M,KAGhB,YAEE,KAAC,OACH,OAAQ,SACR,UAAQ,a,KAER,iBAAiB,CACjB,CAAEqrC,KAAM,MAAO,MAAO,OACtB,CAAEA,KAAM,YAAW,OACnB,yBAEE,MAAK,QAAY,MAAI,SACvB,MAAK,QAAW,MAAM,S,MAChB,UAAO,MAAW,YAEzB,mCACF,wBAED,wCA6BK,O,EAlEE,QAAY,UAAY,MA0C/B,wCACE,EAAK,OAAS,EAAO,MACtB,yB,EAGM,UAAU,OAAU,WACzBrrC,KAAKivB,UAAU,UAGjB,6BAAiB,WACfjvB,KAAKivB,UAAU,4CAChB,wD,EAGU,UAAQ,kBAAoB,WACrC,KAAI,UAAQ,eAAU,eAAI,W,EAEvB,wCAEH,IACD,EADa,KAAG,UAAY,uDAC5B,iBACH,YAAC,c,wBAGM,EAnEqB,G,SAuExB,I,MAEA,CACA,aACH,S,mVCxFgB,gC,OACC,wE,EAiHJ,SAAQ,G,SAlGlB,EAAQ,EAAW,KACnB,QAAW,KAAW,gBAoHlB,OA7GJ,iBAAiB,EAIjB,eAAa,G,EACT,c,EACA,SAAY,G,EACZ,e,EACA,OAAU,G,EACV,cAAO,C,WAEC,K,SAEA,O,QAGA,MAAM,KACT,QACD,UACI,IAAK,KACL,IAAI,KACJ,OAAO,S,CAGP,MAAM,KACT,QACJ,UACM,SACC,IAAE,KACF,OAAQ,U,MAGZ,CACH,QACD,YACA,KAAO,KACP,UACI,QAAG,MAGP,SAEA,OAEA,YAEA,UAEA,cAEA,eAEA,UAEA,cAEA,Q,OAEI,E,YAEK,E,OAEL,CACA,MAAK,EACL,QAAK,EACR,OACD,OACA,SAAa,EACb,SACA,Q,cAGc,O,aAEH,EAEX,SACA,WAAc,aACd,QAAW,EACX,QAGA,cACA,eAEA,SAAU,IAMV,eAEA,mBACA,eAIA,EAAuB,EAAE,SAAK,EAAS,MAAK,EAAO,eACnD,EAAe,WAAiB,EAAK,cAAe,EAAK,cAAO,SAChE,EAAe,WAAkB,EAAC,MAAW,OAAM,EAAO,sBAC1D,EAAe,aAAsB,MAAK,sBAA6B,OACvE,EAAK,UAAU,MAAuB,EAAe,OACrD,EAAKxB,OAAOmB,GAAG,oBAAsB,KAAK,I,sDAC7C,gDAED,SAAAA,GAAA,mDACI,EAAI,UAAW,iBAAiB,EAAG,eAAW,SAC9C,EAAK,+BAAqB,qBAAwB,SAC7C,E,SApB8B,K,EAlGvC,QAAU,UAAW,8B,EAwHb,yBAAO,W,IACP,EAAK,KAAa,UAAS,W,KAC9B,yBAED5uB,KAAK,aAAW,SAAK,wBACxB,qDAED,qBACI,KAAQ,aAAa,UAAqB,YAE7C,oB,EAGQ,6BAA0B,SAAe,G,EAC1C,KAAS,CAAE,KAAK,aAAS,2B,EACzB,KAAO,CAAI,KAAM,+C,EAElB,mCAQP,OAPI,wBAAa,oBAAY,eAAa,CACzC,yBAED,iBACQ,MAAC,aAGT,mCAAmB,I,EAEX,UAAW,QAAK,SAAS,G,KACzB,gBAAiB,e,EAElB,yCACHA,KAAK,mBAAe,oBAAc,gBACrC,yBAED,iBACQ,MAAC,KAAU,QAEfA,KAAK,eAAW,IAGpB,wBAAc,SAAd,mBAyCC,GAxCGA,KAAK,YAAW,GAChBA,KAAK,Y,EAED,UAAY,eAAK,Y,IAClB,O,GAEHA,KAAK,SAAW,EAChB,KAAM,gBAAkB,UAAK,cAAkB,CAC3C,SAAO,EACP,MAAE,a,KAGF,YAAK,KAIR,IAHc,gBAAgB,sB,OACpB,EAAE,sB,QAEN,aACH,MAAmB,iBAAd,IAAI,+C,UAIG,EAAK,kC,GACP,KACI,gBACT,kBACJ,uCACJ,0EAIY,OAIT,KACA,qCACI,EAAKsrC,SAAU,EACf,EAAK,WAAY,aAEvB,4BACL,0BAED,WACQ,EAAM,SAAU,EAChB,SAAO,kB,EAGN,UAAU,oB,GACX,KAAM,W,IAIL,0CACJ,WACJ,mDAED,SACW,KAAK,MAAG,MAAM,4BAKzB,uCAAkB,EAAO,GACrB,EAAI,MAAM,E,KACN,MAAI,YAAK,EAAa,OAAY,EAAE,M,2BAE7B,2B,EACH,SAAK,EAAa,SAAY,EAAG,SACpC,kCACJ,2BAEA,8BAIL,KAAAC,0BA+BC,GA5BG,KAAI,U,EAEH,gDAED,WACI,oBACA,EAAI,EAAMtD,eACN,EAAO,EAAK,OAIjB,uCAEC,iBAAkB,SAGd,EAAO,EAAK,UAGhB,IAA0B,yCAC1B,eAAM,EAAM,UAMZ,EAAG,oCACN,oBAIG,EAAQ,aAAG,UAAE,O,EAIhB,iCACD,0BAAyD,iCACpD,IACR,kBAED,oCAIA,e,EAES,UAAS,8BACjB,wC,EAGQ,UAAM,qBAA0B,SAAY,GACjDjoC,KAAK,sBAAU,0CAClB,e,EAGO,UAAS,aAAkB,WAC/B,WAAO,OAAS,MAAU,KAAI,MAAO,OAAO,KAC5CA,KAAK,WAGT,iDACI,IAAI,EAAQA,KAAK,MAAO,OACxB,EAAM,OAAU,EAAO,KAAC,EAAW,+BACnCA,KAAK,U,EAED,UAAK,qB,IACL,OAAY,gB,EACb,2BACN,mCAED,aAAI,4D,MAAJ,EACI,WAAK,mB,sBAGJ,yB,IACD,WA5TG,OA6TN,iC,4EA7TM,KAAQ,YADK,cAiUmB,kB,2RA3NnC,C,wBChHFwrC,W,KAEF,aACUP,sBAAQQ,EAAWC,aADkB,mCAG9C,E,YAGLF,WAAA,EAAkC,MANiB,4FAMjB,S,MANiB,iK,uEAQxBG,EAAvBH,iB,uFAR+C,yT,SAAA,M","file":"panels/graph-prediction/module.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 30);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","module.exports = __WEBPACK_EXTERNAL_MODULE__2__;","module.exports = __WEBPACK_EXTERNAL_MODULE__3__;","module.exports = __WEBPACK_EXTERNAL_MODULE__4__;","// TinyColor v1.4.1\n// https://github.com/bgrins/TinyColor\n// Brian Grinstead, MIT License\n\n(function(Math) {\n\nvar trimLeft = /^\\s+/,\n    trimRight = /\\s+$/,\n    tinyCounter = 0,\n    mathRound = Math.round,\n    mathMin = Math.min,\n    mathMax = Math.max,\n    mathRandom = Math.random;\n\nfunction tinycolor (color, opts) {\n\n    color = (color) ? color : '';\n    opts = opts || { };\n\n    // If input is already a tinycolor, return itself\n    if (color instanceof tinycolor) {\n       return color;\n    }\n    // If we are called as a function, call using new instead\n    if (!(this instanceof tinycolor)) {\n        return new tinycolor(color, opts);\n    }\n\n    var rgb = inputToRGB(color);\n    this._originalInput = color,\n    this._r = rgb.r,\n    this._g = rgb.g,\n    this._b = rgb.b,\n    this._a = rgb.a,\n    this._roundA = mathRound(100*this._a) / 100,\n    this._format = opts.format || rgb.format;\n    this._gradientType = opts.gradientType;\n\n    // Don't let the range of [0,255] come back in [0,1].\n    // Potentially lose a little bit of precision here, but will fix issues where\n    // .5 gets interpreted as half of the total, instead of half of 1\n    // If it was supposed to be 128, this was already taken care of by `inputToRgb`\n    if (this._r < 1) { this._r = mathRound(this._r); }\n    if (this._g < 1) { this._g = mathRound(this._g); }\n    if (this._b < 1) { this._b = mathRound(this._b); }\n\n    this._ok = rgb.ok;\n    this._tc_id = tinyCounter++;\n}\n\ntinycolor.prototype = {\n    isDark: function() {\n        return this.getBrightness() < 128;\n    },\n    isLight: function() {\n        return !this.isDark();\n    },\n    isValid: function() {\n        return this._ok;\n    },\n    getOriginalInput: function() {\n      return this._originalInput;\n    },\n    getFormat: function() {\n        return this._format;\n    },\n    getAlpha: function() {\n        return this._a;\n    },\n    getBrightness: function() {\n        //http://www.w3.org/TR/AERT#color-contrast\n        var rgb = this.toRgb();\n        return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\n    },\n    getLuminance: function() {\n        //http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n        var rgb = this.toRgb();\n        var RsRGB, GsRGB, BsRGB, R, G, B;\n        RsRGB = rgb.r/255;\n        GsRGB = rgb.g/255;\n        BsRGB = rgb.b/255;\n\n        if (RsRGB <= 0.03928) {R = RsRGB / 12.92;} else {R = Math.pow(((RsRGB + 0.055) / 1.055), 2.4);}\n        if (GsRGB <= 0.03928) {G = GsRGB / 12.92;} else {G = Math.pow(((GsRGB + 0.055) / 1.055), 2.4);}\n        if (BsRGB <= 0.03928) {B = BsRGB / 12.92;} else {B = Math.pow(((BsRGB + 0.055) / 1.055), 2.4);}\n        return (0.2126 * R) + (0.7152 * G) + (0.0722 * B);\n    },\n    setAlpha: function(value) {\n        this._a = boundAlpha(value);\n        this._roundA = mathRound(100*this._a) / 100;\n        return this;\n    },\n    toHsv: function() {\n        var hsv = rgbToHsv(this._r, this._g, this._b);\n        return { h: hsv.h * 360, s: hsv.s, v: hsv.v, a: this._a };\n    },\n    toHsvString: function() {\n        var hsv = rgbToHsv(this._r, this._g, this._b);\n        var h = mathRound(hsv.h * 360), s = mathRound(hsv.s * 100), v = mathRound(hsv.v * 100);\n        return (this._a == 1) ?\n          \"hsv(\"  + h + \", \" + s + \"%, \" + v + \"%)\" :\n          \"hsva(\" + h + \", \" + s + \"%, \" + v + \"%, \"+ this._roundA + \")\";\n    },\n    toHsl: function() {\n        var hsl = rgbToHsl(this._r, this._g, this._b);\n        return { h: hsl.h * 360, s: hsl.s, l: hsl.l, a: this._a };\n    },\n    toHslString: function() {\n        var hsl = rgbToHsl(this._r, this._g, this._b);\n        var h = mathRound(hsl.h * 360), s = mathRound(hsl.s * 100), l = mathRound(hsl.l * 100);\n        return (this._a == 1) ?\n          \"hsl(\"  + h + \", \" + s + \"%, \" + l + \"%)\" :\n          \"hsla(\" + h + \", \" + s + \"%, \" + l + \"%, \"+ this._roundA + \")\";\n    },\n    toHex: function(allow3Char) {\n        return rgbToHex(this._r, this._g, this._b, allow3Char);\n    },\n    toHexString: function(allow3Char) {\n        return '#' + this.toHex(allow3Char);\n    },\n    toHex8: function(allow4Char) {\n        return rgbaToHex(this._r, this._g, this._b, this._a, allow4Char);\n    },\n    toHex8String: function(allow4Char) {\n        return '#' + this.toHex8(allow4Char);\n    },\n    toRgb: function() {\n        return { r: mathRound(this._r), g: mathRound(this._g), b: mathRound(this._b), a: this._a };\n    },\n    toRgbString: function() {\n        return (this._a == 1) ?\n          \"rgb(\"  + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \")\" :\n          \"rgba(\" + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \", \" + this._roundA + \")\";\n    },\n    toPercentageRgb: function() {\n        return { r: mathRound(bound01(this._r, 255) * 100) + \"%\", g: mathRound(bound01(this._g, 255) * 100) + \"%\", b: mathRound(bound01(this._b, 255) * 100) + \"%\", a: this._a };\n    },\n    toPercentageRgbString: function() {\n        return (this._a == 1) ?\n          \"rgb(\"  + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%)\" :\n          \"rgba(\" + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%, \" + this._roundA + \")\";\n    },\n    toName: function() {\n        if (this._a === 0) {\n            return \"transparent\";\n        }\n\n        if (this._a < 1) {\n            return false;\n        }\n\n        return hexNames[rgbToHex(this._r, this._g, this._b, true)] || false;\n    },\n    toFilter: function(secondColor) {\n        var hex8String = '#' + rgbaToArgbHex(this._r, this._g, this._b, this._a);\n        var secondHex8String = hex8String;\n        var gradientType = this._gradientType ? \"GradientType = 1, \" : \"\";\n\n        if (secondColor) {\n            var s = tinycolor(secondColor);\n            secondHex8String = '#' + rgbaToArgbHex(s._r, s._g, s._b, s._a);\n        }\n\n        return \"progid:DXImageTransform.Microsoft.gradient(\"+gradientType+\"startColorstr=\"+hex8String+\",endColorstr=\"+secondHex8String+\")\";\n    },\n    toString: function(format) {\n        var formatSet = !!format;\n        format = format || this._format;\n\n        var formattedString = false;\n        var hasAlpha = this._a < 1 && this._a >= 0;\n        var needsAlphaFormat = !formatSet && hasAlpha && (format === \"hex\" || format === \"hex6\" || format === \"hex3\" || format === \"hex4\" || format === \"hex8\" || format === \"name\");\n\n        if (needsAlphaFormat) {\n            // Special case for \"transparent\", all other non-alpha formats\n            // will return rgba when there is transparency.\n            if (format === \"name\" && this._a === 0) {\n                return this.toName();\n            }\n            return this.toRgbString();\n        }\n        if (format === \"rgb\") {\n            formattedString = this.toRgbString();\n        }\n        if (format === \"prgb\") {\n            formattedString = this.toPercentageRgbString();\n        }\n        if (format === \"hex\" || format === \"hex6\") {\n            formattedString = this.toHexString();\n        }\n        if (format === \"hex3\") {\n            formattedString = this.toHexString(true);\n        }\n        if (format === \"hex4\") {\n            formattedString = this.toHex8String(true);\n        }\n        if (format === \"hex8\") {\n            formattedString = this.toHex8String();\n        }\n        if (format === \"name\") {\n            formattedString = this.toName();\n        }\n        if (format === \"hsl\") {\n            formattedString = this.toHslString();\n        }\n        if (format === \"hsv\") {\n            formattedString = this.toHsvString();\n        }\n\n        return formattedString || this.toHexString();\n    },\n    clone: function() {\n        return tinycolor(this.toString());\n    },\n\n    _applyModification: function(fn, args) {\n        var color = fn.apply(null, [this].concat([].slice.call(args)));\n        this._r = color._r;\n        this._g = color._g;\n        this._b = color._b;\n        this.setAlpha(color._a);\n        return this;\n    },\n    lighten: function() {\n        return this._applyModification(lighten, arguments);\n    },\n    brighten: function() {\n        return this._applyModification(brighten, arguments);\n    },\n    darken: function() {\n        return this._applyModification(darken, arguments);\n    },\n    desaturate: function() {\n        return this._applyModification(desaturate, arguments);\n    },\n    saturate: function() {\n        return this._applyModification(saturate, arguments);\n    },\n    greyscale: function() {\n        return this._applyModification(greyscale, arguments);\n    },\n    spin: function() {\n        return this._applyModification(spin, arguments);\n    },\n\n    _applyCombination: function(fn, args) {\n        return fn.apply(null, [this].concat([].slice.call(args)));\n    },\n    analogous: function() {\n        return this._applyCombination(analogous, arguments);\n    },\n    complement: function() {\n        return this._applyCombination(complement, arguments);\n    },\n    monochromatic: function() {\n        return this._applyCombination(monochromatic, arguments);\n    },\n    splitcomplement: function() {\n        return this._applyCombination(splitcomplement, arguments);\n    },\n    triad: function() {\n        return this._applyCombination(triad, arguments);\n    },\n    tetrad: function() {\n        return this._applyCombination(tetrad, arguments);\n    }\n};\n\n// If input is an object, force 1 into \"1.0\" to handle ratios properly\n// String input requires \"1.0\" as input, so 1 will be treated as 1\ntinycolor.fromRatio = function(color, opts) {\n    if (typeof color == \"object\") {\n        var newColor = {};\n        for (var i in color) {\n            if (color.hasOwnProperty(i)) {\n                if (i === \"a\") {\n                    newColor[i] = color[i];\n                }\n                else {\n                    newColor[i] = convertToPercentage(color[i]);\n                }\n            }\n        }\n        color = newColor;\n    }\n\n    return tinycolor(color, opts);\n};\n\n// Given a string or object, convert that input to RGB\n// Possible string inputs:\n//\n//     \"red\"\n//     \"#f00\" or \"f00\"\n//     \"#ff0000\" or \"ff0000\"\n//     \"#ff000000\" or \"ff000000\"\n//     \"rgb 255 0 0\" or \"rgb (255, 0, 0)\"\n//     \"rgb 1.0 0 0\" or \"rgb (1, 0, 0)\"\n//     \"rgba (255, 0, 0, 1)\" or \"rgba 255, 0, 0, 1\"\n//     \"rgba (1.0, 0, 0, 1)\" or \"rgba 1.0, 0, 0, 1\"\n//     \"hsl(0, 100%, 50%)\" or \"hsl 0 100% 50%\"\n//     \"hsla(0, 100%, 50%, 1)\" or \"hsla 0 100% 50%, 1\"\n//     \"hsv(0, 100%, 100%)\" or \"hsv 0 100% 100%\"\n//\nfunction inputToRGB(color) {\n\n    var rgb = { r: 0, g: 0, b: 0 };\n    var a = 1;\n    var s = null;\n    var v = null;\n    var l = null;\n    var ok = false;\n    var format = false;\n\n    if (typeof color == \"string\") {\n        color = stringInputToObject(color);\n    }\n\n    if (typeof color == \"object\") {\n        if (isValidCSSUnit(color.r) && isValidCSSUnit(color.g) && isValidCSSUnit(color.b)) {\n            rgb = rgbToRgb(color.r, color.g, color.b);\n            ok = true;\n            format = String(color.r).substr(-1) === \"%\" ? \"prgb\" : \"rgb\";\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.v)) {\n            s = convertToPercentage(color.s);\n            v = convertToPercentage(color.v);\n            rgb = hsvToRgb(color.h, s, v);\n            ok = true;\n            format = \"hsv\";\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.l)) {\n            s = convertToPercentage(color.s);\n            l = convertToPercentage(color.l);\n            rgb = hslToRgb(color.h, s, l);\n            ok = true;\n            format = \"hsl\";\n        }\n\n        if (color.hasOwnProperty(\"a\")) {\n            a = color.a;\n        }\n    }\n\n    a = boundAlpha(a);\n\n    return {\n        ok: ok,\n        format: color.format || format,\n        r: mathMin(255, mathMax(rgb.r, 0)),\n        g: mathMin(255, mathMax(rgb.g, 0)),\n        b: mathMin(255, mathMax(rgb.b, 0)),\n        a: a\n    };\n}\n\n\n// Conversion Functions\n// --------------------\n\n// `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:\n// <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>\n\n// `rgbToRgb`\n// Handle bounds / percentage checking to conform to CSS color spec\n// <http://www.w3.org/TR/css3-color/>\n// *Assumes:* r, g, b in [0, 255] or [0, 1]\n// *Returns:* { r, g, b } in [0, 255]\nfunction rgbToRgb(r, g, b){\n    return {\n        r: bound01(r, 255) * 255,\n        g: bound01(g, 255) * 255,\n        b: bound01(b, 255) * 255\n    };\n}\n\n// `rgbToHsl`\n// Converts an RGB color value to HSL.\n// *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]\n// *Returns:* { h, s, l } in [0,1]\nfunction rgbToHsl(r, g, b) {\n\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n\n    var max = mathMax(r, g, b), min = mathMin(r, g, b);\n    var h, s, l = (max + min) / 2;\n\n    if(max == min) {\n        h = s = 0; // achromatic\n    }\n    else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch(max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n\n        h /= 6;\n    }\n\n    return { h: h, s: s, l: l };\n}\n\n// `hslToRgb`\n// Converts an HSL color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\nfunction hslToRgb(h, s, l) {\n    var r, g, b;\n\n    h = bound01(h, 360);\n    s = bound01(s, 100);\n    l = bound01(l, 100);\n\n    function hue2rgb(p, q, t) {\n        if(t < 0) t += 1;\n        if(t > 1) t -= 1;\n        if(t < 1/6) return p + (q - p) * 6 * t;\n        if(t < 1/2) return q;\n        if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n        return p;\n    }\n\n    if(s === 0) {\n        r = g = b = l; // achromatic\n    }\n    else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1/3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1/3);\n    }\n\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHsv`\n// Converts an RGB color value to HSV\n// *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]\n// *Returns:* { h, s, v } in [0,1]\nfunction rgbToHsv(r, g, b) {\n\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n\n    var max = mathMax(r, g, b), min = mathMin(r, g, b);\n    var h, s, v = max;\n\n    var d = max - min;\n    s = max === 0 ? 0 : d / max;\n\n    if(max == min) {\n        h = 0; // achromatic\n    }\n    else {\n        switch(max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n        h /= 6;\n    }\n    return { h: h, s: s, v: v };\n}\n\n// `hsvToRgb`\n// Converts an HSV color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\n function hsvToRgb(h, s, v) {\n\n    h = bound01(h, 360) * 6;\n    s = bound01(s, 100);\n    v = bound01(v, 100);\n\n    var i = Math.floor(h),\n        f = h - i,\n        p = v * (1 - s),\n        q = v * (1 - f * s),\n        t = v * (1 - (1 - f) * s),\n        mod = i % 6,\n        r = [v, q, p, p, t, v][mod],\n        g = [t, v, v, q, p, p][mod],\n        b = [p, p, t, v, v, q][mod];\n\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHex`\n// Converts an RGB color to hex\n// Assumes r, g, and b are contained in the set [0, 255]\n// Returns a 3 or 6 character hex\nfunction rgbToHex(r, g, b, allow3Char) {\n\n    var hex = [\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16))\n    ];\n\n    // Return a 3 character hex if possible\n    if (allow3Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1)) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\n    }\n\n    return hex.join(\"\");\n}\n\n// `rgbaToHex`\n// Converts an RGBA color plus alpha transparency to hex\n// Assumes r, g, b are contained in the set [0, 255] and\n// a in [0, 1]. Returns a 4 or 8 character rgba hex\nfunction rgbaToHex(r, g, b, a, allow4Char) {\n\n    var hex = [\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16)),\n        pad2(convertDecimalToHex(a))\n    ];\n\n    // Return a 4 character hex if possible\n    if (allow4Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1) && hex[3].charAt(0) == hex[3].charAt(1)) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0) + hex[3].charAt(0);\n    }\n\n    return hex.join(\"\");\n}\n\n// `rgbaToArgbHex`\n// Converts an RGBA color to an ARGB Hex8 string\n// Rarely used, but required for \"toFilter()\"\nfunction rgbaToArgbHex(r, g, b, a) {\n\n    var hex = [\n        pad2(convertDecimalToHex(a)),\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16))\n    ];\n\n    return hex.join(\"\");\n}\n\n// `equals`\n// Can be called with any tinycolor input\ntinycolor.equals = function (color1, color2) {\n    if (!color1 || !color2) { return false; }\n    return tinycolor(color1).toRgbString() == tinycolor(color2).toRgbString();\n};\n\ntinycolor.random = function() {\n    return tinycolor.fromRatio({\n        r: mathRandom(),\n        g: mathRandom(),\n        b: mathRandom()\n    });\n};\n\n\n// Modification Functions\n// ----------------------\n// Thanks to less.js for some of the basics here\n// <https://github.com/cloudhead/less.js/blob/master/lib/less/functions.js>\n\nfunction desaturate(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.s -= amount / 100;\n    hsl.s = clamp01(hsl.s);\n    return tinycolor(hsl);\n}\n\nfunction saturate(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.s += amount / 100;\n    hsl.s = clamp01(hsl.s);\n    return tinycolor(hsl);\n}\n\nfunction greyscale(color) {\n    return tinycolor(color).desaturate(100);\n}\n\nfunction lighten (color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.l += amount / 100;\n    hsl.l = clamp01(hsl.l);\n    return tinycolor(hsl);\n}\n\nfunction brighten(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var rgb = tinycolor(color).toRgb();\n    rgb.r = mathMax(0, mathMin(255, rgb.r - mathRound(255 * - (amount / 100))));\n    rgb.g = mathMax(0, mathMin(255, rgb.g - mathRound(255 * - (amount / 100))));\n    rgb.b = mathMax(0, mathMin(255, rgb.b - mathRound(255 * - (amount / 100))));\n    return tinycolor(rgb);\n}\n\nfunction darken (color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.l -= amount / 100;\n    hsl.l = clamp01(hsl.l);\n    return tinycolor(hsl);\n}\n\n// Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.\n// Values outside of this range will be wrapped into this range.\nfunction spin(color, amount) {\n    var hsl = tinycolor(color).toHsl();\n    var hue = (hsl.h + amount) % 360;\n    hsl.h = hue < 0 ? 360 + hue : hue;\n    return tinycolor(hsl);\n}\n\n// Combination Functions\n// ---------------------\n// Thanks to jQuery xColor for some of the ideas behind these\n// <https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js>\n\nfunction complement(color) {\n    var hsl = tinycolor(color).toHsl();\n    hsl.h = (hsl.h + 180) % 360;\n    return tinycolor(hsl);\n}\n\nfunction triad(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 120) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 240) % 360, s: hsl.s, l: hsl.l })\n    ];\n}\n\nfunction tetrad(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 90) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 180) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 270) % 360, s: hsl.s, l: hsl.l })\n    ];\n}\n\nfunction splitcomplement(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 72) % 360, s: hsl.s, l: hsl.l}),\n        tinycolor({ h: (h + 216) % 360, s: hsl.s, l: hsl.l})\n    ];\n}\n\nfunction analogous(color, results, slices) {\n    results = results || 6;\n    slices = slices || 30;\n\n    var hsl = tinycolor(color).toHsl();\n    var part = 360 / slices;\n    var ret = [tinycolor(color)];\n\n    for (hsl.h = ((hsl.h - (part * results >> 1)) + 720) % 360; --results; ) {\n        hsl.h = (hsl.h + part) % 360;\n        ret.push(tinycolor(hsl));\n    }\n    return ret;\n}\n\nfunction monochromatic(color, results) {\n    results = results || 6;\n    var hsv = tinycolor(color).toHsv();\n    var h = hsv.h, s = hsv.s, v = hsv.v;\n    var ret = [];\n    var modification = 1 / results;\n\n    while (results--) {\n        ret.push(tinycolor({ h: h, s: s, v: v}));\n        v = (v + modification) % 1;\n    }\n\n    return ret;\n}\n\n// Utility Functions\n// ---------------------\n\ntinycolor.mix = function(color1, color2, amount) {\n    amount = (amount === 0) ? 0 : (amount || 50);\n\n    var rgb1 = tinycolor(color1).toRgb();\n    var rgb2 = tinycolor(color2).toRgb();\n\n    var p = amount / 100;\n\n    var rgba = {\n        r: ((rgb2.r - rgb1.r) * p) + rgb1.r,\n        g: ((rgb2.g - rgb1.g) * p) + rgb1.g,\n        b: ((rgb2.b - rgb1.b) * p) + rgb1.b,\n        a: ((rgb2.a - rgb1.a) * p) + rgb1.a\n    };\n\n    return tinycolor(rgba);\n};\n\n\n// Readability Functions\n// ---------------------\n// <http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef (WCAG Version 2)\n\n// `contrast`\n// Analyze the 2 colors and returns the color contrast defined by (WCAG Version 2)\ntinycolor.readability = function(color1, color2) {\n    var c1 = tinycolor(color1);\n    var c2 = tinycolor(color2);\n    return (Math.max(c1.getLuminance(),c2.getLuminance())+0.05) / (Math.min(c1.getLuminance(),c2.getLuminance())+0.05);\n};\n\n// `isReadable`\n// Ensure that foreground and background color combinations meet WCAG2 guidelines.\n// The third argument is an optional Object.\n//      the 'level' property states 'AA' or 'AAA' - if missing or invalid, it defaults to 'AA';\n//      the 'size' property states 'large' or 'small' - if missing or invalid, it defaults to 'small'.\n// If the entire object is absent, isReadable defaults to {level:\"AA\",size:\"small\"}.\n\n// *Example*\n//    tinycolor.isReadable(\"#000\", \"#111\") => false\n//    tinycolor.isReadable(\"#000\", \"#111\",{level:\"AA\",size:\"large\"}) => false\ntinycolor.isReadable = function(color1, color2, wcag2) {\n    var readability = tinycolor.readability(color1, color2);\n    var wcag2Parms, out;\n\n    out = false;\n\n    wcag2Parms = validateWCAG2Parms(wcag2);\n    switch (wcag2Parms.level + wcag2Parms.size) {\n        case \"AAsmall\":\n        case \"AAAlarge\":\n            out = readability >= 4.5;\n            break;\n        case \"AAlarge\":\n            out = readability >= 3;\n            break;\n        case \"AAAsmall\":\n            out = readability >= 7;\n            break;\n    }\n    return out;\n\n};\n\n// `mostReadable`\n// Given a base color and a list of possible foreground or background\n// colors for that base, returns the most readable color.\n// Optionally returns Black or White if the most readable color is unreadable.\n// *Example*\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:false}).toHexString(); // \"#112255\"\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:true}).toHexString();  // \"#ffffff\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"large\"}).toHexString(); // \"#faf3f3\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"small\"}).toHexString(); // \"#ffffff\"\ntinycolor.mostReadable = function(baseColor, colorList, args) {\n    var bestColor = null;\n    var bestScore = 0;\n    var readability;\n    var includeFallbackColors, level, size ;\n    args = args || {};\n    includeFallbackColors = args.includeFallbackColors ;\n    level = args.level;\n    size = args.size;\n\n    for (var i= 0; i < colorList.length ; i++) {\n        readability = tinycolor.readability(baseColor, colorList[i]);\n        if (readability > bestScore) {\n            bestScore = readability;\n            bestColor = tinycolor(colorList[i]);\n        }\n    }\n\n    if (tinycolor.isReadable(baseColor, bestColor, {\"level\":level,\"size\":size}) || !includeFallbackColors) {\n        return bestColor;\n    }\n    else {\n        args.includeFallbackColors=false;\n        return tinycolor.mostReadable(baseColor,[\"#fff\", \"#000\"],args);\n    }\n};\n\n\n// Big List of Colors\n// ------------------\n// <http://www.w3.org/TR/css3-color/#svg-color>\nvar names = tinycolor.names = {\n    aliceblue: \"f0f8ff\",\n    antiquewhite: \"faebd7\",\n    aqua: \"0ff\",\n    aquamarine: \"7fffd4\",\n    azure: \"f0ffff\",\n    beige: \"f5f5dc\",\n    bisque: \"ffe4c4\",\n    black: \"000\",\n    blanchedalmond: \"ffebcd\",\n    blue: \"00f\",\n    blueviolet: \"8a2be2\",\n    brown: \"a52a2a\",\n    burlywood: \"deb887\",\n    burntsienna: \"ea7e5d\",\n    cadetblue: \"5f9ea0\",\n    chartreuse: \"7fff00\",\n    chocolate: \"d2691e\",\n    coral: \"ff7f50\",\n    cornflowerblue: \"6495ed\",\n    cornsilk: \"fff8dc\",\n    crimson: \"dc143c\",\n    cyan: \"0ff\",\n    darkblue: \"00008b\",\n    darkcyan: \"008b8b\",\n    darkgoldenrod: \"b8860b\",\n    darkgray: \"a9a9a9\",\n    darkgreen: \"006400\",\n    darkgrey: \"a9a9a9\",\n    darkkhaki: \"bdb76b\",\n    darkmagenta: \"8b008b\",\n    darkolivegreen: \"556b2f\",\n    darkorange: \"ff8c00\",\n    darkorchid: \"9932cc\",\n    darkred: \"8b0000\",\n    darksalmon: \"e9967a\",\n    darkseagreen: \"8fbc8f\",\n    darkslateblue: \"483d8b\",\n    darkslategray: \"2f4f4f\",\n    darkslategrey: \"2f4f4f\",\n    darkturquoise: \"00ced1\",\n    darkviolet: \"9400d3\",\n    deeppink: \"ff1493\",\n    deepskyblue: \"00bfff\",\n    dimgray: \"696969\",\n    dimgrey: \"696969\",\n    dodgerblue: \"1e90ff\",\n    firebrick: \"b22222\",\n    floralwhite: \"fffaf0\",\n    forestgreen: \"228b22\",\n    fuchsia: \"f0f\",\n    gainsboro: \"dcdcdc\",\n    ghostwhite: \"f8f8ff\",\n    gold: \"ffd700\",\n    goldenrod: \"daa520\",\n    gray: \"808080\",\n    green: \"008000\",\n    greenyellow: \"adff2f\",\n    grey: \"808080\",\n    honeydew: \"f0fff0\",\n    hotpink: \"ff69b4\",\n    indianred: \"cd5c5c\",\n    indigo: \"4b0082\",\n    ivory: \"fffff0\",\n    khaki: \"f0e68c\",\n    lavender: \"e6e6fa\",\n    lavenderblush: \"fff0f5\",\n    lawngreen: \"7cfc00\",\n    lemonchiffon: \"fffacd\",\n    lightblue: \"add8e6\",\n    lightcoral: \"f08080\",\n    lightcyan: \"e0ffff\",\n    lightgoldenrodyellow: \"fafad2\",\n    lightgray: \"d3d3d3\",\n    lightgreen: \"90ee90\",\n    lightgrey: \"d3d3d3\",\n    lightpink: \"ffb6c1\",\n    lightsalmon: \"ffa07a\",\n    lightseagreen: \"20b2aa\",\n    lightskyblue: \"87cefa\",\n    lightslategray: \"789\",\n    lightslategrey: \"789\",\n    lightsteelblue: \"b0c4de\",\n    lightyellow: \"ffffe0\",\n    lime: \"0f0\",\n    limegreen: \"32cd32\",\n    linen: \"faf0e6\",\n    magenta: \"f0f\",\n    maroon: \"800000\",\n    mediumaquamarine: \"66cdaa\",\n    mediumblue: \"0000cd\",\n    mediumorchid: \"ba55d3\",\n    mediumpurple: \"9370db\",\n    mediumseagreen: \"3cb371\",\n    mediumslateblue: \"7b68ee\",\n    mediumspringgreen: \"00fa9a\",\n    mediumturquoise: \"48d1cc\",\n    mediumvioletred: \"c71585\",\n    midnightblue: \"191970\",\n    mintcream: \"f5fffa\",\n    mistyrose: \"ffe4e1\",\n    moccasin: \"ffe4b5\",\n    navajowhite: \"ffdead\",\n    navy: \"000080\",\n    oldlace: \"fdf5e6\",\n    olive: \"808000\",\n    olivedrab: \"6b8e23\",\n    orange: \"ffa500\",\n    orangered: \"ff4500\",\n    orchid: \"da70d6\",\n    palegoldenrod: \"eee8aa\",\n    palegreen: \"98fb98\",\n    paleturquoise: \"afeeee\",\n    palevioletred: \"db7093\",\n    papayawhip: \"ffefd5\",\n    peachpuff: \"ffdab9\",\n    peru: \"cd853f\",\n    pink: \"ffc0cb\",\n    plum: \"dda0dd\",\n    powderblue: \"b0e0e6\",\n    purple: \"800080\",\n    rebeccapurple: \"663399\",\n    red: \"f00\",\n    rosybrown: \"bc8f8f\",\n    royalblue: \"4169e1\",\n    saddlebrown: \"8b4513\",\n    salmon: \"fa8072\",\n    sandybrown: \"f4a460\",\n    seagreen: \"2e8b57\",\n    seashell: \"fff5ee\",\n    sienna: \"a0522d\",\n    silver: \"c0c0c0\",\n    skyblue: \"87ceeb\",\n    slateblue: \"6a5acd\",\n    slategray: \"708090\",\n    slategrey: \"708090\",\n    snow: \"fffafa\",\n    springgreen: \"00ff7f\",\n    steelblue: \"4682b4\",\n    tan: \"d2b48c\",\n    teal: \"008080\",\n    thistle: \"d8bfd8\",\n    tomato: \"ff6347\",\n    turquoise: \"40e0d0\",\n    violet: \"ee82ee\",\n    wheat: \"f5deb3\",\n    white: \"fff\",\n    whitesmoke: \"f5f5f5\",\n    yellow: \"ff0\",\n    yellowgreen: \"9acd32\"\n};\n\n// Make it easy to access colors via `hexNames[hex]`\nvar hexNames = tinycolor.hexNames = flip(names);\n\n\n// Utilities\n// ---------\n\n// `{ 'name1': 'val1' }` becomes `{ 'val1': 'name1' }`\nfunction flip(o) {\n    var flipped = { };\n    for (var i in o) {\n        if (o.hasOwnProperty(i)) {\n            flipped[o[i]] = i;\n        }\n    }\n    return flipped;\n}\n\n// Return a valid alpha value [0,1] with all invalid values being set to 1\nfunction boundAlpha(a) {\n    a = parseFloat(a);\n\n    if (isNaN(a) || a < 0 || a > 1) {\n        a = 1;\n    }\n\n    return a;\n}\n\n// Take input from [0, n] and return it as [0, 1]\nfunction bound01(n, max) {\n    if (isOnePointZero(n)) { n = \"100%\"; }\n\n    var processPercent = isPercentage(n);\n    n = mathMin(max, mathMax(0, parseFloat(n)));\n\n    // Automatically convert percentage into number\n    if (processPercent) {\n        n = parseInt(n * max, 10) / 100;\n    }\n\n    // Handle floating point rounding errors\n    if ((Math.abs(n - max) < 0.000001)) {\n        return 1;\n    }\n\n    // Convert into [0, 1] range if it isn't already\n    return (n % max) / parseFloat(max);\n}\n\n// Force a number between 0 and 1\nfunction clamp01(val) {\n    return mathMin(1, mathMax(0, val));\n}\n\n// Parse a base-16 hex value into a base-10 integer\nfunction parseIntFromHex(val) {\n    return parseInt(val, 16);\n}\n\n// Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1\n// <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>\nfunction isOnePointZero(n) {\n    return typeof n == \"string\" && n.indexOf('.') != -1 && parseFloat(n) === 1;\n}\n\n// Check to see if string passed in is a percentage\nfunction isPercentage(n) {\n    return typeof n === \"string\" && n.indexOf('%') != -1;\n}\n\n// Force a hex value to have 2 characters\nfunction pad2(c) {\n    return c.length == 1 ? '0' + c : '' + c;\n}\n\n// Replace a decimal with it's percentage value\nfunction convertToPercentage(n) {\n    if (n <= 1) {\n        n = (n * 100) + \"%\";\n    }\n\n    return n;\n}\n\n// Converts a decimal to a hex value\nfunction convertDecimalToHex(d) {\n    return Math.round(parseFloat(d) * 255).toString(16);\n}\n// Converts a hex value to a decimal\nfunction convertHexToDecimal(h) {\n    return (parseIntFromHex(h) / 255);\n}\n\nvar matchers = (function() {\n\n    // <http://www.w3.org/TR/css3-values/#integers>\n    var CSS_INTEGER = \"[-\\\\+]?\\\\d+%?\";\n\n    // <http://www.w3.org/TR/css3-values/#number-value>\n    var CSS_NUMBER = \"[-\\\\+]?\\\\d*\\\\.\\\\d+%?\";\n\n    // Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.\n    var CSS_UNIT = \"(?:\" + CSS_NUMBER + \")|(?:\" + CSS_INTEGER + \")\";\n\n    // Actual matching.\n    // Parentheses and commas are optional, but not required.\n    // Whitespace can take the place of commas or opening paren\n    var PERMISSIVE_MATCH3 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n    var PERMISSIVE_MATCH4 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n\n    return {\n        CSS_UNIT: new RegExp(CSS_UNIT),\n        rgb: new RegExp(\"rgb\" + PERMISSIVE_MATCH3),\n        rgba: new RegExp(\"rgba\" + PERMISSIVE_MATCH4),\n        hsl: new RegExp(\"hsl\" + PERMISSIVE_MATCH3),\n        hsla: new RegExp(\"hsla\" + PERMISSIVE_MATCH4),\n        hsv: new RegExp(\"hsv\" + PERMISSIVE_MATCH3),\n        hsva: new RegExp(\"hsva\" + PERMISSIVE_MATCH4),\n        hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n        hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n        hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n        hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/\n    };\n})();\n\n// `isValidCSSUnit`\n// Take in a single string / number and check to see if it looks like a CSS unit\n// (see `matchers` above for definition).\nfunction isValidCSSUnit(color) {\n    return !!matchers.CSS_UNIT.exec(color);\n}\n\n// `stringInputToObject`\n// Permissive string parsing.  Take in a number of formats, and output an object\n// based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`\nfunction stringInputToObject(color) {\n\n    color = color.replace(trimLeft,'').replace(trimRight, '').toLowerCase();\n    var named = false;\n    if (names[color]) {\n        color = names[color];\n        named = true;\n    }\n    else if (color == 'transparent') {\n        return { r: 0, g: 0, b: 0, a: 0, format: \"name\" };\n    }\n\n    // Try to match string input using regular expressions.\n    // Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]\n    // Just return an object and let the conversion functions handle that.\n    // This way the result will be the same whether the tinycolor is initialized with string or object.\n    var match;\n    if ((match = matchers.rgb.exec(color))) {\n        return { r: match[1], g: match[2], b: match[3] };\n    }\n    if ((match = matchers.rgba.exec(color))) {\n        return { r: match[1], g: match[2], b: match[3], a: match[4] };\n    }\n    if ((match = matchers.hsl.exec(color))) {\n        return { h: match[1], s: match[2], l: match[3] };\n    }\n    if ((match = matchers.hsla.exec(color))) {\n        return { h: match[1], s: match[2], l: match[3], a: match[4] };\n    }\n    if ((match = matchers.hsv.exec(color))) {\n        return { h: match[1], s: match[2], v: match[3] };\n    }\n    if ((match = matchers.hsva.exec(color))) {\n        return { h: match[1], s: match[2], v: match[3], a: match[4] };\n    }\n    if ((match = matchers.hex8.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            a: convertHexToDecimal(match[4]),\n            format: named ? \"name\" : \"hex8\"\n        };\n    }\n    if ((match = matchers.hex6.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            format: named ? \"name\" : \"hex\"\n        };\n    }\n    if ((match = matchers.hex4.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1] + '' + match[1]),\n            g: parseIntFromHex(match[2] + '' + match[2]),\n            b: parseIntFromHex(match[3] + '' + match[3]),\n            a: convertHexToDecimal(match[4] + '' + match[4]),\n            format: named ? \"name\" : \"hex8\"\n        };\n    }\n    if ((match = matchers.hex3.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1] + '' + match[1]),\n            g: parseIntFromHex(match[2] + '' + match[2]),\n            b: parseIntFromHex(match[3] + '' + match[3]),\n            format: named ? \"name\" : \"hex\"\n        };\n    }\n\n    return false;\n}\n\nfunction validateWCAG2Parms(parms) {\n    // return valid WCAG2 parms for isReadable.\n    // If input parms are invalid, return {\"level\":\"AA\", \"size\":\"small\"}\n    var level, size;\n    parms = parms || {\"level\":\"AA\", \"size\":\"small\"};\n    level = (parms.level || \"AA\").toUpperCase();\n    size = (parms.size || \"small\").toLowerCase();\n    if (level !== \"AA\" && level !== \"AAA\") {\n        level = \"AA\";\n    }\n    if (size !== \"small\" && size !== \"large\") {\n        size = \"small\";\n    }\n    return {\"level\":level, \"size\":size};\n}\n\n// Node: Export function\nif (typeof module !== \"undefined\" && module.exports) {\n    module.exports = tinycolor;\n}\n// AMD/requirejs: Define the module\nelse if (typeof define === 'function' && define.amd) {\n    define(function () {return tinycolor;});\n}\n// Browser: Expose to window\nelse {\n    window.tinycolor = tinycolor;\n}\n\n})(Math);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__6__;","module.exports = __WEBPACK_EXTERNAL_MODULE__7__;","module.exports = __WEBPACK_EXTERNAL_MODULE__8__;","define([\n  'jquery',\n  'grafana/app/core/core',\n],\nfunction ($, core) {\n  'use strict';\n\n  var appEvents = core.appEvents;\n\n  function GraphTooltip(elem, dashboard, scope, getSeriesFn) {\n    var self = this;\n    var ctrl = scope.ctrl;\n    var panel = ctrl.panel;\n\n    var $tooltip = $('<div class=\"graph-tooltip\">');\n\n    this.destroy = function() {\n      $tooltip.remove();\n    };\n\n    this.findHoverIndexFromDataPoints = function(posX, series, last) {\n      var ps = series.datapoints.pointsize;\n      var initial = last*ps;\n      var len = series.datapoints.points.length;\n      for (var j = initial; j < len; j += ps) {\n        // Special case of a non stepped line, highlight the very last point just before a null point\n        if ((!series.lines.steps && series.datapoints.points[initial] != null && series.datapoints.points[j] == null)\n            //normal case\n            || series.datapoints.points[j] > posX) {\n          return Math.max(j - ps,  0)/ps;\n        }\n      }\n      return j/ps - 1;\n    };\n\n    this.findHoverIndexFromData = function(posX, series) {\n      var lower = 0;\n      var upper = series.data.length - 1;\n      var middle;\n      while (true) {\n        if (lower > upper) {\n          return Math.max(upper, 0);\n        }\n        middle = Math.floor((lower + upper) / 2);\n        if (series.data[middle][0] === posX) {\n          return middle;\n        } else if (series.data[middle][0] < posX) {\n          lower = middle + 1;\n        } else {\n          upper = middle - 1;\n        }\n      }\n    };\n\n    this.renderAndShow = function(absoluteTime, innerHtml, pos, xMode) {\n      if (xMode === 'time') {\n        innerHtml = '<div class=\"graph-tooltip-time\">'+ absoluteTime + '</div>' + innerHtml;\n      }\n      $tooltip.html(innerHtml).place_tt(pos.pageX + 20, pos.pageY);\n    };\n\n    this.getMultiSeriesPlotHoverInfo = function(seriesList, pos) {\n      var value, i, series, hoverIndex, hoverDistance, pointTime, yaxis;\n      // 3 sub-arrays, 1st for hidden series, 2nd for left yaxis, 3rd for right yaxis.\n      var results = [[],[],[]];\n\n      //now we know the current X (j) position for X and Y values\n      var last_value = 0; //needed for stacked values\n\n      var minDistance, minTime;\n\n      for (i = 0; i < seriesList.length; i++) {\n        series = seriesList[i];\n\n        if (!series.data.length || (panel.legend.hideEmpty && series.allIsNull)) {\n          // Init value so that it does not brake series sorting\n          results[0].push({ hidden: true, value: 0 });\n          continue;\n        }\n\n        if (!series.data.length || (panel.legend.hideZero && series.allIsZero)) {\n          // Init value so that it does not brake series sorting\n          results[0].push({ hidden: true, value: 0 });\n          continue;\n        }\n\n        hoverIndex = this.findHoverIndexFromData(pos.x, series);\n        hoverDistance = pos.x - series.data[hoverIndex][0];\n        pointTime = series.data[hoverIndex][0];\n\n        // Take the closest point before the cursor, or if it does not exist, the closest after\n        if (! minDistance\n            || (hoverDistance >=0 && (hoverDistance < minDistance || minDistance < 0))\n            || (hoverDistance < 0 && hoverDistance > minDistance)) {\n          minDistance = hoverDistance;\n          minTime = pointTime;\n        }\n\n        if (series.stack) {\n          if (panel.tooltip.value_type === 'individual') {\n            value = series.data[hoverIndex][1];\n          } else if (!series.stack) {\n            value = series.data[hoverIndex][1];\n          } else {\n            last_value += series.data[hoverIndex][1];\n            value = last_value;\n          }\n        } else {\n          value = series.data[hoverIndex][1];\n        }\n\n        // Highlighting multiple Points depending on the plot type\n        if (series.lines.steps || series.stack) {\n          // stacked and steppedLine plots can have series with different length.\n          // Stacked series can increase its length on each new stacked serie if null points found,\n          // to speed the index search we begin always on the last found hoverIndex.\n          hoverIndex = this.findHoverIndexFromDataPoints(pos.x, series, hoverIndex);\n        }\n\n        // Be sure we have a yaxis so that it does not brake series sorting\n        yaxis = 0;\n        if (series.yaxis) {\n          yaxis = series.yaxis.n;\n        }\n\n        results[yaxis].push({\n          value: value,\n          hoverIndex: hoverIndex,\n          color: series.color,\n          label: series.aliasEscaped,\n          time: pointTime,\n          distance: hoverDistance,\n          index: i\n        });\n      }\n\n      // Contat the 3 sub-arrays\n      results = results[0].concat(results[1],results[2]);\n\n      // Time of the point closer to pointer\n      results.time = minTime;\n\n      return results;\n    };\n\n    elem.mouseleave(function () {\n      if (panel.tooltip.shared) {\n        var plot = elem.data().plot;\n        if (plot) {\n          $tooltip.detach();\n          plot.unhighlight();\n        }\n      }\n      appEvents.emit('graph-hover-clear');\n    });\n\n    elem.bind(\"plothover\", function (event, pos, item) {\n      self.show(pos, item);\n\n      // broadcast to other graph panels that we are hovering!\n      pos.panelRelY = (pos.pageY - elem.offset().top) / elem.height();\n      appEvents.emit('graph-hover', {pos: pos, panel: panel});\n    });\n\n    elem.bind(\"plotclick\", function (event, pos, item) {\n      appEvents.emit('graph-click', {pos: pos, panel: panel, item: item});\n    });\n\n    this.clear = function(plot) {\n      $tooltip.detach();\n      plot.clearCrosshair();\n      plot.unhighlight();\n    };\n\n    this.show = function(pos, item) {\n      var plot = elem.data().plot;\n      var plotData = plot.getData();\n      var xAxes = plot.getXAxes();\n      var xMode = xAxes[0].options.mode;\n      var seriesList = getSeriesFn();\n      var allSeriesMode = panel.tooltip.shared;\n      var group, value, absoluteTime, hoverInfo, i, series, seriesHtml, tooltipFormat;\n\n      // if panelRelY is defined another panel wants us to show a tooltip\n      // get pageX from position on x axis and pageY from relative position in original panel\n      if (pos.panelRelY) {\n        var pointOffset = plot.pointOffset({x: pos.x});\n        if (Number.isNaN(pointOffset.left) || pointOffset.left < 0 || pointOffset.left > elem.width()) {\n          self.clear(plot);\n          return;\n        }\n        pos.pageX = elem.offset().left + pointOffset.left;\n        pos.pageY = elem.offset().top + elem.height() * pos.panelRelY;\n        var isVisible = pos.pageY >= $(window).scrollTop() && pos.pageY <= $(window).innerHeight() + $(window).scrollTop();\n        if (!isVisible) {\n          self.clear(plot);\n          return;\n        }\n        plot.setCrosshair(pos);\n        allSeriesMode = true;\n\n        if (dashboard.sharedCrosshairModeOnly()) {\n          // if only crosshair mode we are done\n          return;\n        }\n      }\n\n      if (seriesList.length === 0) {\n        return;\n      }\n\n      if (seriesList[0].hasMsResolution) {\n        tooltipFormat = 'YYYY-MM-DD HH:mm:ss.SSS';\n      } else {\n        tooltipFormat = 'YYYY-MM-DD HH:mm:ss';\n      }\n\n      if (allSeriesMode) {\n        plot.unhighlight();\n\n        var seriesHoverInfo = self.getMultiSeriesPlotHoverInfo(plotData, pos);\n\n        seriesHtml = '';\n\n        absoluteTime = dashboard.formatDate(seriesHoverInfo.time, tooltipFormat);\n\n        // Dynamically reorder the hovercard for the current time point if the\n        // option is enabled.\n        if (panel.tooltip.sort === 2) {\n          seriesHoverInfo.sort(function(a, b) {\n            return b.value - a.value;\n          });\n        } else if (panel.tooltip.sort === 1) {\n          seriesHoverInfo.sort(function(a, b) {\n            return a.value - b.value;\n          });\n        }\n\n        for (i = 0; i < seriesHoverInfo.length; i++) {\n          hoverInfo = seriesHoverInfo[i];\n\n          if (hoverInfo.hidden) {\n            continue;\n          }\n\n          var highlightClass = '';\n          if (item && hoverInfo.index === item.seriesIndex) {\n            highlightClass = 'graph-tooltip-list-item--highlight';\n          }\n\n          series = seriesList[hoverInfo.index];\n\n          value = series.formatValue(hoverInfo.value);\n\n          seriesHtml += '<div class=\"graph-tooltip-list-item ' + highlightClass + '\"><div class=\"graph-tooltip-series-name\">';\n          seriesHtml += '<i class=\"fa fa-minus\" style=\"color:' + hoverInfo.color +';\"></i> ' + hoverInfo.label + ':</div>';\n          seriesHtml += '<div class=\"graph-tooltip-value\">' + value + '</div></div>';\n          plot.highlight(hoverInfo.index, hoverInfo.hoverIndex);\n        }\n\n        self.renderAndShow(absoluteTime, seriesHtml, pos, xMode);\n      }\n      // single series tooltip\n      else if (item) {\n        series = seriesList[item.seriesIndex];\n        group = '<div class=\"graph-tooltip-list-item\"><div class=\"graph-tooltip-series-name\">';\n        group += '<i class=\"fa fa-minus\" style=\"color:' + item.series.color +';\"></i> ' + series.aliasEscaped + ':</div>';\n\n        if (panel.stack && panel.tooltip.value_type === 'individual') {\n          value = item.datapoint[1] - item.datapoint[2];\n        }\n        else {\n          value = item.datapoint[1];\n        }\n\n        value = series.formatValue(value);\n\n        absoluteTime = dashboard.formatDate(item.datapoint[0], tooltipFormat);\n\n        group += '<div class=\"graph-tooltip-value\">' + value + '</div>';\n\n        self.renderAndShow(absoluteTime, group, pos, xMode);\n      }\n      // no hit\n      else {\n        $tooltip.detach();\n      }\n    };\n  }\n\n  return GraphTooltip;\n});\n","/*!\n * perfect-scrollbar v1.5.0\n * Copyright 2020 Hyunje Jun, MDBootstrap and Contributors\n * Licensed under MIT\n */\n\nfunction get(element) {\n  return getComputedStyle(element);\n}\n\nfunction set(element, obj) {\n  for (var key in obj) {\n    var val = obj[key];\n    if (typeof val === 'number') {\n      val = val + \"px\";\n    }\n    element.style[key] = val;\n  }\n  return element;\n}\n\nfunction div(className) {\n  var div = document.createElement('div');\n  div.className = className;\n  return div;\n}\n\nvar elMatches =\n  typeof Element !== 'undefined' &&\n  (Element.prototype.matches ||\n    Element.prototype.webkitMatchesSelector ||\n    Element.prototype.mozMatchesSelector ||\n    Element.prototype.msMatchesSelector);\n\nfunction matches(element, query) {\n  if (!elMatches) {\n    throw new Error('No element matching method supported');\n  }\n\n  return elMatches.call(element, query);\n}\n\nfunction remove(element) {\n  if (element.remove) {\n    element.remove();\n  } else {\n    if (element.parentNode) {\n      element.parentNode.removeChild(element);\n    }\n  }\n}\n\nfunction queryChildren(element, selector) {\n  return Array.prototype.filter.call(element.children, function (child) { return matches(child, selector); }\n  );\n}\n\nvar cls = {\n  main: 'ps',\n  rtl: 'ps__rtl',\n  element: {\n    thumb: function (x) { return (\"ps__thumb-\" + x); },\n    rail: function (x) { return (\"ps__rail-\" + x); },\n    consuming: 'ps__child--consume',\n  },\n  state: {\n    focus: 'ps--focus',\n    clicking: 'ps--clicking',\n    active: function (x) { return (\"ps--active-\" + x); },\n    scrolling: function (x) { return (\"ps--scrolling-\" + x); },\n  },\n};\n\n/*\n * Helper methods\n */\nvar scrollingClassTimeout = { x: null, y: null };\n\nfunction addScrollingClass(i, x) {\n  var classList = i.element.classList;\n  var className = cls.state.scrolling(x);\n\n  if (classList.contains(className)) {\n    clearTimeout(scrollingClassTimeout[x]);\n  } else {\n    classList.add(className);\n  }\n}\n\nfunction removeScrollingClass(i, x) {\n  scrollingClassTimeout[x] = setTimeout(\n    function () { return i.isAlive && i.element.classList.remove(cls.state.scrolling(x)); },\n    i.settings.scrollingThreshold\n  );\n}\n\nfunction setScrollingClassInstantly(i, x) {\n  addScrollingClass(i, x);\n  removeScrollingClass(i, x);\n}\n\nvar EventElement = function EventElement(element) {\n  this.element = element;\n  this.handlers = {};\n};\n\nvar prototypeAccessors = { isEmpty: { configurable: true } };\n\nEventElement.prototype.bind = function bind (eventName, handler) {\n  if (typeof this.handlers[eventName] === 'undefined') {\n    this.handlers[eventName] = [];\n  }\n  this.handlers[eventName].push(handler);\n  this.element.addEventListener(eventName, handler, false);\n};\n\nEventElement.prototype.unbind = function unbind (eventName, target) {\n    var this$1 = this;\n\n  this.handlers[eventName] = this.handlers[eventName].filter(function (handler) {\n    if (target && handler !== target) {\n      return true;\n    }\n    this$1.element.removeEventListener(eventName, handler, false);\n    return false;\n  });\n};\n\nEventElement.prototype.unbindAll = function unbindAll () {\n  for (var name in this.handlers) {\n    this.unbind(name);\n  }\n};\n\nprototypeAccessors.isEmpty.get = function () {\n    var this$1 = this;\n\n  return Object.keys(this.handlers).every(\n    function (key) { return this$1.handlers[key].length === 0; }\n  );\n};\n\nObject.defineProperties( EventElement.prototype, prototypeAccessors );\n\nvar EventManager = function EventManager() {\n  this.eventElements = [];\n};\n\nEventManager.prototype.eventElement = function eventElement (element) {\n  var ee = this.eventElements.filter(function (ee) { return ee.element === element; })[0];\n  if (!ee) {\n    ee = new EventElement(element);\n    this.eventElements.push(ee);\n  }\n  return ee;\n};\n\nEventManager.prototype.bind = function bind (element, eventName, handler) {\n  this.eventElement(element).bind(eventName, handler);\n};\n\nEventManager.prototype.unbind = function unbind (element, eventName, handler) {\n  var ee = this.eventElement(element);\n  ee.unbind(eventName, handler);\n\n  if (ee.isEmpty) {\n    // remove\n    this.eventElements.splice(this.eventElements.indexOf(ee), 1);\n  }\n};\n\nEventManager.prototype.unbindAll = function unbindAll () {\n  this.eventElements.forEach(function (e) { return e.unbindAll(); });\n  this.eventElements = [];\n};\n\nEventManager.prototype.once = function once (element, eventName, handler) {\n  var ee = this.eventElement(element);\n  var onceHandler = function (evt) {\n    ee.unbind(eventName, onceHandler);\n    handler(evt);\n  };\n  ee.bind(eventName, onceHandler);\n};\n\nfunction createEvent(name) {\n  if (typeof window.CustomEvent === 'function') {\n    return new CustomEvent(name);\n  } else {\n    var evt = document.createEvent('CustomEvent');\n    evt.initCustomEvent(name, false, false, undefined);\n    return evt;\n  }\n}\n\nfunction processScrollDiff(\n  i,\n  axis,\n  diff,\n  useScrollingClass,\n  forceFireReachEvent\n) {\n  if ( useScrollingClass === void 0 ) useScrollingClass = true;\n  if ( forceFireReachEvent === void 0 ) forceFireReachEvent = false;\n\n  var fields;\n  if (axis === 'top') {\n    fields = [\n      'contentHeight',\n      'containerHeight',\n      'scrollTop',\n      'y',\n      'up',\n      'down' ];\n  } else if (axis === 'left') {\n    fields = [\n      'contentWidth',\n      'containerWidth',\n      'scrollLeft',\n      'x',\n      'left',\n      'right' ];\n  } else {\n    throw new Error('A proper axis should be provided');\n  }\n\n  processScrollDiff$1(i, diff, fields, useScrollingClass, forceFireReachEvent);\n}\n\nfunction processScrollDiff$1(\n  i,\n  diff,\n  ref,\n  useScrollingClass,\n  forceFireReachEvent\n) {\n  var contentHeight = ref[0];\n  var containerHeight = ref[1];\n  var scrollTop = ref[2];\n  var y = ref[3];\n  var up = ref[4];\n  var down = ref[5];\n  if ( useScrollingClass === void 0 ) useScrollingClass = true;\n  if ( forceFireReachEvent === void 0 ) forceFireReachEvent = false;\n\n  var element = i.element;\n\n  // reset reach\n  i.reach[y] = null;\n\n  // 1 for subpixel rounding\n  if (element[scrollTop] < 1) {\n    i.reach[y] = 'start';\n  }\n\n  // 1 for subpixel rounding\n  if (element[scrollTop] > i[contentHeight] - i[containerHeight] - 1) {\n    i.reach[y] = 'end';\n  }\n\n  if (diff) {\n    element.dispatchEvent(createEvent((\"ps-scroll-\" + y)));\n\n    if (diff < 0) {\n      element.dispatchEvent(createEvent((\"ps-scroll-\" + up)));\n    } else if (diff > 0) {\n      element.dispatchEvent(createEvent((\"ps-scroll-\" + down)));\n    }\n\n    if (useScrollingClass) {\n      setScrollingClassInstantly(i, y);\n    }\n  }\n\n  if (i.reach[y] && (diff || forceFireReachEvent)) {\n    element.dispatchEvent(createEvent((\"ps-\" + y + \"-reach-\" + (i.reach[y]))));\n  }\n}\n\nfunction toInt(x) {\n  return parseInt(x, 10) || 0;\n}\n\nfunction isEditable(el) {\n  return (\n    matches(el, 'input,[contenteditable]') ||\n    matches(el, 'select,[contenteditable]') ||\n    matches(el, 'textarea,[contenteditable]') ||\n    matches(el, 'button,[contenteditable]')\n  );\n}\n\nfunction outerWidth(element) {\n  var styles = get(element);\n  return (\n    toInt(styles.width) +\n    toInt(styles.paddingLeft) +\n    toInt(styles.paddingRight) +\n    toInt(styles.borderLeftWidth) +\n    toInt(styles.borderRightWidth)\n  );\n}\n\nvar env = {\n  isWebKit:\n    typeof document !== 'undefined' &&\n    'WebkitAppearance' in document.documentElement.style,\n  supportsTouch:\n    typeof window !== 'undefined' &&\n    ('ontouchstart' in window ||\n      ('maxTouchPoints' in window.navigator &&\n        window.navigator.maxTouchPoints > 0) ||\n      (window.DocumentTouch && document instanceof window.DocumentTouch)),\n  supportsIePointer:\n    typeof navigator !== 'undefined' && navigator.msMaxTouchPoints,\n  isChrome:\n    typeof navigator !== 'undefined' &&\n    /Chrome/i.test(navigator && navigator.userAgent),\n};\n\nfunction updateGeometry(i) {\n  var element = i.element;\n  var roundedScrollTop = Math.floor(element.scrollTop);\n  var rect = element.getBoundingClientRect();\n\n  i.containerWidth = Math.ceil(rect.width);\n  i.containerHeight = Math.ceil(rect.height);\n  i.contentWidth = element.scrollWidth;\n  i.contentHeight = element.scrollHeight;\n\n  if (!element.contains(i.scrollbarXRail)) {\n    // clean up and append\n    queryChildren(element, cls.element.rail('x')).forEach(function (el) { return remove(el); }\n    );\n    element.appendChild(i.scrollbarXRail);\n  }\n  if (!element.contains(i.scrollbarYRail)) {\n    // clean up and append\n    queryChildren(element, cls.element.rail('y')).forEach(function (el) { return remove(el); }\n    );\n    element.appendChild(i.scrollbarYRail);\n  }\n\n  if (\n    !i.settings.suppressScrollX &&\n    i.containerWidth + i.settings.scrollXMarginOffset < i.contentWidth\n  ) {\n    i.scrollbarXActive = true;\n    i.railXWidth = i.containerWidth - i.railXMarginWidth;\n    i.railXRatio = i.containerWidth / i.railXWidth;\n    i.scrollbarXWidth = getThumbSize(\n      i,\n      toInt((i.railXWidth * i.containerWidth) / i.contentWidth)\n    );\n    i.scrollbarXLeft = toInt(\n      ((i.negativeScrollAdjustment + element.scrollLeft) *\n        (i.railXWidth - i.scrollbarXWidth)) /\n        (i.contentWidth - i.containerWidth)\n    );\n  } else {\n    i.scrollbarXActive = false;\n  }\n\n  if (\n    !i.settings.suppressScrollY &&\n    i.containerHeight + i.settings.scrollYMarginOffset < i.contentHeight\n  ) {\n    i.scrollbarYActive = true;\n    i.railYHeight = i.containerHeight - i.railYMarginHeight;\n    i.railYRatio = i.containerHeight / i.railYHeight;\n    i.scrollbarYHeight = getThumbSize(\n      i,\n      toInt((i.railYHeight * i.containerHeight) / i.contentHeight)\n    );\n    i.scrollbarYTop = toInt(\n      (roundedScrollTop * (i.railYHeight - i.scrollbarYHeight)) /\n        (i.contentHeight - i.containerHeight)\n    );\n  } else {\n    i.scrollbarYActive = false;\n  }\n\n  if (i.scrollbarXLeft >= i.railXWidth - i.scrollbarXWidth) {\n    i.scrollbarXLeft = i.railXWidth - i.scrollbarXWidth;\n  }\n  if (i.scrollbarYTop >= i.railYHeight - i.scrollbarYHeight) {\n    i.scrollbarYTop = i.railYHeight - i.scrollbarYHeight;\n  }\n\n  updateCss(element, i);\n\n  if (i.scrollbarXActive) {\n    element.classList.add(cls.state.active('x'));\n  } else {\n    element.classList.remove(cls.state.active('x'));\n    i.scrollbarXWidth = 0;\n    i.scrollbarXLeft = 0;\n    element.scrollLeft = i.isRtl === true ? i.contentWidth : 0;\n  }\n  if (i.scrollbarYActive) {\n    element.classList.add(cls.state.active('y'));\n  } else {\n    element.classList.remove(cls.state.active('y'));\n    i.scrollbarYHeight = 0;\n    i.scrollbarYTop = 0;\n    element.scrollTop = 0;\n  }\n}\n\nfunction getThumbSize(i, thumbSize) {\n  if (i.settings.minScrollbarLength) {\n    thumbSize = Math.max(thumbSize, i.settings.minScrollbarLength);\n  }\n  if (i.settings.maxScrollbarLength) {\n    thumbSize = Math.min(thumbSize, i.settings.maxScrollbarLength);\n  }\n  return thumbSize;\n}\n\nfunction updateCss(element, i) {\n  var xRailOffset = { width: i.railXWidth };\n  var roundedScrollTop = Math.floor(element.scrollTop);\n\n  if (i.isRtl) {\n    xRailOffset.left =\n      i.negativeScrollAdjustment +\n      element.scrollLeft +\n      i.containerWidth -\n      i.contentWidth;\n  } else {\n    xRailOffset.left = element.scrollLeft;\n  }\n  if (i.isScrollbarXUsingBottom) {\n    xRailOffset.bottom = i.scrollbarXBottom - roundedScrollTop;\n  } else {\n    xRailOffset.top = i.scrollbarXTop + roundedScrollTop;\n  }\n  set(i.scrollbarXRail, xRailOffset);\n\n  var yRailOffset = { top: roundedScrollTop, height: i.railYHeight };\n  if (i.isScrollbarYUsingRight) {\n    if (i.isRtl) {\n      yRailOffset.right =\n        i.contentWidth -\n        (i.negativeScrollAdjustment + element.scrollLeft) -\n        i.scrollbarYRight -\n        i.scrollbarYOuterWidth -\n        9;\n    } else {\n      yRailOffset.right = i.scrollbarYRight - element.scrollLeft;\n    }\n  } else {\n    if (i.isRtl) {\n      yRailOffset.left =\n        i.negativeScrollAdjustment +\n        element.scrollLeft +\n        i.containerWidth * 2 -\n        i.contentWidth -\n        i.scrollbarYLeft -\n        i.scrollbarYOuterWidth;\n    } else {\n      yRailOffset.left = i.scrollbarYLeft + element.scrollLeft;\n    }\n  }\n  set(i.scrollbarYRail, yRailOffset);\n\n  set(i.scrollbarX, {\n    left: i.scrollbarXLeft,\n    width: i.scrollbarXWidth - i.railBorderXWidth,\n  });\n  set(i.scrollbarY, {\n    top: i.scrollbarYTop,\n    height: i.scrollbarYHeight - i.railBorderYWidth,\n  });\n}\n\nfunction clickRail(i) {\n  var element = i.element;\n\n  i.event.bind(i.scrollbarY, 'mousedown', function (e) { return e.stopPropagation(); });\n  i.event.bind(i.scrollbarYRail, 'mousedown', function (e) {\n    var positionTop =\n      e.pageY -\n      window.pageYOffset -\n      i.scrollbarYRail.getBoundingClientRect().top;\n    var direction = positionTop > i.scrollbarYTop ? 1 : -1;\n\n    i.element.scrollTop += direction * i.containerHeight;\n    updateGeometry(i);\n\n    e.stopPropagation();\n  });\n\n  i.event.bind(i.scrollbarX, 'mousedown', function (e) { return e.stopPropagation(); });\n  i.event.bind(i.scrollbarXRail, 'mousedown', function (e) {\n    var positionLeft =\n      e.pageX -\n      window.pageXOffset -\n      i.scrollbarXRail.getBoundingClientRect().left;\n    var direction = positionLeft > i.scrollbarXLeft ? 1 : -1;\n\n    i.element.scrollLeft += direction * i.containerWidth;\n    updateGeometry(i);\n\n    e.stopPropagation();\n  });\n}\n\nfunction dragThumb(i) {\n  bindMouseScrollHandler(i, [\n    'containerWidth',\n    'contentWidth',\n    'pageX',\n    'railXWidth',\n    'scrollbarX',\n    'scrollbarXWidth',\n    'scrollLeft',\n    'x',\n    'scrollbarXRail' ]);\n  bindMouseScrollHandler(i, [\n    'containerHeight',\n    'contentHeight',\n    'pageY',\n    'railYHeight',\n    'scrollbarY',\n    'scrollbarYHeight',\n    'scrollTop',\n    'y',\n    'scrollbarYRail' ]);\n}\n\nfunction bindMouseScrollHandler(\n  i,\n  ref\n) {\n  var containerHeight = ref[0];\n  var contentHeight = ref[1];\n  var pageY = ref[2];\n  var railYHeight = ref[3];\n  var scrollbarY = ref[4];\n  var scrollbarYHeight = ref[5];\n  var scrollTop = ref[6];\n  var y = ref[7];\n  var scrollbarYRail = ref[8];\n\n  var element = i.element;\n\n  var startingScrollTop = null;\n  var startingMousePageY = null;\n  var scrollBy = null;\n\n  function mouseMoveHandler(e) {\n    if (e.touches && e.touches[0]) {\n      e[pageY] = e.touches[0].pageY;\n    }\n    element[scrollTop] =\n      startingScrollTop + scrollBy * (e[pageY] - startingMousePageY);\n    addScrollingClass(i, y);\n    updateGeometry(i);\n\n    e.stopPropagation();\n    e.preventDefault();\n  }\n\n  function mouseUpHandler() {\n    removeScrollingClass(i, y);\n    i[scrollbarYRail].classList.remove(cls.state.clicking);\n    i.event.unbind(i.ownerDocument, 'mousemove', mouseMoveHandler);\n  }\n\n  function bindMoves(e, touchMode) {\n    startingScrollTop = element[scrollTop];\n    if (touchMode && e.touches) {\n      e[pageY] = e.touches[0].pageY;\n    }\n    startingMousePageY = e[pageY];\n    scrollBy =\n      (i[contentHeight] - i[containerHeight]) /\n      (i[railYHeight] - i[scrollbarYHeight]);\n    if (!touchMode) {\n      i.event.bind(i.ownerDocument, 'mousemove', mouseMoveHandler);\n      i.event.once(i.ownerDocument, 'mouseup', mouseUpHandler);\n      e.preventDefault();\n    } else {\n      i.event.bind(i.ownerDocument, 'touchmove', mouseMoveHandler);\n    }\n\n    i[scrollbarYRail].classList.add(cls.state.clicking);\n\n    e.stopPropagation();\n  }\n\n  i.event.bind(i[scrollbarY], 'mousedown', function (e) {\n    bindMoves(e);\n  });\n  i.event.bind(i[scrollbarY], 'touchstart', function (e) {\n    bindMoves(e, true);\n  });\n}\n\nfunction keyboard(i) {\n  var element = i.element;\n\n  var elementHovered = function () { return matches(element, ':hover'); };\n  var scrollbarFocused = function () { return matches(i.scrollbarX, ':focus') || matches(i.scrollbarY, ':focus'); };\n\n  function shouldPreventDefault(deltaX, deltaY) {\n    var scrollTop = Math.floor(element.scrollTop);\n    if (deltaX === 0) {\n      if (!i.scrollbarYActive) {\n        return false;\n      }\n      if (\n        (scrollTop === 0 && deltaY > 0) ||\n        (scrollTop >= i.contentHeight - i.containerHeight && deltaY < 0)\n      ) {\n        return !i.settings.wheelPropagation;\n      }\n    }\n\n    var scrollLeft = element.scrollLeft;\n    if (deltaY === 0) {\n      if (!i.scrollbarXActive) {\n        return false;\n      }\n      if (\n        (scrollLeft === 0 && deltaX < 0) ||\n        (scrollLeft >= i.contentWidth - i.containerWidth && deltaX > 0)\n      ) {\n        return !i.settings.wheelPropagation;\n      }\n    }\n    return true;\n  }\n\n  i.event.bind(i.ownerDocument, 'keydown', function (e) {\n    if (\n      (e.isDefaultPrevented && e.isDefaultPrevented()) ||\n      e.defaultPrevented\n    ) {\n      return;\n    }\n\n    if (!elementHovered() && !scrollbarFocused()) {\n      return;\n    }\n\n    var activeElement = document.activeElement\n      ? document.activeElement\n      : i.ownerDocument.activeElement;\n    if (activeElement) {\n      if (activeElement.tagName === 'IFRAME') {\n        activeElement = activeElement.contentDocument.activeElement;\n      } else {\n        // go deeper if element is a webcomponent\n        while (activeElement.shadowRoot) {\n          activeElement = activeElement.shadowRoot.activeElement;\n        }\n      }\n      if (isEditable(activeElement)) {\n        return;\n      }\n    }\n\n    var deltaX = 0;\n    var deltaY = 0;\n\n    switch (e.which) {\n      case 37: // left\n        if (e.metaKey) {\n          deltaX = -i.contentWidth;\n        } else if (e.altKey) {\n          deltaX = -i.containerWidth;\n        } else {\n          deltaX = -30;\n        }\n        break;\n      case 38: // up\n        if (e.metaKey) {\n          deltaY = i.contentHeight;\n        } else if (e.altKey) {\n          deltaY = i.containerHeight;\n        } else {\n          deltaY = 30;\n        }\n        break;\n      case 39: // right\n        if (e.metaKey) {\n          deltaX = i.contentWidth;\n        } else if (e.altKey) {\n          deltaX = i.containerWidth;\n        } else {\n          deltaX = 30;\n        }\n        break;\n      case 40: // down\n        if (e.metaKey) {\n          deltaY = -i.contentHeight;\n        } else if (e.altKey) {\n          deltaY = -i.containerHeight;\n        } else {\n          deltaY = -30;\n        }\n        break;\n      case 32: // space bar\n        if (e.shiftKey) {\n          deltaY = i.containerHeight;\n        } else {\n          deltaY = -i.containerHeight;\n        }\n        break;\n      case 33: // page up\n        deltaY = i.containerHeight;\n        break;\n      case 34: // page down\n        deltaY = -i.containerHeight;\n        break;\n      case 36: // home\n        deltaY = i.contentHeight;\n        break;\n      case 35: // end\n        deltaY = -i.contentHeight;\n        break;\n      default:\n        return;\n    }\n\n    if (i.settings.suppressScrollX && deltaX !== 0) {\n      return;\n    }\n    if (i.settings.suppressScrollY && deltaY !== 0) {\n      return;\n    }\n\n    element.scrollTop -= deltaY;\n    element.scrollLeft += deltaX;\n    updateGeometry(i);\n\n    if (shouldPreventDefault(deltaX, deltaY)) {\n      e.preventDefault();\n    }\n  });\n}\n\nfunction wheel(i) {\n  var element = i.element;\n\n  function shouldPreventDefault(deltaX, deltaY) {\n    var roundedScrollTop = Math.floor(element.scrollTop);\n    var isTop = element.scrollTop === 0;\n    var isBottom =\n      roundedScrollTop + element.offsetHeight === element.scrollHeight;\n    var isLeft = element.scrollLeft === 0;\n    var isRight =\n      element.scrollLeft + element.offsetWidth === element.scrollWidth;\n\n    var hitsBound;\n\n    // pick axis with primary direction\n    if (Math.abs(deltaY) > Math.abs(deltaX)) {\n      hitsBound = isTop || isBottom;\n    } else {\n      hitsBound = isLeft || isRight;\n    }\n\n    return hitsBound ? !i.settings.wheelPropagation : true;\n  }\n\n  function getDeltaFromEvent(e) {\n    var deltaX = e.deltaX;\n    var deltaY = -1 * e.deltaY;\n\n    if (typeof deltaX === 'undefined' || typeof deltaY === 'undefined') {\n      // OS X Safari\n      deltaX = (-1 * e.wheelDeltaX) / 6;\n      deltaY = e.wheelDeltaY / 6;\n    }\n\n    if (e.deltaMode && e.deltaMode === 1) {\n      // Firefox in deltaMode 1: Line scrolling\n      deltaX *= 10;\n      deltaY *= 10;\n    }\n\n    if (deltaX !== deltaX && deltaY !== deltaY /* NaN checks */) {\n      // IE in some mouse drivers\n      deltaX = 0;\n      deltaY = e.wheelDelta;\n    }\n\n    if (e.shiftKey) {\n      // reverse axis with shift key\n      return [-deltaY, -deltaX];\n    }\n    return [deltaX, deltaY];\n  }\n\n  function shouldBeConsumedByChild(target, deltaX, deltaY) {\n    // FIXME: this is a workaround for <select> issue in FF and IE #571\n    if (!env.isWebKit && element.querySelector('select:focus')) {\n      return true;\n    }\n\n    if (!element.contains(target)) {\n      return false;\n    }\n\n    var cursor = target;\n\n    while (cursor && cursor !== element) {\n      if (cursor.classList.contains(cls.element.consuming)) {\n        return true;\n      }\n\n      var style = get(cursor);\n\n      // if deltaY && vertical scrollable\n      if (deltaY && style.overflowY.match(/(scroll|auto)/)) {\n        var maxScrollTop = cursor.scrollHeight - cursor.clientHeight;\n        if (maxScrollTop > 0) {\n          if (\n            (cursor.scrollTop > 0 && deltaY < 0) ||\n            (cursor.scrollTop < maxScrollTop && deltaY > 0)\n          ) {\n            return true;\n          }\n        }\n      }\n      // if deltaX && horizontal scrollable\n      if (deltaX && style.overflowX.match(/(scroll|auto)/)) {\n        var maxScrollLeft = cursor.scrollWidth - cursor.clientWidth;\n        if (maxScrollLeft > 0) {\n          if (\n            (cursor.scrollLeft > 0 && deltaX < 0) ||\n            (cursor.scrollLeft < maxScrollLeft && deltaX > 0)\n          ) {\n            return true;\n          }\n        }\n      }\n\n      cursor = cursor.parentNode;\n    }\n\n    return false;\n  }\n\n  function mousewheelHandler(e) {\n    var ref = getDeltaFromEvent(e);\n    var deltaX = ref[0];\n    var deltaY = ref[1];\n\n    if (shouldBeConsumedByChild(e.target, deltaX, deltaY)) {\n      return;\n    }\n\n    var shouldPrevent = false;\n    if (!i.settings.useBothWheelAxes) {\n      // deltaX will only be used for horizontal scrolling and deltaY will\n      // only be used for vertical scrolling - this is the default\n      element.scrollTop -= deltaY * i.settings.wheelSpeed;\n      element.scrollLeft += deltaX * i.settings.wheelSpeed;\n    } else if (i.scrollbarYActive && !i.scrollbarXActive) {\n      // only vertical scrollbar is active and useBothWheelAxes option is\n      // active, so let's scroll vertical bar using both mouse wheel axes\n      if (deltaY) {\n        element.scrollTop -= deltaY * i.settings.wheelSpeed;\n      } else {\n        element.scrollTop += deltaX * i.settings.wheelSpeed;\n      }\n      shouldPrevent = true;\n    } else if (i.scrollbarXActive && !i.scrollbarYActive) {\n      // useBothWheelAxes and only horizontal bar is active, so use both\n      // wheel axes for horizontal bar\n      if (deltaX) {\n        element.scrollLeft += deltaX * i.settings.wheelSpeed;\n      } else {\n        element.scrollLeft -= deltaY * i.settings.wheelSpeed;\n      }\n      shouldPrevent = true;\n    }\n\n    updateGeometry(i);\n\n    shouldPrevent = shouldPrevent || shouldPreventDefault(deltaX, deltaY);\n    if (shouldPrevent && !e.ctrlKey) {\n      e.stopPropagation();\n      e.preventDefault();\n    }\n  }\n\n  if (typeof window.onwheel !== 'undefined') {\n    i.event.bind(element, 'wheel', mousewheelHandler);\n  } else if (typeof window.onmousewheel !== 'undefined') {\n    i.event.bind(element, 'mousewheel', mousewheelHandler);\n  }\n}\n\nfunction touch(i) {\n  if (!env.supportsTouch && !env.supportsIePointer) {\n    return;\n  }\n\n  var element = i.element;\n\n  function shouldPrevent(deltaX, deltaY) {\n    var scrollTop = Math.floor(element.scrollTop);\n    var scrollLeft = element.scrollLeft;\n    var magnitudeX = Math.abs(deltaX);\n    var magnitudeY = Math.abs(deltaY);\n\n    if (magnitudeY > magnitudeX) {\n      // user is perhaps trying to swipe up/down the page\n\n      if (\n        (deltaY < 0 && scrollTop === i.contentHeight - i.containerHeight) ||\n        (deltaY > 0 && scrollTop === 0)\n      ) {\n        // set prevent for mobile Chrome refresh\n        return window.scrollY === 0 && deltaY > 0 && env.isChrome;\n      }\n    } else if (magnitudeX > magnitudeY) {\n      // user is perhaps trying to swipe left/right across the page\n\n      if (\n        (deltaX < 0 && scrollLeft === i.contentWidth - i.containerWidth) ||\n        (deltaX > 0 && scrollLeft === 0)\n      ) {\n        return true;\n      }\n    }\n\n    return true;\n  }\n\n  function applyTouchMove(differenceX, differenceY) {\n    element.scrollTop -= differenceY;\n    element.scrollLeft -= differenceX;\n\n    updateGeometry(i);\n  }\n\n  var startOffset = {};\n  var startTime = 0;\n  var speed = {};\n  var easingLoop = null;\n\n  function getTouch(e) {\n    if (e.targetTouches) {\n      return e.targetTouches[0];\n    } else {\n      // Maybe IE pointer\n      return e;\n    }\n  }\n\n  function shouldHandle(e) {\n    if (e.pointerType && e.pointerType === 'pen' && e.buttons === 0) {\n      return false;\n    }\n    if (e.targetTouches && e.targetTouches.length === 1) {\n      return true;\n    }\n    if (\n      e.pointerType &&\n      e.pointerType !== 'mouse' &&\n      e.pointerType !== e.MSPOINTER_TYPE_MOUSE\n    ) {\n      return true;\n    }\n    return false;\n  }\n\n  function touchStart(e) {\n    if (!shouldHandle(e)) {\n      return;\n    }\n\n    var touch = getTouch(e);\n\n    startOffset.pageX = touch.pageX;\n    startOffset.pageY = touch.pageY;\n\n    startTime = new Date().getTime();\n\n    if (easingLoop !== null) {\n      clearInterval(easingLoop);\n    }\n  }\n\n  function shouldBeConsumedByChild(target, deltaX, deltaY) {\n    if (!element.contains(target)) {\n      return false;\n    }\n\n    var cursor = target;\n\n    while (cursor && cursor !== element) {\n      if (cursor.classList.contains(cls.element.consuming)) {\n        return true;\n      }\n\n      var style = get(cursor);\n\n      // if deltaY && vertical scrollable\n      if (deltaY && style.overflowY.match(/(scroll|auto)/)) {\n        var maxScrollTop = cursor.scrollHeight - cursor.clientHeight;\n        if (maxScrollTop > 0) {\n          if (\n            (cursor.scrollTop > 0 && deltaY < 0) ||\n            (cursor.scrollTop < maxScrollTop && deltaY > 0)\n          ) {\n            return true;\n          }\n        }\n      }\n      // if deltaX && horizontal scrollable\n      if (deltaX && style.overflowX.match(/(scroll|auto)/)) {\n        var maxScrollLeft = cursor.scrollWidth - cursor.clientWidth;\n        if (maxScrollLeft > 0) {\n          if (\n            (cursor.scrollLeft > 0 && deltaX < 0) ||\n            (cursor.scrollLeft < maxScrollLeft && deltaX > 0)\n          ) {\n            return true;\n          }\n        }\n      }\n\n      cursor = cursor.parentNode;\n    }\n\n    return false;\n  }\n\n  function touchMove(e) {\n    if (shouldHandle(e)) {\n      var touch = getTouch(e);\n\n      var currentOffset = { pageX: touch.pageX, pageY: touch.pageY };\n\n      var differenceX = currentOffset.pageX - startOffset.pageX;\n      var differenceY = currentOffset.pageY - startOffset.pageY;\n\n      if (shouldBeConsumedByChild(e.target, differenceX, differenceY)) {\n        return;\n      }\n\n      applyTouchMove(differenceX, differenceY);\n      startOffset = currentOffset;\n\n      var currentTime = new Date().getTime();\n\n      var timeGap = currentTime - startTime;\n      if (timeGap > 0) {\n        speed.x = differenceX / timeGap;\n        speed.y = differenceY / timeGap;\n        startTime = currentTime;\n      }\n\n      if (shouldPrevent(differenceX, differenceY)) {\n        e.preventDefault();\n      }\n    }\n  }\n  function touchEnd() {\n    if (i.settings.swipeEasing) {\n      clearInterval(easingLoop);\n      easingLoop = setInterval(function() {\n        if (i.isInitialized) {\n          clearInterval(easingLoop);\n          return;\n        }\n\n        if (!speed.x && !speed.y) {\n          clearInterval(easingLoop);\n          return;\n        }\n\n        if (Math.abs(speed.x) < 0.01 && Math.abs(speed.y) < 0.01) {\n          clearInterval(easingLoop);\n          return;\n        }\n\n        applyTouchMove(speed.x * 30, speed.y * 30);\n\n        speed.x *= 0.8;\n        speed.y *= 0.8;\n      }, 10);\n    }\n  }\n\n  if (env.supportsTouch) {\n    i.event.bind(element, 'touchstart', touchStart);\n    i.event.bind(element, 'touchmove', touchMove);\n    i.event.bind(element, 'touchend', touchEnd);\n  } else if (env.supportsIePointer) {\n    if (window.PointerEvent) {\n      i.event.bind(element, 'pointerdown', touchStart);\n      i.event.bind(element, 'pointermove', touchMove);\n      i.event.bind(element, 'pointerup', touchEnd);\n    } else if (window.MSPointerEvent) {\n      i.event.bind(element, 'MSPointerDown', touchStart);\n      i.event.bind(element, 'MSPointerMove', touchMove);\n      i.event.bind(element, 'MSPointerUp', touchEnd);\n    }\n  }\n}\n\nvar defaultSettings = function () { return ({\n  handlers: ['click-rail', 'drag-thumb', 'keyboard', 'wheel', 'touch'],\n  maxScrollbarLength: null,\n  minScrollbarLength: null,\n  scrollingThreshold: 1000,\n  scrollXMarginOffset: 0,\n  scrollYMarginOffset: 0,\n  suppressScrollX: false,\n  suppressScrollY: false,\n  swipeEasing: true,\n  useBothWheelAxes: false,\n  wheelPropagation: true,\n  wheelSpeed: 1,\n}); };\n\nvar handlers = {\n  'click-rail': clickRail,\n  'drag-thumb': dragThumb,\n  keyboard: keyboard,\n  wheel: wheel,\n  touch: touch,\n};\n\nvar PerfectScrollbar = function PerfectScrollbar(element, userSettings) {\n  var this$1 = this;\n  if ( userSettings === void 0 ) userSettings = {};\n\n  if (typeof element === 'string') {\n    element = document.querySelector(element);\n  }\n\n  if (!element || !element.nodeName) {\n    throw new Error('no element is specified to initialize PerfectScrollbar');\n  }\n\n  this.element = element;\n\n  element.classList.add(cls.main);\n\n  this.settings = defaultSettings();\n  for (var key in userSettings) {\n    this.settings[key] = userSettings[key];\n  }\n\n  this.containerWidth = null;\n  this.containerHeight = null;\n  this.contentWidth = null;\n  this.contentHeight = null;\n\n  var focus = function () { return element.classList.add(cls.state.focus); };\n  var blur = function () { return element.classList.remove(cls.state.focus); };\n\n  this.isRtl = get(element).direction === 'rtl';\n  if (this.isRtl === true) {\n    element.classList.add(cls.rtl);\n  }\n  this.isNegativeScroll = (function () {\n    var originalScrollLeft = element.scrollLeft;\n    var result = null;\n    element.scrollLeft = -1;\n    result = element.scrollLeft < 0;\n    element.scrollLeft = originalScrollLeft;\n    return result;\n  })();\n  this.negativeScrollAdjustment = this.isNegativeScroll\n    ? element.scrollWidth - element.clientWidth\n    : 0;\n  this.event = new EventManager();\n  this.ownerDocument = element.ownerDocument || document;\n\n  this.scrollbarXRail = div(cls.element.rail('x'));\n  element.appendChild(this.scrollbarXRail);\n  this.scrollbarX = div(cls.element.thumb('x'));\n  this.scrollbarXRail.appendChild(this.scrollbarX);\n  this.scrollbarX.setAttribute('tabindex', 0);\n  this.event.bind(this.scrollbarX, 'focus', focus);\n  this.event.bind(this.scrollbarX, 'blur', blur);\n  this.scrollbarXActive = null;\n  this.scrollbarXWidth = null;\n  this.scrollbarXLeft = null;\n  var railXStyle = get(this.scrollbarXRail);\n  this.scrollbarXBottom = parseInt(railXStyle.bottom, 10);\n  if (isNaN(this.scrollbarXBottom)) {\n    this.isScrollbarXUsingBottom = false;\n    this.scrollbarXTop = toInt(railXStyle.top);\n  } else {\n    this.isScrollbarXUsingBottom = true;\n  }\n  this.railBorderXWidth =\n    toInt(railXStyle.borderLeftWidth) + toInt(railXStyle.borderRightWidth);\n  // Set rail to display:block to calculate margins\n  set(this.scrollbarXRail, { display: 'block' });\n  this.railXMarginWidth =\n    toInt(railXStyle.marginLeft) + toInt(railXStyle.marginRight);\n  set(this.scrollbarXRail, { display: '' });\n  this.railXWidth = null;\n  this.railXRatio = null;\n\n  this.scrollbarYRail = div(cls.element.rail('y'));\n  element.appendChild(this.scrollbarYRail);\n  this.scrollbarY = div(cls.element.thumb('y'));\n  this.scrollbarYRail.appendChild(this.scrollbarY);\n  this.scrollbarY.setAttribute('tabindex', 0);\n  this.event.bind(this.scrollbarY, 'focus', focus);\n  this.event.bind(this.scrollbarY, 'blur', blur);\n  this.scrollbarYActive = null;\n  this.scrollbarYHeight = null;\n  this.scrollbarYTop = null;\n  var railYStyle = get(this.scrollbarYRail);\n  this.scrollbarYRight = parseInt(railYStyle.right, 10);\n  if (isNaN(this.scrollbarYRight)) {\n    this.isScrollbarYUsingRight = false;\n    this.scrollbarYLeft = toInt(railYStyle.left);\n  } else {\n    this.isScrollbarYUsingRight = true;\n  }\n  this.scrollbarYOuterWidth = this.isRtl ? outerWidth(this.scrollbarY) : null;\n  this.railBorderYWidth =\n    toInt(railYStyle.borderTopWidth) + toInt(railYStyle.borderBottomWidth);\n  set(this.scrollbarYRail, { display: 'block' });\n  this.railYMarginHeight =\n    toInt(railYStyle.marginTop) + toInt(railYStyle.marginBottom);\n  set(this.scrollbarYRail, { display: '' });\n  this.railYHeight = null;\n  this.railYRatio = null;\n\n  this.reach = {\n    x:\n      element.scrollLeft <= 0\n        ? 'start'\n        : element.scrollLeft >= this.contentWidth - this.containerWidth\n        ? 'end'\n        : null,\n    y:\n      element.scrollTop <= 0\n        ? 'start'\n        : element.scrollTop >= this.contentHeight - this.containerHeight\n        ? 'end'\n        : null,\n  };\n\n  this.isAlive = true;\n\n  this.settings.handlers.forEach(function (handlerName) { return handlers[handlerName](this$1); });\n\n  this.lastScrollTop = Math.floor(element.scrollTop); // for onScroll only\n  this.lastScrollLeft = element.scrollLeft; // for onScroll only\n  this.event.bind(this.element, 'scroll', function (e) { return this$1.onScroll(e); });\n  updateGeometry(this);\n};\n\nPerfectScrollbar.prototype.update = function update () {\n  if (!this.isAlive) {\n    return;\n  }\n\n  // Recalcuate negative scrollLeft adjustment\n  this.negativeScrollAdjustment = this.isNegativeScroll\n    ? this.element.scrollWidth - this.element.clientWidth\n    : 0;\n\n  // Recalculate rail margins\n  set(this.scrollbarXRail, { display: 'block' });\n  set(this.scrollbarYRail, { display: 'block' });\n  this.railXMarginWidth =\n    toInt(get(this.scrollbarXRail).marginLeft) +\n    toInt(get(this.scrollbarXRail).marginRight);\n  this.railYMarginHeight =\n    toInt(get(this.scrollbarYRail).marginTop) +\n    toInt(get(this.scrollbarYRail).marginBottom);\n\n  // Hide scrollbars not to affect scrollWidth and scrollHeight\n  set(this.scrollbarXRail, { display: 'none' });\n  set(this.scrollbarYRail, { display: 'none' });\n\n  updateGeometry(this);\n\n  processScrollDiff(this, 'top', 0, false, true);\n  processScrollDiff(this, 'left', 0, false, true);\n\n  set(this.scrollbarXRail, { display: '' });\n  set(this.scrollbarYRail, { display: '' });\n};\n\nPerfectScrollbar.prototype.onScroll = function onScroll (e) {\n  if (!this.isAlive) {\n    return;\n  }\n\n  updateGeometry(this);\n  processScrollDiff(this, 'top', this.element.scrollTop - this.lastScrollTop);\n  processScrollDiff(\n    this,\n    'left',\n    this.element.scrollLeft - this.lastScrollLeft\n  );\n\n  this.lastScrollTop = Math.floor(this.element.scrollTop);\n  this.lastScrollLeft = this.element.scrollLeft;\n};\n\nPerfectScrollbar.prototype.destroy = function destroy () {\n  if (!this.isAlive) {\n    return;\n  }\n\n  this.event.unbindAll();\n  remove(this.scrollbarX);\n  remove(this.scrollbarY);\n  remove(this.scrollbarXRail);\n  remove(this.scrollbarYRail);\n  this.removePsClasses();\n\n  // unset elements\n  this.element = null;\n  this.scrollbarX = null;\n  this.scrollbarY = null;\n  this.scrollbarXRail = null;\n  this.scrollbarYRail = null;\n\n  this.isAlive = false;\n};\n\nPerfectScrollbar.prototype.removePsClasses = function removePsClasses () {\n  this.element.className = this.element.className\n    .split(' ')\n    .filter(function (name) { return !name.match(/^ps([-_].+|)$/); })\n    .join(' ');\n};\n\nexport default PerfectScrollbar;\n//# sourceMappingURL=perfect-scrollbar.esm.js.map\n","module.exports = __WEBPACK_EXTERNAL_MODULE__11__;","module.exports = __WEBPACK_EXTERNAL_MODULE__12__;","module.exports = __WEBPACK_EXTERNAL_MODULE__14__;","module.exports = __WEBPACK_EXTERNAL_MODULE__15__;","module.exports = __WEBPACK_EXTERNAL_MODULE__16__;","module.exports = __WEBPACK_EXTERNAL_MODULE__17__;","module.exports = __WEBPACK_EXTERNAL_MODULE__18__;","module.exports = __WEBPACK_EXTERNAL_MODULE__19__;","module.exports = __WEBPACK_EXTERNAL_MODULE__20__;","module.exports = __WEBPACK_EXTERNAL_MODULE__21__;","module.exports = __WEBPACK_EXTERNAL_MODULE__22__;","define([\n  'jquery',\n  'lodash',\n  'angular',\n  'tether-drop',\n],\nfunction ($, _, angular, Drop) {\n  'use strict';\n\n  function createAnnotationToolip(element, event, plot) {\n    var injector = angular.element(document).injector();\n    var content = document.createElement('div');\n    content.innerHTML = '<annotation-tooltip event=\"event\" on-edit=\"onEdit()\"></annotation-tooltip>';\n\n    injector.invoke([\"$compile\", \"$rootScope\", function($compile, $rootScope) {\n      var eventManager = plot.getOptions().events.manager;\n      var tmpScope = $rootScope.$new(true);\n      tmpScope.event = event;\n      tmpScope.onEdit = function() {\n        eventManager.editEvent(event);\n      };\n\n      $compile(content)(tmpScope);\n      tmpScope.$digest();\n      tmpScope.$destroy();\n\n      var drop = new Drop({\n        target: element[0],\n        content: content,\n        position: \"bottom center\",\n        classes: 'drop-popover drop-popover--annotation',\n        openOn: 'hover',\n        hoverCloseDelay: 200,\n        tetherOptions: {\n          constraints: [{to: 'window', pin: true, attachment: \"both\"}]\n        }\n      });\n\n      drop.open();\n\n      drop.on('close', function() {\n        setTimeout(function() {\n          drop.destroy();\n        });\n      });\n    }]);\n  }\n\n  var markerElementToAttachTo = null;\n\n  function createEditPopover(element, event, plot) {\n    var eventManager = plot.getOptions().events.manager;\n    if (eventManager.editorOpen) {\n      // update marker element to attach to (needed in case of legend on the right\n      // when there is a double render pass and the inital marker element is removed)\n      markerElementToAttachTo = element;\n      return;\n    }\n\n    // mark as openend\n    eventManager.editorOpened();\n    // set marker elment to attache to\n    markerElementToAttachTo = element;\n\n    // wait for element to be attached and positioned\n    setTimeout(function() {\n\n      var injector = angular.element(document).injector();\n      var content = document.createElement('div');\n      content.innerHTML = '<event-editor panel-ctrl=\"panelCtrl\" event=\"event\" close=\"close()\"></event-editor>';\n\n      injector.invoke([\"$compile\", \"$rootScope\", function($compile, $rootScope) {\n        var scope = $rootScope.$new(true);\n        var drop;\n\n        scope.event = event;\n        scope.panelCtrl = eventManager.panelCtrl;\n        scope.close = function() {\n          drop.close();\n        };\n\n        $compile(content)(scope);\n        scope.$digest();\n\n        drop = new Drop({\n          target: markerElementToAttachTo[0],\n          content: content,\n          position: \"bottom center\",\n          classes: 'drop-popover drop-popover--form',\n          openOn: 'click',\n          tetherOptions: {\n            constraints: [{to: 'window', pin: true, attachment: \"both\"}]\n          }\n        });\n\n        drop.open();\n        eventManager.editorOpened();\n\n        drop.on('close', function() {\n          // need timeout here in order call drop.destroy\n          setTimeout(function() {\n            eventManager.editorClosed();\n            scope.$destroy();\n            drop.destroy();\n          });\n        });\n      }]);\n\n    }, 100);\n  }\n\n  /*\n   * jquery.flot.events\n   *\n   * description: Flot plugin for adding events/markers to the plot\n   * version: 0.2.5\n   * authors:\n   *    Alexander Wunschik <alex@wunschik.net>\n   *    Joel Oughton <joeloughton@gmail.com>\n   *    Nicolas Joseph <www.nicolasjoseph.com>\n   *\n   * website: https://github.com/mojoaxel/flot-events\n   *\n   * released under MIT License and GPLv2+\n   */\n\n  /**\n   * A class that allows for the drawing an remove of some object\n   */\n  var DrawableEvent = function(object, drawFunc, clearFunc, moveFunc, left, top, width, height) {\n    var _object = object;\n    var\t_drawFunc = drawFunc;\n    var\t_clearFunc = clearFunc;\n    var\t_moveFunc = moveFunc;\n    var\t_position = { left: left, top: top };\n    var\t_width = width;\n    var\t_height = height;\n\n    this.width = function() { return _width; };\n    this.height = function() { return _height; };\n    this.position = function() { return _position; };\n    this.draw = function() { _drawFunc(_object); };\n    this.clear = function() { _clearFunc(_object); };\n    this.getObject = function() { return _object; };\n    this.moveTo = function(position) {\n      _position = position;\n      _moveFunc(_object, _position);\n    };\n  };\n\n  /**\n   * Event class that stores options (eventType, min, max, title, description) and the object to draw.\n   */\n  var VisualEvent = function(options, drawableEvent) {\n    var _parent;\n    var _options = options;\n    var _drawableEvent = drawableEvent;\n    var _hidden = false;\n\n    this.visual = function() { return _drawableEvent; };\n    this.getOptions = function() { return _options; };\n    this.getParent = function() { return _parent; };\n    this.isHidden = function() { return _hidden; };\n    this.hide = function() { _hidden = true; };\n    this.unhide = function() { _hidden = false; };\n  };\n\n  /**\n   * A Class that handles the event-markers inside the given plot\n   */\n  var EventMarkers = function(plot) {\n    var _events = [];\n\n    this._types = [];\n    this._plot = plot;\n    this.eventsEnabled = false;\n\n    this.getEvents = function() {\n      return _events;\n    };\n\n    this.setTypes = function(types) {\n      return this._types = types;\n    };\n\n    /**\n     * create internal objects for the given events\n     */\n    this.setupEvents = function(events) {\n      var that = this;\n      var parts = _.partition(events, 'isRegion');\n      var regions = parts[0];\n      events = parts[1];\n\n      $.each(events, function(index, event) {\n        var ve = new VisualEvent(event, that._buildDiv(event));\n        _events.push(ve);\n      });\n\n      $.each(regions, function (index, event) {\n        var vre = new VisualEvent(event, that._buildRegDiv(event));\n        _events.push(vre);\n      });\n\n      _events.sort(function(a, b) {\n        var ao = a.getOptions(), bo = b.getOptions();\n        if (ao.min > bo.min) { return 1; }\n        if (ao.min < bo.min) { return -1; }\n        return 0;\n      });\n    };\n\n    /**\n     * draw the events to the plot\n     */\n    this.drawEvents = function() {\n      var that = this;\n      // var o = this._plot.getPlotOffset();\n\n      $.each(_events, function(index, event) {\n        // check event is inside the graph range\n        if (that._insidePlot(event.getOptions().min) && !event.isHidden()) {\n          event.visual().draw();\n        }  else {\n          event.visual().getObject().hide();\n        }\n      });\n    };\n\n    /**\n     * update the position of the event-markers (e.g. after scrolling or zooming)\n     */\n    this.updateEvents = function() {\n      var that = this;\n      var o = this._plot.getPlotOffset(), left, top;\n      var xaxis = this._plot.getXAxes()[this._plot.getOptions().events.xaxis - 1];\n\n      $.each(_events, function(index, event) {\n        top = o.top + that._plot.height() - event.visual().height();\n        left = xaxis.p2c(event.getOptions().min) + o.left - event.visual().width() / 2;\n        event.visual().moveTo({ top: top, left: left });\n      });\n    };\n\n    /**\n     * remove all events from the plot\n     */\n    this._clearEvents = function() {\n      $.each(_events, function(index, val) {\n        val.visual().clear();\n      });\n      _events = [];\n    };\n\n    /**\n     * create a DOM element for the given event\n     */\n    this._buildDiv = function(event) {\n      var that = this;\n\n      var container = this._plot.getPlaceholder();\n      var o = this._plot.getPlotOffset();\n      var axes = this._plot.getAxes();\n      var xaxis = this._plot.getXAxes()[this._plot.getOptions().events.xaxis - 1];\n      var yaxis, top, left, color, markerSize, markerShow, lineStyle, lineWidth;\n      var markerTooltip;\n\n      // determine the y axis used\n      if (axes.yaxis && axes.yaxis.used) { yaxis = axes.yaxis; }\n      if (axes.yaxis2 && axes.yaxis2.used) { yaxis = axes.yaxis2; }\n\n      // map the eventType to a types object\n      var eventTypeId = event.eventType;\n\n      if (this._types === null || !this._types[eventTypeId] || !this._types[eventTypeId].color) {\n        color = '#666';\n      } else {\n        color = this._types[eventTypeId].color;\n      }\n\n      if (this._types === null || !this._types[eventTypeId] || !this._types[eventTypeId].markerSize) {\n        markerSize = 8; //default marker size\n      } else {\n        markerSize = this._types[eventTypeId].markerSize;\n      }\n\n      if (this._types === null || !this._types[eventTypeId] || this._types[eventTypeId].markerShow === undefined) {\n        markerShow = true;\n      } else {\n        markerShow = this._types[eventTypeId].markerShow;\n      }\n\n      if (this._types === null || !this._types[eventTypeId] || this._types[eventTypeId].markerTooltip === undefined) {\n        markerTooltip = true;\n      } else {\n        markerTooltip = this._types[eventTypeId].markerTooltip;\n      }\n\n      if (this._types == null || !this._types[eventTypeId] || !this._types[eventTypeId].lineStyle) {\n        lineStyle = 'dashed'; //default line style\n      } else {\n        lineStyle = this._types[eventTypeId].lineStyle.toLowerCase();\n      }\n\n      if (this._types == null || !this._types[eventTypeId] || this._types[eventTypeId].lineWidth === undefined) {\n        lineWidth = 1; //default line width\n      } else {\n        lineWidth = this._types[eventTypeId].lineWidth;\n      }\n\n      var topOffset = xaxis.options.eventSectionHeight || 0;\n      topOffset = topOffset / 3;\n\n      top = o.top + this._plot.height() + topOffset;\n      left = xaxis.p2c(event.min) + o.left;\n\n      var line = $('<div class=\"events_line flot-temp-elem\"></div>').css({\n        \"position\": \"absolute\",\n        \"opacity\": 0.8,\n        \"left\": left + 'px',\n        \"top\": 8,\n        \"width\": lineWidth + \"px\",\n        \"height\": this._plot.height() + topOffset * 0.8,\n        \"border-left-width\": lineWidth + \"px\",\n        \"border-left-style\": lineStyle,\n        \"border-left-color\": color,\n        \"color\": color\n      })\n      .appendTo(container);\n\n      if (markerShow) {\n        var marker = $('<div class=\"events_marker\"></div>').css({\n          \"position\": \"absolute\",\n          \"left\": (-markerSize - Math.round(lineWidth / 2)) + \"px\",\n          \"font-size\": 0,\n          \"line-height\": 0,\n          \"width\": 0,\n          \"height\": 0,\n          \"border-left\": markerSize+\"px solid transparent\",\n          \"border-right\": markerSize+\"px solid transparent\"\n        });\n\n        marker.appendTo(line);\n\n        if (this._types[eventTypeId] && this._types[eventTypeId].position && this._types[eventTypeId].position.toUpperCase() === 'BOTTOM') {\n          marker.css({\n            \"top\": top-markerSize-8 +\"px\",\n            \"border-top\": \"none\",\n            \"border-bottom\": markerSize+\"px solid \" + color\n          });\n        } else {\n          marker.css({\n            \"top\": \"0px\",\n            \"border-top\": markerSize+\"px solid \" + color,\n            \"border-bottom\": \"none\"\n          });\n        }\n\n        marker.data({\n          \"event\": event\n        });\n\n        var mouseenter = function() {\n          createAnnotationToolip(marker, $(this).data(\"event\"), that._plot);\n        };\n\n        if (event.editModel) {\n          createEditPopover(marker, event.editModel, that._plot);\n        }\n\n        var mouseleave = function() {\n          that._plot.clearSelection();\n        };\n\n        if (markerTooltip) {\n          marker.css({ \"cursor\": \"help\" });\n          marker.hover(mouseenter, mouseleave);\n        }\n      }\n\n      var drawableEvent = new DrawableEvent(\n        line,\n        function drawFunc(obj) { obj.show(); },\n        function(obj) { obj.remove(); },\n        function(obj, position) {\n          obj.css({\n            top: position.top,\n            left: position.left\n          });\n        },\n        left,\n        top,\n        line.width(),\n        line.height()\n      );\n\n      return drawableEvent;\n    };\n\n    /**\n     * create a DOM element for the given region\n     */\n    this._buildRegDiv = function (event) {\n      var that = this;\n\n      var container = this._plot.getPlaceholder();\n      var o = this._plot.getPlotOffset();\n      var axes = this._plot.getAxes();\n      var xaxis = this._plot.getXAxes()[this._plot.getOptions().events.xaxis - 1];\n      var yaxis, top, left, lineWidth, regionWidth, lineStyle, color, markerTooltip;\n\n      // determine the y axis used\n      if (axes.yaxis && axes.yaxis.used) { yaxis = axes.yaxis; }\n      if (axes.yaxis2 && axes.yaxis2.used) { yaxis = axes.yaxis2; }\n\n      // map the eventType to a types object\n      var eventTypeId = event.eventType;\n\n      if (this._types === null || !this._types[eventTypeId] || !this._types[eventTypeId].color) {\n        color = '#666';\n      } else {\n        color = this._types[eventTypeId].color;\n      }\n\n      if (this._types === null || !this._types[eventTypeId] || this._types[eventTypeId].markerTooltip === undefined) {\n        markerTooltip = true;\n      } else {\n        markerTooltip = this._types[eventTypeId].markerTooltip;\n      }\n\n      if (this._types == null || !this._types[eventTypeId] || this._types[eventTypeId].lineWidth === undefined) {\n        lineWidth = 1; //default line width\n      } else {\n        lineWidth = this._types[eventTypeId].lineWidth;\n      }\n\n      if (this._types == null || !this._types[eventTypeId] || !this._types[eventTypeId].lineStyle) {\n        lineStyle = 'dashed'; //default line style\n      } else {\n        lineStyle = this._types[eventTypeId].lineStyle.toLowerCase();\n      }\n\n      var topOffset = 2;\n      top = o.top + this._plot.height() + topOffset;\n\n      var timeFrom = Math.min(event.min, event.timeEnd);\n      var timeTo = Math.max(event.min, event.timeEnd);\n      left = xaxis.p2c(timeFrom) + o.left;\n      var right = xaxis.p2c(timeTo) + o.left;\n      regionWidth = right - left;\n\n      _.each([left, right], function(position) {\n        var line = $('<div class=\"events_line flot-temp-elem\"></div>').css({\n          \"position\": \"absolute\",\n          \"opacity\": 0.8,\n          \"left\": position + 'px',\n          \"top\": 8,\n          \"width\": lineWidth + \"px\",\n          \"height\": that._plot.height() + topOffset,\n          \"border-left-width\": lineWidth + \"px\",\n          \"border-left-style\": lineStyle,\n          \"border-left-color\": color,\n          \"color\": color\n        });\n        line.appendTo(container);\n      });\n\n      var region = $('<div class=\"events_marker region_marker flot-temp-elem\"></div>').css({\n        \"position\": \"absolute\",\n        \"opacity\": 0.5,\n        \"left\": left + 'px',\n        \"top\": top,\n        \"width\": Math.round(regionWidth + lineWidth) + \"px\",\n        \"height\": \"0.5rem\",\n        \"border-left-color\": color,\n        \"color\": color,\n        \"background-color\": color\n      });\n      region.appendTo(container);\n\n      region.data({\n        \"event\": event\n      });\n\n      var mouseenter = function () {\n        createAnnotationToolip(region, $(this).data(\"event\"), that._plot);\n      };\n\n      if (event.editModel) {\n        createEditPopover(region, event.editModel, that._plot);\n      }\n\n      var mouseleave = function () {\n        that._plot.clearSelection();\n      };\n\n      if (markerTooltip) {\n        region.css({ \"cursor\": \"help\" });\n        region.hover(mouseenter, mouseleave);\n      }\n\n      var drawableEvent = new DrawableEvent(\n        region,\n        function drawFunc(obj) { obj.show(); },\n        function (obj) { obj.remove(); },\n        function (obj, position) {\n          obj.css({\n            top: position.top,\n            left: position.left\n          });\n        },\n        left,\n        top,\n        region.width(),\n        region.height()\n      );\n\n      return drawableEvent;\n    };\n\n    /**\n     * check if the event is inside visible range\n     */\n    this._insidePlot = function(x) {\n      var xaxis = this._plot.getXAxes()[this._plot.getOptions().events.xaxis - 1];\n      var xc = xaxis.p2c(x);\n      return xc > 0 && xc < xaxis.p2c(xaxis.max);\n    };\n  };\n\n  /**\n   * initialize the plugin for the given plot\n   */\n  function init(plot) {\n    /*jshint validthis:true */\n    var that = this;\n    var eventMarkers = new EventMarkers(plot);\n\n    plot.getEvents = function() {\n      return eventMarkers._events;\n    };\n\n    plot.hideEvents = function() {\n      $.each(eventMarkers._events, function(index, event) {\n        event.visual().getObject().hide();\n      });\n    };\n\n    plot.showEvents = function() {\n      plot.hideEvents();\n      $.each(eventMarkers._events, function(index, event) {\n        event.hide();\n      });\n\n      that.eventMarkers.drawEvents();\n    };\n\n    // change events on an existing plot\n    plot.setEvents = function(events) {\n      if (eventMarkers.eventsEnabled) {\n        eventMarkers.setupEvents(events);\n      }\n    };\n\n    plot.hooks.processOptions.push(function(plot, options) {\n      // enable the plugin\n      if (options.events.data != null) {\n        eventMarkers.eventsEnabled = true;\n      }\n    });\n\n    plot.hooks.draw.push(function(plot) {\n      var options = plot.getOptions();\n\n      if (eventMarkers.eventsEnabled) {\n        // check for first run\n        if (eventMarkers.getEvents().length < 1) {\n          eventMarkers.setTypes(options.events.types);\n          eventMarkers.setupEvents(options.events.data);\n        } else {\n          eventMarkers.updateEvents();\n        }\n      }\n\n      eventMarkers.drawEvents();\n    });\n  }\n\n  var defaultOptions = {\n    events: {\n      data: null,\n      types: null,\n      xaxis: 1,\n      position: 'BOTTOM'\n    }\n  };\n\n  $.plot.plugins.push({\n    init: init,\n    options: defaultOptions,\n    name: \"events\",\n    version: \"0.2.5\"\n  });\n});\n","/*! tether-drop 1.4.1 */\n\n(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([\"tether\"], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory(require('tether'));\n  } else {\n    root.Drop = factory(root.Tether);\n  }\n}(this, function(Tether) {\n\n/* global Tether */\n'use strict';\n\nvar _bind = Function.prototype.bind;\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x2, _x3, _x4) { var _again = true; _function: while (_again) { var object = _x2, property = _x3, receiver = _x4; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x2 = parent; _x3 = property; _x4 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _Tether$Utils = Tether.Utils;\nvar extend = _Tether$Utils.extend;\nvar addClass = _Tether$Utils.addClass;\nvar removeClass = _Tether$Utils.removeClass;\nvar hasClass = _Tether$Utils.hasClass;\nvar Evented = _Tether$Utils.Evented;\n\nfunction sortAttach(str) {\n  var _str$split = str.split(' ');\n\n  var _str$split2 = _slicedToArray(_str$split, 2);\n\n  var first = _str$split2[0];\n  var second = _str$split2[1];\n\n  if (['left', 'right'].indexOf(first) >= 0) {\n    var _ref = [second, first];\n    first = _ref[0];\n    second = _ref[1];\n  }\n  return [first, second].join(' ');\n}\n\nfunction removeFromArray(arr, item) {\n  var index = undefined;\n  var results = [];\n  while ((index = arr.indexOf(item)) !== -1) {\n    results.push(arr.splice(index, 1));\n  }\n  return results;\n}\n\nvar clickEvents = ['click'];\nif ('ontouchstart' in document.documentElement) {\n  clickEvents.push('touchstart');\n}\n\nvar transitionEndEvents = {\n  'WebkitTransition': 'webkitTransitionEnd',\n  'MozTransition': 'transitionend',\n  'OTransition': 'otransitionend',\n  'transition': 'transitionend'\n};\n\nvar transitionEndEvent = '';\nfor (var _name in transitionEndEvents) {\n  if (({}).hasOwnProperty.call(transitionEndEvents, _name)) {\n    var tempEl = document.createElement('p');\n    if (typeof tempEl.style[_name] !== 'undefined') {\n      transitionEndEvent = transitionEndEvents[_name];\n    }\n  }\n}\n\nvar MIRROR_ATTACH = {\n  left: 'right',\n  right: 'left',\n  top: 'bottom',\n  bottom: 'top',\n  middle: 'middle',\n  center: 'center'\n};\n\nvar allDrops = {};\n\n// Drop can be included in external libraries.  Calling createContext gives you a fresh\n// copy of drop which won't interact with other copies on the page (beyond calling the document events).\n\nfunction createContext() {\n  var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n  var drop = function drop() {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return new (_bind.apply(DropInstance, [null].concat(args)))();\n  };\n\n  extend(drop, {\n    createContext: createContext,\n    drops: [],\n    defaults: {}\n  });\n\n  var defaultOptions = {\n    classPrefix: 'drop',\n    defaults: {\n      position: 'bottom left',\n      openOn: 'click',\n      beforeClose: null,\n      constrainToScrollParent: true,\n      constrainToWindow: true,\n      classes: '',\n      remove: false,\n      openDelay: 0,\n      closeDelay: 50,\n      // inherited from openDelay and closeDelay if not explicitly defined\n      focusDelay: null,\n      blurDelay: null,\n      hoverOpenDelay: null,\n      hoverCloseDelay: null,\n      tetherOptions: {}\n    }\n  };\n\n  extend(drop, defaultOptions, options);\n  extend(drop.defaults, defaultOptions.defaults, options.defaults);\n\n  if (typeof allDrops[drop.classPrefix] === 'undefined') {\n    allDrops[drop.classPrefix] = [];\n  }\n\n  drop.updateBodyClasses = function () {\n    // There is only one body, so despite the context concept, we still iterate through all\n    // drops which share our classPrefix.\n\n    var anyOpen = false;\n    var drops = allDrops[drop.classPrefix];\n    var len = drops.length;\n    for (var i = 0; i < len; ++i) {\n      if (drops[i].isOpened()) {\n        anyOpen = true;\n        break;\n      }\n    }\n\n    if (anyOpen) {\n      addClass(document.body, drop.classPrefix + '-open');\n    } else {\n      removeClass(document.body, drop.classPrefix + '-open');\n    }\n  };\n\n  var DropInstance = (function (_Evented) {\n    _inherits(DropInstance, _Evented);\n\n    function DropInstance(opts) {\n      _classCallCheck(this, DropInstance);\n\n      _get(Object.getPrototypeOf(DropInstance.prototype), 'constructor', this).call(this);\n      this.options = extend({}, drop.defaults, opts);\n      this.target = this.options.target;\n\n      if (typeof this.target === 'undefined') {\n        throw new Error('Drop Error: You must provide a target.');\n      }\n\n      var dataPrefix = 'data-' + drop.classPrefix;\n\n      var contentAttr = this.target.getAttribute(dataPrefix);\n      if (contentAttr && this.options.content == null) {\n        this.options.content = contentAttr;\n      }\n\n      var attrsOverride = ['position', 'openOn'];\n      for (var i = 0; i < attrsOverride.length; ++i) {\n\n        var override = this.target.getAttribute(dataPrefix + '-' + attrsOverride[i]);\n        if (override && this.options[attrsOverride[i]] == null) {\n          this.options[attrsOverride[i]] = override;\n        }\n      }\n\n      if (this.options.classes && this.options.addTargetClasses !== false) {\n        addClass(this.target, this.options.classes);\n      }\n\n      drop.drops.push(this);\n      allDrops[drop.classPrefix].push(this);\n\n      this._boundEvents = [];\n      this.bindMethods();\n      this.setupElements();\n      this.setupEvents();\n      this.setupTether();\n    }\n\n    _createClass(DropInstance, [{\n      key: '_on',\n      value: function _on(element, event, handler) {\n        this._boundEvents.push({ element: element, event: event, handler: handler });\n        element.addEventListener(event, handler);\n      }\n    }, {\n      key: 'bindMethods',\n      value: function bindMethods() {\n        this.transitionEndHandler = this._transitionEndHandler.bind(this);\n      }\n    }, {\n      key: 'setupElements',\n      value: function setupElements() {\n        var _this = this;\n\n        this.drop = document.createElement('div');\n        addClass(this.drop, drop.classPrefix);\n\n        if (this.options.classes) {\n          addClass(this.drop, this.options.classes);\n        }\n\n        this.content = document.createElement('div');\n        addClass(this.content, drop.classPrefix + '-content');\n\n        if (typeof this.options.content === 'function') {\n          var generateAndSetContent = function generateAndSetContent() {\n            // content function might return a string or an element\n            var contentElementOrHTML = _this.options.content.call(_this, _this);\n\n            if (typeof contentElementOrHTML === 'string') {\n              _this.content.innerHTML = contentElementOrHTML;\n            } else if (typeof contentElementOrHTML === 'object') {\n              _this.content.innerHTML = '';\n              _this.content.appendChild(contentElementOrHTML);\n            } else {\n              throw new Error('Drop Error: Content function should return a string or HTMLElement.');\n            }\n          };\n\n          generateAndSetContent();\n          this.on('open', generateAndSetContent.bind(this));\n        } else if (typeof this.options.content === 'object') {\n          this.content.appendChild(this.options.content);\n        } else {\n          this.content.innerHTML = this.options.content;\n        }\n\n        this.drop.appendChild(this.content);\n      }\n    }, {\n      key: 'setupTether',\n      value: function setupTether() {\n        // Tether expects two attachment points, one in the target element, one in the\n        // drop.  We use a single one, and use the order as well, to allow us to put\n        // the drop on either side of any of the four corners.  This magic converts between\n        // the two:\n        var dropAttach = this.options.position.split(' ');\n        dropAttach[0] = MIRROR_ATTACH[dropAttach[0]];\n        dropAttach = dropAttach.join(' ');\n\n        var constraints = [];\n        if (this.options.constrainToScrollParent) {\n          constraints.push({\n            to: 'scrollParent',\n            pin: 'top, bottom',\n            attachment: 'together none'\n          });\n        } else {\n          // To get 'out of bounds' classes\n          constraints.push({\n            to: 'scrollParent'\n          });\n        }\n\n        if (this.options.constrainToWindow !== false) {\n          constraints.push({\n            to: 'window',\n            attachment: 'together'\n          });\n        } else {\n          // To get 'out of bounds' classes\n          constraints.push({\n            to: 'window'\n          });\n        }\n\n        var opts = {\n          element: this.drop,\n          target: this.target,\n          attachment: sortAttach(dropAttach),\n          targetAttachment: sortAttach(this.options.position),\n          classPrefix: drop.classPrefix,\n          offset: '0 0',\n          targetOffset: '0 0',\n          enabled: false,\n          constraints: constraints,\n          addTargetClasses: this.options.addTargetClasses\n        };\n\n        if (this.options.tetherOptions !== false) {\n          this.tether = new Tether(extend({}, opts, this.options.tetherOptions));\n        }\n      }\n    }, {\n      key: 'setupEvents',\n      value: function setupEvents() {\n        var _this2 = this;\n\n        if (!this.options.openOn) {\n          return;\n        }\n\n        if (this.options.openOn === 'always') {\n          setTimeout(this.open.bind(this));\n          return;\n        }\n\n        var events = this.options.openOn.split(' ');\n\n        if (events.indexOf('click') >= 0) {\n          var openHandler = function openHandler(event) {\n            _this2.toggle(event);\n            event.preventDefault();\n          };\n\n          var closeHandler = function closeHandler(event) {\n            if (!_this2.isOpened()) {\n              return;\n            }\n\n            // Clicking inside dropdown\n            if (event.target === _this2.drop || _this2.drop.contains(event.target)) {\n              return;\n            }\n\n            // Clicking target\n            if (event.target === _this2.target || _this2.target.contains(event.target)) {\n              return;\n            }\n\n            _this2.close(event);\n          };\n\n          for (var i = 0; i < clickEvents.length; ++i) {\n            var clickEvent = clickEvents[i];\n            this._on(this.target, clickEvent, openHandler);\n            this._on(document, clickEvent, closeHandler);\n          }\n        }\n\n        var inTimeout = null;\n        var outTimeout = null;\n\n        var inHandler = function inHandler(event) {\n          if (outTimeout !== null) {\n            clearTimeout(outTimeout);\n          } else {\n            inTimeout = setTimeout(function () {\n              _this2.open(event);\n              inTimeout = null;\n            }, (event.type === 'focus' ? _this2.options.focusDelay : _this2.options.hoverOpenDelay) || _this2.options.openDelay);\n          }\n        };\n\n        var outHandler = function outHandler(event) {\n          if (inTimeout !== null) {\n            clearTimeout(inTimeout);\n          } else {\n            outTimeout = setTimeout(function () {\n              _this2.close(event);\n              outTimeout = null;\n            }, (event.type === 'blur' ? _this2.options.blurDelay : _this2.options.hoverCloseDelay) || _this2.options.closeDelay);\n          }\n        };\n\n        if (events.indexOf('hover') >= 0) {\n          this._on(this.target, 'mouseover', inHandler);\n          this._on(this.drop, 'mouseover', inHandler);\n          this._on(this.target, 'mouseout', outHandler);\n          this._on(this.drop, 'mouseout', outHandler);\n        }\n\n        if (events.indexOf('focus') >= 0) {\n          this._on(this.target, 'focus', inHandler);\n          this._on(this.drop, 'focus', inHandler);\n          this._on(this.target, 'blur', outHandler);\n          this._on(this.drop, 'blur', outHandler);\n        }\n      }\n    }, {\n      key: 'isOpened',\n      value: function isOpened() {\n        if (this.drop) {\n          return hasClass(this.drop, drop.classPrefix + '-open');\n        }\n      }\n    }, {\n      key: 'toggle',\n      value: function toggle(event) {\n        if (this.isOpened()) {\n          this.close(event);\n        } else {\n          this.open(event);\n        }\n      }\n    }, {\n      key: 'open',\n      value: function open(event) {\n        var _this3 = this;\n\n        /* eslint no-unused-vars: 0 */\n        if (this.isOpened()) {\n          return;\n        }\n\n        if (!this.drop.parentNode) {\n          document.body.appendChild(this.drop);\n        }\n\n        if (typeof this.tether !== 'undefined') {\n          this.tether.enable();\n        }\n\n        addClass(this.drop, drop.classPrefix + '-open');\n        addClass(this.drop, drop.classPrefix + '-open-transitionend');\n\n        setTimeout(function () {\n          if (_this3.drop) {\n            addClass(_this3.drop, drop.classPrefix + '-after-open');\n          }\n        });\n\n        if (typeof this.tether !== 'undefined') {\n          this.tether.position();\n        }\n\n        this.trigger('open');\n\n        drop.updateBodyClasses();\n      }\n    }, {\n      key: '_transitionEndHandler',\n      value: function _transitionEndHandler(e) {\n        if (e.target !== e.currentTarget) {\n          return;\n        }\n\n        if (!hasClass(this.drop, drop.classPrefix + '-open')) {\n          removeClass(this.drop, drop.classPrefix + '-open-transitionend');\n        }\n        this.drop.removeEventListener(transitionEndEvent, this.transitionEndHandler);\n      }\n    }, {\n      key: 'beforeCloseHandler',\n      value: function beforeCloseHandler(event) {\n        var shouldClose = true;\n\n        if (!this.isClosing && typeof this.options.beforeClose === 'function') {\n          this.isClosing = true;\n          shouldClose = this.options.beforeClose(event, this) !== false;\n        }\n\n        this.isClosing = false;\n\n        return shouldClose;\n      }\n    }, {\n      key: 'close',\n      value: function close(event) {\n        if (!this.isOpened()) {\n          return;\n        }\n\n        if (!this.beforeCloseHandler(event)) {\n          return;\n        }\n\n        removeClass(this.drop, drop.classPrefix + '-open');\n        removeClass(this.drop, drop.classPrefix + '-after-open');\n\n        this.drop.addEventListener(transitionEndEvent, this.transitionEndHandler);\n\n        this.trigger('close');\n\n        if (typeof this.tether !== 'undefined') {\n          this.tether.disable();\n        }\n\n        drop.updateBodyClasses();\n\n        if (this.options.remove) {\n          this.remove(event);\n        }\n      }\n    }, {\n      key: 'remove',\n      value: function remove(event) {\n        this.close(event);\n        if (this.drop.parentNode) {\n          this.drop.parentNode.removeChild(this.drop);\n        }\n      }\n    }, {\n      key: 'position',\n      value: function position() {\n        if (this.isOpened() && typeof this.tether !== 'undefined') {\n          this.tether.position();\n        }\n      }\n    }, {\n      key: 'destroy',\n      value: function destroy() {\n        this.remove();\n\n        if (typeof this.tether !== 'undefined') {\n          this.tether.destroy();\n        }\n\n        for (var i = 0; i < this._boundEvents.length; ++i) {\n          var _boundEvents$i = this._boundEvents[i];\n          var element = _boundEvents$i.element;\n          var _event = _boundEvents$i.event;\n          var handler = _boundEvents$i.handler;\n\n          element.removeEventListener(_event, handler);\n        }\n\n        this._boundEvents = [];\n\n        this.tether = null;\n        this.drop = null;\n        this.content = null;\n        this.target = null;\n\n        removeFromArray(allDrops[drop.classPrefix], this);\n        removeFromArray(drop.drops, this);\n      }\n    }]);\n\n    return DropInstance;\n  })(Evented);\n\n  return drop;\n}\n\nvar Drop = createContext();\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  Drop.updateBodyClasses();\n});\nreturn Drop;\n\n}));\n","/*! tether 1.4.7 */\n\n(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.Tether = factory();\n  }\n}(this, function() {\n\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar TetherBase = undefined;\nif (typeof TetherBase === 'undefined') {\n  TetherBase = { modules: [] };\n}\n\nvar zeroElement = null;\n\n// Same as native getBoundingClientRect, except it takes into account parent <frame> offsets\n// if the element lies within a nested document (<frame> or <iframe>-like).\nfunction getActualBoundingClientRect(node) {\n  var boundingRect = node.getBoundingClientRect();\n\n  // The original object returned by getBoundingClientRect is immutable, so we clone it\n  // We can't use extend because the properties are not considered part of the object by hasOwnProperty in IE9\n  var rect = {};\n  for (var k in boundingRect) {\n    rect[k] = boundingRect[k];\n  }\n\n  try {\n    if (node.ownerDocument !== document) {\n      var _frameElement = node.ownerDocument.defaultView.frameElement;\n      if (_frameElement) {\n        var frameRect = getActualBoundingClientRect(_frameElement);\n        rect.top += frameRect.top;\n        rect.bottom += frameRect.top;\n        rect.left += frameRect.left;\n        rect.right += frameRect.left;\n      }\n    }\n  } catch (err) {\n    // Ignore \"Access is denied\" in IE11/Edge\n  }\n\n  return rect;\n}\n\nfunction getScrollParents(el) {\n  // In firefox if the el is inside an iframe with display: none; window.getComputedStyle() will return null;\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n  var computedStyle = getComputedStyle(el) || {};\n  var position = computedStyle.position;\n  var parents = [];\n\n  if (position === 'fixed') {\n    return [el];\n  }\n\n  var parent = el;\n  while ((parent = parent.parentNode) && parent && parent.nodeType === 1) {\n    var style = undefined;\n    try {\n      style = getComputedStyle(parent);\n    } catch (err) {}\n\n    if (typeof style === 'undefined' || style === null) {\n      parents.push(parent);\n      return parents;\n    }\n\n    var _style = style;\n    var overflow = _style.overflow;\n    var overflowX = _style.overflowX;\n    var overflowY = _style.overflowY;\n\n    if (/(auto|scroll|overlay)/.test(overflow + overflowY + overflowX)) {\n      if (position !== 'absolute' || ['relative', 'absolute', 'fixed'].indexOf(style.position) >= 0) {\n        parents.push(parent);\n      }\n    }\n  }\n\n  parents.push(el.ownerDocument.body);\n\n  // If the node is within a frame, account for the parent window scroll\n  if (el.ownerDocument !== document) {\n    parents.push(el.ownerDocument.defaultView);\n  }\n\n  return parents;\n}\n\nvar uniqueId = (function () {\n  var id = 0;\n  return function () {\n    return ++id;\n  };\n})();\n\nvar zeroPosCache = {};\nvar getOrigin = function getOrigin() {\n  // getBoundingClientRect is unfortunately too accurate.  It introduces a pixel or two of\n  // jitter as the user scrolls that messes with our ability to detect if two positions\n  // are equivilant or not.  We place an element at the top left of the page that will\n  // get the same jitter, so we can cancel the two out.\n  var node = zeroElement;\n  if (!node || !document.body.contains(node)) {\n    node = document.createElement('div');\n    node.setAttribute('data-tether-id', uniqueId());\n    extend(node.style, {\n      top: 0,\n      left: 0,\n      position: 'absolute'\n    });\n\n    document.body.appendChild(node);\n\n    zeroElement = node;\n  }\n\n  var id = node.getAttribute('data-tether-id');\n  if (typeof zeroPosCache[id] === 'undefined') {\n    zeroPosCache[id] = getActualBoundingClientRect(node);\n\n    // Clear the cache when this position call is done\n    defer(function () {\n      delete zeroPosCache[id];\n    });\n  }\n\n  return zeroPosCache[id];\n};\n\nfunction removeUtilElements() {\n  if (zeroElement) {\n    document.body.removeChild(zeroElement);\n  }\n  zeroElement = null;\n};\n\nfunction getBounds(el) {\n  var doc = undefined;\n  if (el === document) {\n    doc = document;\n    el = document.documentElement;\n  } else {\n    doc = el.ownerDocument;\n  }\n\n  var docEl = doc.documentElement;\n\n  var box = getActualBoundingClientRect(el);\n\n  var origin = getOrigin();\n\n  box.top -= origin.top;\n  box.left -= origin.left;\n\n  if (typeof box.width === 'undefined') {\n    box.width = document.body.scrollWidth - box.left - box.right;\n  }\n  if (typeof box.height === 'undefined') {\n    box.height = document.body.scrollHeight - box.top - box.bottom;\n  }\n\n  box.top = box.top - docEl.clientTop;\n  box.left = box.left - docEl.clientLeft;\n  box.right = doc.body.clientWidth - box.width - box.left;\n  box.bottom = doc.body.clientHeight - box.height - box.top;\n\n  return box;\n}\n\nfunction getOffsetParent(el) {\n  return el.offsetParent || document.documentElement;\n}\n\nvar _scrollBarSize = null;\nfunction getScrollBarSize() {\n  if (_scrollBarSize) {\n    return _scrollBarSize;\n  }\n  var inner = document.createElement('div');\n  inner.style.width = '100%';\n  inner.style.height = '200px';\n\n  var outer = document.createElement('div');\n  extend(outer.style, {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    pointerEvents: 'none',\n    visibility: 'hidden',\n    width: '200px',\n    height: '150px',\n    overflow: 'hidden'\n  });\n\n  outer.appendChild(inner);\n\n  document.body.appendChild(outer);\n\n  var widthContained = inner.offsetWidth;\n  outer.style.overflow = 'scroll';\n  var widthScroll = inner.offsetWidth;\n\n  if (widthContained === widthScroll) {\n    widthScroll = outer.clientWidth;\n  }\n\n  document.body.removeChild(outer);\n\n  var width = widthContained - widthScroll;\n\n  _scrollBarSize = { width: width, height: width };\n  return _scrollBarSize;\n}\n\nfunction extend() {\n  var out = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n  var args = [];\n\n  Array.prototype.push.apply(args, arguments);\n\n  args.slice(1).forEach(function (obj) {\n    if (obj) {\n      for (var key in obj) {\n        if (({}).hasOwnProperty.call(obj, key)) {\n          out[key] = obj[key];\n        }\n      }\n    }\n  });\n\n  return out;\n}\n\nfunction removeClass(el, name) {\n  if (typeof el.classList !== 'undefined') {\n    name.split(' ').forEach(function (cls) {\n      if (cls.trim()) {\n        el.classList.remove(cls);\n      }\n    });\n  } else {\n    var regex = new RegExp('(^| )' + name.split(' ').join('|') + '( |$)', 'gi');\n    var className = getClassName(el).replace(regex, ' ');\n    setClassName(el, className);\n  }\n}\n\nfunction addClass(el, name) {\n  if (typeof el.classList !== 'undefined') {\n    name.split(' ').forEach(function (cls) {\n      if (cls.trim()) {\n        el.classList.add(cls);\n      }\n    });\n  } else {\n    removeClass(el, name);\n    var cls = getClassName(el) + (' ' + name);\n    setClassName(el, cls);\n  }\n}\n\nfunction hasClass(el, name) {\n  if (typeof el.classList !== 'undefined') {\n    return el.classList.contains(name);\n  }\n  var className = getClassName(el);\n  return new RegExp('(^| )' + name + '( |$)', 'gi').test(className);\n}\n\nfunction getClassName(el) {\n  // Can't use just SVGAnimatedString here since nodes within a Frame in IE have\n  // completely separately SVGAnimatedString base classes\n  if (el.className instanceof el.ownerDocument.defaultView.SVGAnimatedString) {\n    return el.className.baseVal;\n  }\n  return el.className;\n}\n\nfunction setClassName(el, className) {\n  el.setAttribute('class', className);\n}\n\nfunction updateClasses(el, add, all) {\n  // Of the set of 'all' classes, we need the 'add' classes, and only the\n  // 'add' classes to be set.\n  all.forEach(function (cls) {\n    if (add.indexOf(cls) === -1 && hasClass(el, cls)) {\n      removeClass(el, cls);\n    }\n  });\n\n  add.forEach(function (cls) {\n    if (!hasClass(el, cls)) {\n      addClass(el, cls);\n    }\n  });\n}\n\nvar deferred = [];\n\nvar defer = function defer(fn) {\n  deferred.push(fn);\n};\n\nvar flush = function flush() {\n  var fn = undefined;\n  while (fn = deferred.pop()) {\n    fn();\n  }\n};\n\nvar Evented = (function () {\n  function Evented() {\n    _classCallCheck(this, Evented);\n  }\n\n  _createClass(Evented, [{\n    key: 'on',\n    value: function on(event, handler, ctx) {\n      var once = arguments.length <= 3 || arguments[3] === undefined ? false : arguments[3];\n\n      if (typeof this.bindings === 'undefined') {\n        this.bindings = {};\n      }\n      if (typeof this.bindings[event] === 'undefined') {\n        this.bindings[event] = [];\n      }\n      this.bindings[event].push({ handler: handler, ctx: ctx, once: once });\n    }\n  }, {\n    key: 'once',\n    value: function once(event, handler, ctx) {\n      this.on(event, handler, ctx, true);\n    }\n  }, {\n    key: 'off',\n    value: function off(event, handler) {\n      if (typeof this.bindings === 'undefined' || typeof this.bindings[event] === 'undefined') {\n        return;\n      }\n\n      if (typeof handler === 'undefined') {\n        delete this.bindings[event];\n      } else {\n        var i = 0;\n        while (i < this.bindings[event].length) {\n          if (this.bindings[event][i].handler === handler) {\n            this.bindings[event].splice(i, 1);\n          } else {\n            ++i;\n          }\n        }\n      }\n    }\n  }, {\n    key: 'trigger',\n    value: function trigger(event) {\n      if (typeof this.bindings !== 'undefined' && this.bindings[event]) {\n        var i = 0;\n\n        for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n\n        while (i < this.bindings[event].length) {\n          var _bindings$event$i = this.bindings[event][i];\n          var handler = _bindings$event$i.handler;\n          var ctx = _bindings$event$i.ctx;\n          var once = _bindings$event$i.once;\n\n          var context = ctx;\n          if (typeof context === 'undefined') {\n            context = this;\n          }\n\n          handler.apply(context, args);\n\n          if (once) {\n            this.bindings[event].splice(i, 1);\n          } else {\n            ++i;\n          }\n        }\n      }\n    }\n  }]);\n\n  return Evented;\n})();\n\nTetherBase.Utils = {\n  getActualBoundingClientRect: getActualBoundingClientRect,\n  getScrollParents: getScrollParents,\n  getBounds: getBounds,\n  getOffsetParent: getOffsetParent,\n  extend: extend,\n  addClass: addClass,\n  removeClass: removeClass,\n  hasClass: hasClass,\n  updateClasses: updateClasses,\n  defer: defer,\n  flush: flush,\n  uniqueId: uniqueId,\n  Evented: Evented,\n  getScrollBarSize: getScrollBarSize,\n  removeUtilElements: removeUtilElements\n};\n/* globals TetherBase, performance */\n\n'use strict';\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x6, _x7, _x8) { var _again = true; _function: while (_again) { var object = _x6, property = _x7, receiver = _x8; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x6 = parent; _x7 = property; _x8 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nif (typeof TetherBase === 'undefined') {\n  throw new Error('You must include the utils.js file before tether.js');\n}\n\nvar _TetherBase$Utils = TetherBase.Utils;\nvar getScrollParents = _TetherBase$Utils.getScrollParents;\nvar getBounds = _TetherBase$Utils.getBounds;\nvar getOffsetParent = _TetherBase$Utils.getOffsetParent;\nvar extend = _TetherBase$Utils.extend;\nvar addClass = _TetherBase$Utils.addClass;\nvar removeClass = _TetherBase$Utils.removeClass;\nvar updateClasses = _TetherBase$Utils.updateClasses;\nvar defer = _TetherBase$Utils.defer;\nvar flush = _TetherBase$Utils.flush;\nvar getScrollBarSize = _TetherBase$Utils.getScrollBarSize;\nvar removeUtilElements = _TetherBase$Utils.removeUtilElements;\n\nfunction within(a, b) {\n  var diff = arguments.length <= 2 || arguments[2] === undefined ? 1 : arguments[2];\n\n  return a + diff >= b && b >= a - diff;\n}\n\nvar transformKey = (function () {\n  if (typeof document === 'undefined') {\n    return '';\n  }\n  var el = document.createElement('div');\n\n  var transforms = ['transform', 'WebkitTransform', 'OTransform', 'MozTransform', 'msTransform'];\n  for (var i = 0; i < transforms.length; ++i) {\n    var key = transforms[i];\n    if (el.style[key] !== undefined) {\n      return key;\n    }\n  }\n})();\n\nvar tethers = [];\n\nvar position = function position() {\n  tethers.forEach(function (tether) {\n    tether.position(false);\n  });\n  flush();\n};\n\nfunction now() {\n  if (typeof performance === 'object' && typeof performance.now === 'function') {\n    return performance.now();\n  }\n  return +new Date();\n}\n\n(function () {\n  var lastCall = null;\n  var lastDuration = null;\n  var pendingTimeout = null;\n\n  var tick = function tick() {\n    if (typeof lastDuration !== 'undefined' && lastDuration > 16) {\n      // We voluntarily throttle ourselves if we can't manage 60fps\n      lastDuration = Math.min(lastDuration - 16, 250);\n\n      // Just in case this is the last event, remember to position just once more\n      pendingTimeout = setTimeout(tick, 250);\n      return;\n    }\n\n    if (typeof lastCall !== 'undefined' && now() - lastCall < 10) {\n      // Some browsers call events a little too frequently, refuse to run more than is reasonable\n      return;\n    }\n\n    if (pendingTimeout != null) {\n      clearTimeout(pendingTimeout);\n      pendingTimeout = null;\n    }\n\n    lastCall = now();\n    position();\n    lastDuration = now() - lastCall;\n  };\n\n  if (typeof window !== 'undefined' && typeof window.addEventListener !== 'undefined') {\n    ['resize', 'scroll', 'touchmove'].forEach(function (event) {\n      window.addEventListener(event, tick);\n    });\n  }\n})();\n\nvar MIRROR_LR = {\n  center: 'center',\n  left: 'right',\n  right: 'left'\n};\n\nvar MIRROR_TB = {\n  middle: 'middle',\n  top: 'bottom',\n  bottom: 'top'\n};\n\nvar OFFSET_MAP = {\n  top: 0,\n  left: 0,\n  middle: '50%',\n  center: '50%',\n  bottom: '100%',\n  right: '100%'\n};\n\nvar autoToFixedAttachment = function autoToFixedAttachment(attachment, relativeToAttachment) {\n  var left = attachment.left;\n  var top = attachment.top;\n\n  if (left === 'auto') {\n    left = MIRROR_LR[relativeToAttachment.left];\n  }\n\n  if (top === 'auto') {\n    top = MIRROR_TB[relativeToAttachment.top];\n  }\n\n  return { left: left, top: top };\n};\n\nvar attachmentToOffset = function attachmentToOffset(attachment) {\n  var left = attachment.left;\n  var top = attachment.top;\n\n  if (typeof OFFSET_MAP[attachment.left] !== 'undefined') {\n    left = OFFSET_MAP[attachment.left];\n  }\n\n  if (typeof OFFSET_MAP[attachment.top] !== 'undefined') {\n    top = OFFSET_MAP[attachment.top];\n  }\n\n  return { left: left, top: top };\n};\n\nfunction addOffset() {\n  var out = { top: 0, left: 0 };\n\n  for (var _len = arguments.length, offsets = Array(_len), _key = 0; _key < _len; _key++) {\n    offsets[_key] = arguments[_key];\n  }\n\n  offsets.forEach(function (_ref) {\n    var top = _ref.top;\n    var left = _ref.left;\n\n    if (typeof top === 'string') {\n      top = parseFloat(top, 10);\n    }\n    if (typeof left === 'string') {\n      left = parseFloat(left, 10);\n    }\n\n    out.top += top;\n    out.left += left;\n  });\n\n  return out;\n}\n\nfunction offsetToPx(offset, size) {\n  if (typeof offset.left === 'string' && offset.left.indexOf('%') !== -1) {\n    offset.left = parseFloat(offset.left, 10) / 100 * size.width;\n  }\n  if (typeof offset.top === 'string' && offset.top.indexOf('%') !== -1) {\n    offset.top = parseFloat(offset.top, 10) / 100 * size.height;\n  }\n\n  return offset;\n}\n\nvar parseOffset = function parseOffset(value) {\n  var _value$split = value.split(' ');\n\n  var _value$split2 = _slicedToArray(_value$split, 2);\n\n  var top = _value$split2[0];\n  var left = _value$split2[1];\n\n  return { top: top, left: left };\n};\nvar parseAttachment = parseOffset;\n\nvar TetherClass = (function (_Evented) {\n  _inherits(TetherClass, _Evented);\n\n  function TetherClass(options) {\n    var _this = this;\n\n    _classCallCheck(this, TetherClass);\n\n    _get(Object.getPrototypeOf(TetherClass.prototype), 'constructor', this).call(this);\n    this.position = this.position.bind(this);\n\n    tethers.push(this);\n\n    this.history = [];\n\n    this.setOptions(options, false);\n\n    TetherBase.modules.forEach(function (module) {\n      if (typeof module.initialize !== 'undefined') {\n        module.initialize.call(_this);\n      }\n    });\n\n    this.position();\n  }\n\n  _createClass(TetherClass, [{\n    key: 'getClass',\n    value: function getClass() {\n      var key = arguments.length <= 0 || arguments[0] === undefined ? '' : arguments[0];\n      var classes = this.options.classes;\n\n      if (typeof classes !== 'undefined' && classes[key]) {\n        return this.options.classes[key];\n      } else if (this.options.classPrefix) {\n        return this.options.classPrefix + '-' + key;\n      } else {\n        return key;\n      }\n    }\n  }, {\n    key: 'setOptions',\n    value: function setOptions(options) {\n      var _this2 = this;\n\n      var pos = arguments.length <= 1 || arguments[1] === undefined ? true : arguments[1];\n\n      var defaults = {\n        offset: '0 0',\n        targetOffset: '0 0',\n        targetAttachment: 'auto auto',\n        classPrefix: 'tether'\n      };\n\n      this.options = extend(defaults, options);\n\n      var _options = this.options;\n      var element = _options.element;\n      var target = _options.target;\n      var targetModifier = _options.targetModifier;\n\n      this.element = element;\n      this.target = target;\n      this.targetModifier = targetModifier;\n\n      if (this.target === 'viewport') {\n        this.target = document.body;\n        this.targetModifier = 'visible';\n      } else if (this.target === 'scroll-handle') {\n        this.target = document.body;\n        this.targetModifier = 'scroll-handle';\n      }\n\n      ['element', 'target'].forEach(function (key) {\n        if (typeof _this2[key] === 'undefined') {\n          throw new Error('Tether Error: Both element and target must be defined');\n        }\n\n        if (typeof _this2[key].jquery !== 'undefined') {\n          _this2[key] = _this2[key][0];\n        } else if (typeof _this2[key] === 'string') {\n          _this2[key] = document.querySelector(_this2[key]);\n        }\n      });\n\n      addClass(this.element, this.getClass('element'));\n      if (!(this.options.addTargetClasses === false)) {\n        addClass(this.target, this.getClass('target'));\n      }\n\n      if (!this.options.attachment) {\n        throw new Error('Tether Error: You must provide an attachment');\n      }\n\n      this.targetAttachment = parseAttachment(this.options.targetAttachment);\n      this.attachment = parseAttachment(this.options.attachment);\n      this.offset = parseOffset(this.options.offset);\n      this.targetOffset = parseOffset(this.options.targetOffset);\n\n      if (typeof this.scrollParents !== 'undefined') {\n        this.disable();\n      }\n\n      if (this.targetModifier === 'scroll-handle') {\n        this.scrollParents = [this.target];\n      } else {\n        this.scrollParents = getScrollParents(this.target);\n      }\n\n      if (!(this.options.enabled === false)) {\n        this.enable(pos);\n      }\n    }\n  }, {\n    key: 'getTargetBounds',\n    value: function getTargetBounds() {\n      if (typeof this.targetModifier !== 'undefined') {\n        if (this.targetModifier === 'visible') {\n          if (this.target === document.body) {\n            return { top: pageYOffset, left: pageXOffset, height: innerHeight, width: innerWidth };\n          } else {\n            var bounds = getBounds(this.target);\n\n            var out = {\n              height: bounds.height,\n              width: bounds.width,\n              top: bounds.top,\n              left: bounds.left\n            };\n\n            out.height = Math.min(out.height, bounds.height - (pageYOffset - bounds.top));\n            out.height = Math.min(out.height, bounds.height - (bounds.top + bounds.height - (pageYOffset + innerHeight)));\n            out.height = Math.min(innerHeight, out.height);\n            out.height -= 2;\n\n            out.width = Math.min(out.width, bounds.width - (pageXOffset - bounds.left));\n            out.width = Math.min(out.width, bounds.width - (bounds.left + bounds.width - (pageXOffset + innerWidth)));\n            out.width = Math.min(innerWidth, out.width);\n            out.width -= 2;\n\n            if (out.top < pageYOffset) {\n              out.top = pageYOffset;\n            }\n            if (out.left < pageXOffset) {\n              out.left = pageXOffset;\n            }\n\n            return out;\n          }\n        } else if (this.targetModifier === 'scroll-handle') {\n          var bounds = undefined;\n          var target = this.target;\n          if (target === document.body) {\n            target = document.documentElement;\n\n            bounds = {\n              left: pageXOffset,\n              top: pageYOffset,\n              height: innerHeight,\n              width: innerWidth\n            };\n          } else {\n            bounds = getBounds(target);\n          }\n\n          var style = getComputedStyle(target);\n\n          var hasBottomScroll = target.scrollWidth > target.clientWidth || [style.overflow, style.overflowX].indexOf('scroll') >= 0 || this.target !== document.body;\n\n          var scrollBottom = 0;\n          if (hasBottomScroll) {\n            scrollBottom = 15;\n          }\n\n          var height = bounds.height - parseFloat(style.borderTopWidth) - parseFloat(style.borderBottomWidth) - scrollBottom;\n\n          var out = {\n            width: 15,\n            height: height * 0.975 * (height / target.scrollHeight),\n            left: bounds.left + bounds.width - parseFloat(style.borderLeftWidth) - 15\n          };\n\n          var fitAdj = 0;\n          if (height < 408 && this.target === document.body) {\n            fitAdj = -0.00011 * Math.pow(height, 2) - 0.00727 * height + 22.58;\n          }\n\n          if (this.target !== document.body) {\n            out.height = Math.max(out.height, 24);\n          }\n\n          var scrollPercentage = this.target.scrollTop / (target.scrollHeight - height);\n          out.top = scrollPercentage * (height - out.height - fitAdj) + bounds.top + parseFloat(style.borderTopWidth);\n\n          if (this.target === document.body) {\n            out.height = Math.max(out.height, 24);\n          }\n\n          return out;\n        }\n      } else {\n        return getBounds(this.target);\n      }\n    }\n  }, {\n    key: 'clearCache',\n    value: function clearCache() {\n      this._cache = {};\n    }\n  }, {\n    key: 'cache',\n    value: function cache(k, getter) {\n      // More than one module will often need the same DOM info, so\n      // we keep a cache which is cleared on each position call\n      if (typeof this._cache === 'undefined') {\n        this._cache = {};\n      }\n\n      if (typeof this._cache[k] === 'undefined') {\n        this._cache[k] = getter.call(this);\n      }\n\n      return this._cache[k];\n    }\n  }, {\n    key: 'enable',\n    value: function enable() {\n      var _this3 = this;\n\n      var pos = arguments.length <= 0 || arguments[0] === undefined ? true : arguments[0];\n\n      if (!(this.options.addTargetClasses === false)) {\n        addClass(this.target, this.getClass('enabled'));\n      }\n      addClass(this.element, this.getClass('enabled'));\n      this.enabled = true;\n\n      this.scrollParents.forEach(function (parent) {\n        if (parent !== _this3.target.ownerDocument) {\n          parent.addEventListener('scroll', _this3.position);\n        }\n      });\n\n      if (pos) {\n        this.position();\n      }\n    }\n  }, {\n    key: 'disable',\n    value: function disable() {\n      var _this4 = this;\n\n      removeClass(this.target, this.getClass('enabled'));\n      removeClass(this.element, this.getClass('enabled'));\n      this.enabled = false;\n\n      if (typeof this.scrollParents !== 'undefined') {\n        this.scrollParents.forEach(function (parent) {\n          parent.removeEventListener('scroll', _this4.position);\n        });\n      }\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      var _this5 = this;\n\n      this.disable();\n\n      tethers.forEach(function (tether, i) {\n        if (tether === _this5) {\n          tethers.splice(i, 1);\n        }\n      });\n\n      // Remove any elements we were using for convenience from the DOM\n      if (tethers.length === 0) {\n        removeUtilElements();\n      }\n    }\n  }, {\n    key: 'updateAttachClasses',\n    value: function updateAttachClasses(elementAttach, targetAttach) {\n      var _this6 = this;\n\n      elementAttach = elementAttach || this.attachment;\n      targetAttach = targetAttach || this.targetAttachment;\n      var sides = ['left', 'top', 'bottom', 'right', 'middle', 'center'];\n\n      if (typeof this._addAttachClasses !== 'undefined' && this._addAttachClasses.length) {\n        // updateAttachClasses can be called more than once in a position call, so\n        // we need to clean up after ourselves such that when the last defer gets\n        // ran it doesn't add any extra classes from previous calls.\n        this._addAttachClasses.splice(0, this._addAttachClasses.length);\n      }\n\n      if (typeof this._addAttachClasses === 'undefined') {\n        this._addAttachClasses = [];\n      }\n      var add = this._addAttachClasses;\n\n      if (elementAttach.top) {\n        add.push(this.getClass('element-attached') + '-' + elementAttach.top);\n      }\n      if (elementAttach.left) {\n        add.push(this.getClass('element-attached') + '-' + elementAttach.left);\n      }\n      if (targetAttach.top) {\n        add.push(this.getClass('target-attached') + '-' + targetAttach.top);\n      }\n      if (targetAttach.left) {\n        add.push(this.getClass('target-attached') + '-' + targetAttach.left);\n      }\n\n      var all = [];\n      sides.forEach(function (side) {\n        all.push(_this6.getClass('element-attached') + '-' + side);\n        all.push(_this6.getClass('target-attached') + '-' + side);\n      });\n\n      defer(function () {\n        if (!(typeof _this6._addAttachClasses !== 'undefined')) {\n          return;\n        }\n\n        updateClasses(_this6.element, _this6._addAttachClasses, all);\n        if (!(_this6.options.addTargetClasses === false)) {\n          updateClasses(_this6.target, _this6._addAttachClasses, all);\n        }\n\n        delete _this6._addAttachClasses;\n      });\n    }\n  }, {\n    key: 'position',\n    value: function position() {\n      var _this7 = this;\n\n      var flushChanges = arguments.length <= 0 || arguments[0] === undefined ? true : arguments[0];\n\n      // flushChanges commits the changes immediately, leave true unless you are positioning multiple\n      // tethers (in which case call Tether.Utils.flush yourself when you're done)\n\n      if (!this.enabled) {\n        return;\n      }\n\n      this.clearCache();\n\n      // Turn 'auto' attachments into the appropriate corner or edge\n      var targetAttachment = autoToFixedAttachment(this.targetAttachment, this.attachment);\n\n      this.updateAttachClasses(this.attachment, targetAttachment);\n\n      var elementPos = this.cache('element-bounds', function () {\n        return getBounds(_this7.element);\n      });\n\n      var width = elementPos.width;\n      var height = elementPos.height;\n\n      if (width === 0 && height === 0 && typeof this.lastSize !== 'undefined') {\n        var _lastSize = this.lastSize;\n\n        // We cache the height and width to make it possible to position elements that are\n        // getting hidden.\n        width = _lastSize.width;\n        height = _lastSize.height;\n      } else {\n        this.lastSize = { width: width, height: height };\n      }\n\n      var targetPos = this.cache('target-bounds', function () {\n        return _this7.getTargetBounds();\n      });\n      var targetSize = targetPos;\n\n      // Get an actual px offset from the attachment\n      var offset = offsetToPx(attachmentToOffset(this.attachment), { width: width, height: height });\n      var targetOffset = offsetToPx(attachmentToOffset(targetAttachment), targetSize);\n\n      var manualOffset = offsetToPx(this.offset, { width: width, height: height });\n      var manualTargetOffset = offsetToPx(this.targetOffset, targetSize);\n\n      // Add the manually provided offset\n      offset = addOffset(offset, manualOffset);\n      targetOffset = addOffset(targetOffset, manualTargetOffset);\n\n      // It's now our goal to make (element position + offset) == (target position + target offset)\n      var left = targetPos.left + targetOffset.left - offset.left;\n      var top = targetPos.top + targetOffset.top - offset.top;\n\n      for (var i = 0; i < TetherBase.modules.length; ++i) {\n        var _module2 = TetherBase.modules[i];\n        var ret = _module2.position.call(this, {\n          left: left,\n          top: top,\n          targetAttachment: targetAttachment,\n          targetPos: targetPos,\n          elementPos: elementPos,\n          offset: offset,\n          targetOffset: targetOffset,\n          manualOffset: manualOffset,\n          manualTargetOffset: manualTargetOffset,\n          scrollbarSize: scrollbarSize,\n          attachment: this.attachment\n        });\n\n        if (ret === false) {\n          return false;\n        } else if (typeof ret === 'undefined' || typeof ret !== 'object') {\n          continue;\n        } else {\n          top = ret.top;\n          left = ret.left;\n        }\n      }\n\n      // We describe the position three different ways to give the optimizer\n      // a chance to decide the best possible way to position the element\n      // with the fewest repaints.\n      var next = {\n        // It's position relative to the page (absolute positioning when\n        // the element is a child of the body)\n        page: {\n          top: top,\n          left: left\n        },\n\n        // It's position relative to the viewport (fixed positioning)\n        viewport: {\n          top: top - pageYOffset,\n          bottom: pageYOffset - top - height + innerHeight,\n          left: left - pageXOffset,\n          right: pageXOffset - left - width + innerWidth\n        }\n      };\n\n      var doc = this.target.ownerDocument;\n      var win = doc.defaultView;\n\n      var scrollbarSize = undefined;\n      if (win.innerHeight > doc.documentElement.clientHeight) {\n        scrollbarSize = this.cache('scrollbar-size', getScrollBarSize);\n        next.viewport.bottom -= scrollbarSize.height;\n      }\n\n      if (win.innerWidth > doc.documentElement.clientWidth) {\n        scrollbarSize = this.cache('scrollbar-size', getScrollBarSize);\n        next.viewport.right -= scrollbarSize.width;\n      }\n\n      if (['', 'static'].indexOf(doc.body.style.position) === -1 || ['', 'static'].indexOf(doc.body.parentElement.style.position) === -1) {\n        // Absolute positioning in the body will be relative to the page, not the 'initial containing block'\n        next.page.bottom = doc.body.scrollHeight - top - height;\n        next.page.right = doc.body.scrollWidth - left - width;\n      }\n\n      if (typeof this.options.optimizations !== 'undefined' && this.options.optimizations.moveElement !== false && !(typeof this.targetModifier !== 'undefined')) {\n        (function () {\n          var offsetParent = _this7.cache('target-offsetparent', function () {\n            return getOffsetParent(_this7.target);\n          });\n          var offsetPosition = _this7.cache('target-offsetparent-bounds', function () {\n            return getBounds(offsetParent);\n          });\n          var offsetParentStyle = getComputedStyle(offsetParent);\n          var offsetParentSize = offsetPosition;\n\n          var offsetBorder = {};\n          ['Top', 'Left', 'Bottom', 'Right'].forEach(function (side) {\n            offsetBorder[side.toLowerCase()] = parseFloat(offsetParentStyle['border' + side + 'Width']);\n          });\n\n          offsetPosition.right = doc.body.scrollWidth - offsetPosition.left - offsetParentSize.width + offsetBorder.right;\n          offsetPosition.bottom = doc.body.scrollHeight - offsetPosition.top - offsetParentSize.height + offsetBorder.bottom;\n\n          if (next.page.top >= offsetPosition.top + offsetBorder.top && next.page.bottom >= offsetPosition.bottom) {\n            if (next.page.left >= offsetPosition.left + offsetBorder.left && next.page.right >= offsetPosition.right) {\n              // We're within the visible part of the target's scroll parent\n              var scrollTop = offsetParent.scrollTop;\n              var scrollLeft = offsetParent.scrollLeft;\n\n              // It's position relative to the target's offset parent (absolute positioning when\n              // the element is moved to be a child of the target's offset parent).\n              next.offset = {\n                top: next.page.top - offsetPosition.top + scrollTop - offsetBorder.top,\n                left: next.page.left - offsetPosition.left + scrollLeft - offsetBorder.left\n              };\n            }\n          }\n        })();\n      }\n\n      // We could also travel up the DOM and try each containing context, rather than only\n      // looking at the body, but we're gonna get diminishing returns.\n\n      this.move(next);\n\n      this.history.unshift(next);\n\n      if (this.history.length > 3) {\n        this.history.pop();\n      }\n\n      if (flushChanges) {\n        flush();\n      }\n\n      return true;\n    }\n\n    // THE ISSUE\n  }, {\n    key: 'move',\n    value: function move(pos) {\n      var _this8 = this;\n\n      if (!(typeof this.element.parentNode !== 'undefined')) {\n        return;\n      }\n\n      var same = {};\n\n      for (var type in pos) {\n        same[type] = {};\n\n        for (var key in pos[type]) {\n          var found = false;\n\n          for (var i = 0; i < this.history.length; ++i) {\n            var point = this.history[i];\n            if (typeof point[type] !== 'undefined' && !within(point[type][key], pos[type][key])) {\n              found = true;\n              break;\n            }\n          }\n\n          if (!found) {\n            same[type][key] = true;\n          }\n        }\n      }\n\n      var css = { top: '', left: '', right: '', bottom: '' };\n\n      var transcribe = function transcribe(_same, _pos) {\n        var hasOptimizations = typeof _this8.options.optimizations !== 'undefined';\n        var gpu = hasOptimizations ? _this8.options.optimizations.gpu : null;\n        if (gpu !== false) {\n          var yPos = undefined,\n              xPos = undefined;\n          if (_same.top) {\n            css.top = 0;\n            yPos = _pos.top;\n          } else {\n            css.bottom = 0;\n            yPos = -_pos.bottom;\n          }\n\n          if (_same.left) {\n            css.left = 0;\n            xPos = _pos.left;\n          } else {\n            css.right = 0;\n            xPos = -_pos.right;\n          }\n\n          if (typeof window.devicePixelRatio === 'number' && devicePixelRatio % 1 === 0) {\n            xPos = Math.round(xPos * devicePixelRatio) / devicePixelRatio;\n            yPos = Math.round(yPos * devicePixelRatio) / devicePixelRatio;\n          }\n\n          css[transformKey] = 'translateX(' + xPos + 'px) translateY(' + yPos + 'px)';\n\n          if (transformKey !== 'msTransform') {\n            // The Z transform will keep this in the GPU (faster, and prevents artifacts),\n            // but IE9 doesn't support 3d transforms and will choke.\n            css[transformKey] += \" translateZ(0)\";\n          }\n        } else {\n          if (_same.top) {\n            css.top = _pos.top + 'px';\n          } else {\n            css.bottom = _pos.bottom + 'px';\n          }\n\n          if (_same.left) {\n            css.left = _pos.left + 'px';\n          } else {\n            css.right = _pos.right + 'px';\n          }\n        }\n      };\n\n      var moved = false;\n      if ((same.page.top || same.page.bottom) && (same.page.left || same.page.right)) {\n        css.position = 'absolute';\n        transcribe(same.page, pos.page);\n      } else if ((same.viewport.top || same.viewport.bottom) && (same.viewport.left || same.viewport.right)) {\n        css.position = 'fixed';\n        transcribe(same.viewport, pos.viewport);\n      } else if (typeof same.offset !== 'undefined' && same.offset.top && same.offset.left) {\n        (function () {\n          css.position = 'absolute';\n          var offsetParent = _this8.cache('target-offsetparent', function () {\n            return getOffsetParent(_this8.target);\n          });\n\n          if (getOffsetParent(_this8.element) !== offsetParent) {\n            defer(function () {\n              _this8.element.parentNode.removeChild(_this8.element);\n              offsetParent.appendChild(_this8.element);\n            });\n          }\n\n          transcribe(same.offset, pos.offset);\n          moved = true;\n        })();\n      } else {\n        css.position = 'absolute';\n        transcribe({ top: true, left: true }, pos.page);\n      }\n\n      if (!moved) {\n        if (this.options.bodyElement) {\n          if (this.element.parentNode !== this.options.bodyElement) {\n            this.options.bodyElement.appendChild(this.element);\n          }\n        } else {\n          var isFullscreenElement = function isFullscreenElement(e) {\n            var d = e.ownerDocument;\n            var fe = d.fullscreenElement || d.webkitFullscreenElement || d.mozFullScreenElement || d.msFullscreenElement;\n            return fe === e;\n          };\n\n          var offsetParentIsBody = true;\n\n          var currentNode = this.element.parentNode;\n          while (currentNode && currentNode.nodeType === 1 && currentNode.tagName !== 'BODY' && !isFullscreenElement(currentNode)) {\n            if (getComputedStyle(currentNode).position !== 'static') {\n              offsetParentIsBody = false;\n              break;\n            }\n\n            currentNode = currentNode.parentNode;\n          }\n\n          if (!offsetParentIsBody) {\n            this.element.parentNode.removeChild(this.element);\n            this.element.ownerDocument.body.appendChild(this.element);\n          }\n        }\n      }\n\n      // Any css change will trigger a repaint, so let's avoid one if nothing changed\n      var writeCSS = {};\n      var write = false;\n      for (var key in css) {\n        var val = css[key];\n        var elVal = this.element.style[key];\n\n        if (elVal !== val) {\n          write = true;\n          writeCSS[key] = val;\n        }\n      }\n\n      if (write) {\n        defer(function () {\n          extend(_this8.element.style, writeCSS);\n          _this8.trigger('repositioned');\n        });\n      }\n    }\n  }]);\n\n  return TetherClass;\n})(Evented);\n\nTetherClass.modules = [];\n\nTetherBase.position = position;\n\nvar Tether = extend(TetherClass, TetherBase);\n/* globals TetherBase */\n\n'use strict';\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar _TetherBase$Utils = TetherBase.Utils;\nvar getBounds = _TetherBase$Utils.getBounds;\nvar extend = _TetherBase$Utils.extend;\nvar updateClasses = _TetherBase$Utils.updateClasses;\nvar defer = _TetherBase$Utils.defer;\n\nvar BOUNDS_FORMAT = ['left', 'top', 'right', 'bottom'];\n\nfunction getBoundingRect(tether, to) {\n  if (to === 'scrollParent') {\n    to = tether.scrollParents[0];\n  } else if (to === 'window') {\n    to = [pageXOffset, pageYOffset, innerWidth + pageXOffset, innerHeight + pageYOffset];\n  }\n\n  if (to === document) {\n    to = to.documentElement;\n  }\n\n  if (typeof to.nodeType !== 'undefined') {\n    (function () {\n      var node = to;\n      var size = getBounds(to);\n      var pos = size;\n      var style = getComputedStyle(to);\n\n      to = [pos.left, pos.top, size.width + pos.left, size.height + pos.top];\n\n      // Account any parent Frames scroll offset\n      if (node.ownerDocument !== document) {\n        var win = node.ownerDocument.defaultView;\n        to[0] += win.pageXOffset;\n        to[1] += win.pageYOffset;\n        to[2] += win.pageXOffset;\n        to[3] += win.pageYOffset;\n      }\n\n      BOUNDS_FORMAT.forEach(function (side, i) {\n        side = side[0].toUpperCase() + side.substr(1);\n        if (side === 'Top' || side === 'Left') {\n          to[i] += parseFloat(style['border' + side + 'Width']);\n        } else {\n          to[i] -= parseFloat(style['border' + side + 'Width']);\n        }\n      });\n    })();\n  }\n\n  return to;\n}\n\nTetherBase.modules.push({\n  position: function position(_ref) {\n    var _this = this;\n\n    var top = _ref.top;\n    var left = _ref.left;\n    var targetAttachment = _ref.targetAttachment;\n\n    if (!this.options.constraints) {\n      return true;\n    }\n\n    var _cache = this.cache('element-bounds', function () {\n      return getBounds(_this.element);\n    });\n\n    var height = _cache.height;\n    var width = _cache.width;\n\n    if (width === 0 && height === 0 && typeof this.lastSize !== 'undefined') {\n      var _lastSize = this.lastSize;\n\n      // Handle the item getting hidden as a result of our positioning without glitching\n      // the classes in and out\n      width = _lastSize.width;\n      height = _lastSize.height;\n    }\n\n    var targetSize = this.cache('target-bounds', function () {\n      return _this.getTargetBounds();\n    });\n\n    var targetHeight = targetSize.height;\n    var targetWidth = targetSize.width;\n\n    var allClasses = [this.getClass('pinned'), this.getClass('out-of-bounds')];\n\n    this.options.constraints.forEach(function (constraint) {\n      var outOfBoundsClass = constraint.outOfBoundsClass;\n      var pinnedClass = constraint.pinnedClass;\n\n      if (outOfBoundsClass) {\n        allClasses.push(outOfBoundsClass);\n      }\n      if (pinnedClass) {\n        allClasses.push(pinnedClass);\n      }\n    });\n\n    allClasses.forEach(function (cls) {\n      ['left', 'top', 'right', 'bottom'].forEach(function (side) {\n        allClasses.push(cls + '-' + side);\n      });\n    });\n\n    var addClasses = [];\n\n    var tAttachment = extend({}, targetAttachment);\n    var eAttachment = extend({}, this.attachment);\n\n    this.options.constraints.forEach(function (constraint) {\n      var to = constraint.to;\n      var attachment = constraint.attachment;\n      var pin = constraint.pin;\n\n      if (typeof attachment === 'undefined') {\n        attachment = '';\n      }\n\n      var changeAttachX = undefined,\n          changeAttachY = undefined;\n      if (attachment.indexOf(' ') >= 0) {\n        var _attachment$split = attachment.split(' ');\n\n        var _attachment$split2 = _slicedToArray(_attachment$split, 2);\n\n        changeAttachY = _attachment$split2[0];\n        changeAttachX = _attachment$split2[1];\n      } else {\n        changeAttachX = changeAttachY = attachment;\n      }\n\n      var bounds = getBoundingRect(_this, to);\n\n      if (changeAttachY === 'target' || changeAttachY === 'both') {\n        if (top < bounds[1] && tAttachment.top === 'top') {\n          top += targetHeight;\n          tAttachment.top = 'bottom';\n        }\n\n        if (top + height > bounds[3] && tAttachment.top === 'bottom') {\n          top -= targetHeight;\n          tAttachment.top = 'top';\n        }\n      }\n\n      if (changeAttachY === 'together') {\n        if (tAttachment.top === 'top') {\n          if (eAttachment.top === 'bottom' && top < bounds[1]) {\n            top += targetHeight;\n            tAttachment.top = 'bottom';\n\n            top += height;\n            eAttachment.top = 'top';\n          } else if (eAttachment.top === 'top' && top + height > bounds[3] && top - (height - targetHeight) >= bounds[1]) {\n            top -= height - targetHeight;\n            tAttachment.top = 'bottom';\n\n            eAttachment.top = 'bottom';\n          }\n        }\n\n        if (tAttachment.top === 'bottom') {\n          if (eAttachment.top === 'top' && top + height > bounds[3]) {\n            top -= targetHeight;\n            tAttachment.top = 'top';\n\n            top -= height;\n            eAttachment.top = 'bottom';\n          } else if (eAttachment.top === 'bottom' && top < bounds[1] && top + (height * 2 - targetHeight) <= bounds[3]) {\n            top += height - targetHeight;\n            tAttachment.top = 'top';\n\n            eAttachment.top = 'top';\n          }\n        }\n\n        if (tAttachment.top === 'middle') {\n          if (top + height > bounds[3] && eAttachment.top === 'top') {\n            top -= height;\n            eAttachment.top = 'bottom';\n          } else if (top < bounds[1] && eAttachment.top === 'bottom') {\n            top += height;\n            eAttachment.top = 'top';\n          }\n        }\n      }\n\n      if (changeAttachX === 'target' || changeAttachX === 'both') {\n        if (left < bounds[0] && tAttachment.left === 'left') {\n          left += targetWidth;\n          tAttachment.left = 'right';\n        }\n\n        if (left + width > bounds[2] && tAttachment.left === 'right') {\n          left -= targetWidth;\n          tAttachment.left = 'left';\n        }\n      }\n\n      if (changeAttachX === 'together') {\n        if (left < bounds[0] && tAttachment.left === 'left') {\n          if (eAttachment.left === 'right') {\n            left += targetWidth;\n            tAttachment.left = 'right';\n\n            left += width;\n            eAttachment.left = 'left';\n          } else if (eAttachment.left === 'left') {\n            left += targetWidth;\n            tAttachment.left = 'right';\n\n            left -= width;\n            eAttachment.left = 'right';\n          }\n        } else if (left + width > bounds[2] && tAttachment.left === 'right') {\n          if (eAttachment.left === 'left') {\n            left -= targetWidth;\n            tAttachment.left = 'left';\n\n            left -= width;\n            eAttachment.left = 'right';\n          } else if (eAttachment.left === 'right') {\n            left -= targetWidth;\n            tAttachment.left = 'left';\n\n            left += width;\n            eAttachment.left = 'left';\n          }\n        } else if (tAttachment.left === 'center') {\n          if (left + width > bounds[2] && eAttachment.left === 'left') {\n            left -= width;\n            eAttachment.left = 'right';\n          } else if (left < bounds[0] && eAttachment.left === 'right') {\n            left += width;\n            eAttachment.left = 'left';\n          }\n        }\n      }\n\n      if (changeAttachY === 'element' || changeAttachY === 'both') {\n        if (top < bounds[1] && eAttachment.top === 'bottom') {\n          top += height;\n          eAttachment.top = 'top';\n        }\n\n        if (top + height > bounds[3] && eAttachment.top === 'top') {\n          top -= height;\n          eAttachment.top = 'bottom';\n        }\n      }\n\n      if (changeAttachX === 'element' || changeAttachX === 'both') {\n        if (left < bounds[0]) {\n          if (eAttachment.left === 'right') {\n            left += width;\n            eAttachment.left = 'left';\n          } else if (eAttachment.left === 'center') {\n            left += width / 2;\n            eAttachment.left = 'left';\n          }\n        }\n\n        if (left + width > bounds[2]) {\n          if (eAttachment.left === 'left') {\n            left -= width;\n            eAttachment.left = 'right';\n          } else if (eAttachment.left === 'center') {\n            left -= width / 2;\n            eAttachment.left = 'right';\n          }\n        }\n      }\n\n      if (typeof pin === 'string') {\n        pin = pin.split(',').map(function (p) {\n          return p.trim();\n        });\n      } else if (pin === true) {\n        pin = ['top', 'left', 'right', 'bottom'];\n      }\n\n      pin = pin || [];\n\n      var pinned = [];\n      var oob = [];\n\n      if (top < bounds[1]) {\n        if (pin.indexOf('top') >= 0) {\n          top = bounds[1];\n          pinned.push('top');\n        } else {\n          oob.push('top');\n        }\n      }\n\n      if (top + height > bounds[3]) {\n        if (pin.indexOf('bottom') >= 0) {\n          top = bounds[3] - height;\n          pinned.push('bottom');\n        } else {\n          oob.push('bottom');\n        }\n      }\n\n      if (left < bounds[0]) {\n        if (pin.indexOf('left') >= 0) {\n          left = bounds[0];\n          pinned.push('left');\n        } else {\n          oob.push('left');\n        }\n      }\n\n      if (left + width > bounds[2]) {\n        if (pin.indexOf('right') >= 0) {\n          left = bounds[2] - width;\n          pinned.push('right');\n        } else {\n          oob.push('right');\n        }\n      }\n\n      if (pinned.length) {\n        (function () {\n          var pinnedClass = undefined;\n          if (typeof _this.options.pinnedClass !== 'undefined') {\n            pinnedClass = _this.options.pinnedClass;\n          } else {\n            pinnedClass = _this.getClass('pinned');\n          }\n\n          addClasses.push(pinnedClass);\n          pinned.forEach(function (side) {\n            addClasses.push(pinnedClass + '-' + side);\n          });\n        })();\n      }\n\n      if (oob.length) {\n        (function () {\n          var oobClass = undefined;\n          if (typeof _this.options.outOfBoundsClass !== 'undefined') {\n            oobClass = _this.options.outOfBoundsClass;\n          } else {\n            oobClass = _this.getClass('out-of-bounds');\n          }\n\n          addClasses.push(oobClass);\n          oob.forEach(function (side) {\n            addClasses.push(oobClass + '-' + side);\n          });\n        })();\n      }\n\n      if (pinned.indexOf('left') >= 0 || pinned.indexOf('right') >= 0) {\n        eAttachment.left = tAttachment.left = false;\n      }\n      if (pinned.indexOf('top') >= 0 || pinned.indexOf('bottom') >= 0) {\n        eAttachment.top = tAttachment.top = false;\n      }\n\n      if (tAttachment.top !== targetAttachment.top || tAttachment.left !== targetAttachment.left || eAttachment.top !== _this.attachment.top || eAttachment.left !== _this.attachment.left) {\n        _this.updateAttachClasses(eAttachment, tAttachment);\n        _this.trigger('update', {\n          attachment: eAttachment,\n          targetAttachment: tAttachment\n        });\n      }\n    });\n\n    defer(function () {\n      if (!(_this.options.addTargetClasses === false)) {\n        updateClasses(_this.target, addClasses, allClasses);\n      }\n      updateClasses(_this.element, addClasses, allClasses);\n    });\n\n    return { top: top, left: left };\n  }\n});\n/* globals TetherBase */\n\n'use strict';\n\nvar _TetherBase$Utils = TetherBase.Utils;\nvar getBounds = _TetherBase$Utils.getBounds;\nvar updateClasses = _TetherBase$Utils.updateClasses;\nvar defer = _TetherBase$Utils.defer;\n\nTetherBase.modules.push({\n  position: function position(_ref) {\n    var _this = this;\n\n    var top = _ref.top;\n    var left = _ref.left;\n\n    var _cache = this.cache('element-bounds', function () {\n      return getBounds(_this.element);\n    });\n\n    var height = _cache.height;\n    var width = _cache.width;\n\n    var targetPos = this.getTargetBounds();\n\n    var bottom = top + height;\n    var right = left + width;\n\n    var abutted = [];\n    if (top <= targetPos.bottom && bottom >= targetPos.top) {\n      ['left', 'right'].forEach(function (side) {\n        var targetPosSide = targetPos[side];\n        if (targetPosSide === left || targetPosSide === right) {\n          abutted.push(side);\n        }\n      });\n    }\n\n    if (left <= targetPos.right && right >= targetPos.left) {\n      ['top', 'bottom'].forEach(function (side) {\n        var targetPosSide = targetPos[side];\n        if (targetPosSide === top || targetPosSide === bottom) {\n          abutted.push(side);\n        }\n      });\n    }\n\n    var allClasses = [];\n    var addClasses = [];\n\n    var sides = ['left', 'top', 'right', 'bottom'];\n    allClasses.push(this.getClass('abutted'));\n    sides.forEach(function (side) {\n      allClasses.push(_this.getClass('abutted') + '-' + side);\n    });\n\n    if (abutted.length) {\n      addClasses.push(this.getClass('abutted'));\n    }\n\n    abutted.forEach(function (side) {\n      addClasses.push(_this.getClass('abutted') + '-' + side);\n    });\n\n    defer(function () {\n      if (!(_this.options.addTargetClasses === false)) {\n        updateClasses(_this.target, addClasses, allClasses);\n      }\n      updateClasses(_this.element, addClasses, allClasses);\n    });\n\n    return true;\n  }\n});\n/* globals TetherBase */\n\n'use strict';\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nTetherBase.modules.push({\n  position: function position(_ref) {\n    var top = _ref.top;\n    var left = _ref.left;\n\n    if (!this.options.shift) {\n      return;\n    }\n\n    var shift = this.options.shift;\n    if (typeof this.options.shift === 'function') {\n      shift = this.options.shift.call(this, { top: top, left: left });\n    }\n\n    var shiftTop = undefined,\n        shiftLeft = undefined;\n    if (typeof shift === 'string') {\n      shift = shift.split(' ');\n      shift[1] = shift[1] || shift[0];\n\n      var _shift = shift;\n\n      var _shift2 = _slicedToArray(_shift, 2);\n\n      shiftTop = _shift2[0];\n      shiftLeft = _shift2[1];\n\n      shiftTop = parseFloat(shiftTop, 10);\n      shiftLeft = parseFloat(shiftLeft, 10);\n    } else {\n      shiftTop = shift.top;\n      shiftLeft = shift.left;\n    }\n\n    top += shiftTop;\n    left += shiftLeft;\n\n    return { top: top, left: left };\n  }\n});\nreturn Tether;\n\n}));\n","export class AnnotationEvent {\n  dashboardId: number;\n  panelId: number;\n  userId: number;\n  time: any;\n  timeEnd: any;\n  isRegion: boolean;\n  text: string;\n  type: string;\n  tags: string;\n}\n","import _ from 'lodash';\nimport tinycolor from 'tinycolor2';\n\nexport const PALETTE_ROWS = 4;\nexport const PALETTE_COLUMNS = 14;\nexport const DEFAULT_ANNOTATION_COLOR = 'rgba(0, 211, 255, 1)';\nexport const OK_COLOR = 'rgba(11, 237, 50, 1)';\nexport const ALERTING_COLOR = 'rgba(237, 46, 24, 1)';\nexport const NO_DATA_COLOR = 'rgba(150, 150, 150, 1)';\nexport const REGION_FILL_ALPHA = 0.09;\n\nlet colors = [\n  '#7EB26D',\n  '#EAB839',\n  '#6ED0E0',\n  '#EF843C',\n  '#E24D42',\n  '#1F78C1',\n  '#BA43A9',\n  '#705DA0',\n  '#508642',\n  '#CCA300',\n  '#447EBC',\n  '#C15C17',\n  '#890F02',\n  '#0A437C',\n  '#6D1F62',\n  '#584477',\n  '#B7DBAB',\n  '#F4D598',\n  '#70DBED',\n  '#F9BA8F',\n  '#F29191',\n  '#82B5D8',\n  '#E5A8E2',\n  '#AEA2E0',\n  '#629E51',\n  '#E5AC0E',\n  '#64B0C8',\n  '#E0752D',\n  '#BF1B00',\n  '#0A50A1',\n  '#962D82',\n  '#614D93',\n  '#9AC48A',\n  '#F2C96D',\n  '#65C5DB',\n  '#F9934E',\n  '#EA6460',\n  '#5195CE',\n  '#D683CE',\n  '#806EB7',\n  '#3F6833',\n  '#967302',\n  '#2F575E',\n  '#99440A',\n  '#58140C',\n  '#052B51',\n  '#511749',\n  '#3F2B5B',\n  '#E0F9D7',\n  '#FCEACA',\n  '#CFFAFF',\n  '#F9E2D2',\n  '#FCE2DE',\n  '#BADFF4',\n  '#F9D9F9',\n  '#DEDAF7',\n];\n\nexport function sortColorsByHue(hexColors) {\n  let hslColors = _.map(hexColors, hexToHsl);\n\n  let sortedHSLColors: any = _.sortBy(hslColors, ['h']);\n  sortedHSLColors = _.chunk(sortedHSLColors, PALETTE_ROWS);\n  sortedHSLColors = _.map(sortedHSLColors, chunk => {\n    return _.sortBy(chunk, 'l');\n  });\n  sortedHSLColors = _.flattenDeep(_.zip(...sortedHSLColors));\n\n  return _.map(sortedHSLColors, hslToHex);\n}\n\nexport function hexToHsl(color) {\n  return tinycolor(color).toHsl();\n}\n\nexport function hslToHex(color) {\n  return tinycolor(color).toHexString();\n}\n\nexport let sortedColors = sortColorsByHue(colors);\nexport default colors;\n","import _ from 'lodash';\nimport moment from 'moment';\nimport tinycolor from 'tinycolor2';\nimport { MetricsPanelCtrl } from 'grafana/app/plugins/sdk';\nimport { AnnotationEvent } from './event';\nimport {\n  DEFAULT_ANNOTATION_COLOR,\n  OK_COLOR,\n  ALERTING_COLOR,\n  NO_DATA_COLOR,\n  REGION_FILL_ALPHA\n} from './colors';\n\nexport class EventManager {\n  event: AnnotationEvent;\n  editorOpen: boolean;\n\n  constructor(private panelCtrl: MetricsPanelCtrl) { }\n\n  editorClosed() {\n    this.event = null;\n    this.editorOpen = false;\n    this.panelCtrl.render();\n  }\n\n  editorOpened() {\n    this.editorOpen = true;\n  }\n\n  updateTime(range) {\n    if (!this.event) {\n      this.event = new AnnotationEvent();\n      this.event.dashboardId = this.panelCtrl.dashboard.id;\n      this.event.panelId = this.panelCtrl.panel.id;\n    }\n\n    // update time\n    this.event.time = moment(range.from);\n    this.event.isRegion = false;\n    if (range.to) {\n      this.event.timeEnd = moment(range.to);\n      this.event.isRegion = true;\n    }\n\n    this.panelCtrl.render();\n  }\n\n  editEvent(event, elem?) {\n    this.event = event;\n    this.panelCtrl.render();\n  }\n\n  addFlotEvents(annotations, flotOptions) {\n    if (!this.event && annotations.length === 0) {\n      return;\n    }\n\n    var types = {\n      $__alerting: {\n        color: ALERTING_COLOR,\n        position: 'BOTTOM',\n        markerSize: 5,\n      },\n      $__ok: {\n        color: OK_COLOR,\n        position: 'BOTTOM',\n        markerSize: 5,\n      },\n      $__no_data: {\n        color: NO_DATA_COLOR,\n        position: 'BOTTOM',\n        markerSize: 5,\n      },\n      $__editing: {\n        color: DEFAULT_ANNOTATION_COLOR,\n        position: 'BOTTOM',\n        markerSize: 5,\n      },\n    };\n\n    if (this.event) {\n      if (this.event.isRegion) {\n        annotations = [\n          {\n            isRegion: true,\n            min: this.event.time.valueOf(),\n            timeEnd: this.event.timeEnd.valueOf(),\n            text: this.event.text,\n            eventType: '$__editing',\n            editModel: this.event,\n          },\n        ];\n      } else {\n        annotations = [\n          {\n            min: this.event.time.valueOf(),\n            text: this.event.text,\n            editModel: this.event,\n            eventType: '$__editing',\n          },\n        ];\n      }\n    } else {\n      // annotations from query\n      for (var i = 0; i < annotations.length; i++) {\n        var item = annotations[i];\n\n        // add properties used by jquery flot events\n        item.min = item.time;\n        item.max = item.time;\n        item.eventType = item.source.name;\n\n        if (item.newState) {\n          item.eventType = '$__' + item.newState;\n          continue;\n        }\n\n        if (!types[item.source.name]) {\n          types[item.source.name] = {\n            color: item.source.iconColor,\n            position: 'BOTTOM',\n            markerSize: 5,\n          };\n        }\n      }\n    }\n\n    let regions = getRegions(annotations);\n    addRegionMarking(regions, flotOptions);\n\n    let eventSectionHeight = 20;\n    let eventSectionMargin = 7;\n    flotOptions.grid.eventSectionHeight = eventSectionMargin;\n    flotOptions.xaxis.eventSectionHeight = eventSectionHeight;\n\n    flotOptions.events = {\n      levels: _.keys(types).length + 1,\n      data: annotations,\n      types: types,\n      manager: this,\n    };\n  }\n}\n\nfunction getRegions(events) {\n  return _.filter(events, 'isRegion');\n}\n\nfunction addRegionMarking(regions, flotOptions) {\n  let markings = flotOptions.grid.markings;\n  let defaultColor = DEFAULT_ANNOTATION_COLOR;\n  let fillColor;\n\n  _.each(regions, region => {\n    if (region.source) {\n      fillColor = region.source.iconColor || defaultColor;\n    } else {\n      fillColor = defaultColor;\n    }\n\n    fillColor = addAlphaToRGB(fillColor, REGION_FILL_ALPHA);\n    markings.push({\n      xaxis: { from: region.min, to: region.timeEnd },\n      color: fillColor,\n    });\n  });\n}\n\nfunction addAlphaToRGB(colorString: string, alpha: number): string {\n  let color = tinycolor(colorString);\n  if (color.isValid()) {\n    color.setAlpha(alpha);\n    return color.toRgbString();\n  } else {\n    return colorString;\n  }\n}\n","import { getDataMinMax } from './time_series2';\n\n/**\n * Calculate tick step.\n * Implementation from d3-array (ticks.js)\n * https://github.com/d3/d3-array/blob/master/src/ticks.js\n * @param start Start value\n * @param stop End value\n * @param count Ticks count\n */\nexport function tickStep(start: number, stop: number, count: number): number {\n  let e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\n  let step0 = Math.abs(stop - start) / Math.max(0, count),\n    step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n    error = step0 / step1;\n\n  if (error >= e10) {\n    step1 *= 10;\n  } else if (error >= e5) {\n    step1 *= 5;\n  } else if (error >= e2) {\n    step1 *= 2;\n  }\n\n  return stop < start ? -step1 : step1;\n}\n\nexport function getScaledDecimals(decimals, tick_size) {\n  return decimals - Math.floor(Math.log(tick_size) / Math.LN10);\n}\n\n/**\n * Calculate tick size based on min and max values, number of ticks and precision.\n * Implementation from Flot.\n * @param min           Axis minimum\n * @param max           Axis maximum\n * @param noTicks       Number of ticks\n * @param tickDecimals  Tick decimal precision\n */\nexport function getFlotTickSize(min: number, max: number, noTicks: number, tickDecimals: number) {\n  var delta = (max - min) / noTicks,\n    dec = -Math.floor(Math.log(delta) / Math.LN10),\n    maxDec = tickDecimals;\n\n  var magn = Math.pow(10, -dec),\n    norm = delta / magn, // norm is between 1.0 and 10.0\n    size;\n\n  if (norm < 1.5) {\n    size = 1;\n  } else if (norm < 3) {\n    size = 2;\n    // special case for 2.5, requires an extra decimal\n    if (norm > 2.25 && (maxDec == null || dec + 1 <= maxDec)) {\n      size = 2.5;\n      ++dec;\n    }\n  } else if (norm < 7.5) {\n    size = 5;\n  } else {\n    size = 10;\n  }\n\n  size *= magn;\n\n  return size;\n}\n\n/**\n * Calculate axis range (min and max).\n * Implementation from Flot.\n */\nexport function getFlotRange(panelMin, panelMax, datamin, datamax) {\n  const autoscaleMargin = 0.02;\n\n  let min = +(panelMin != null ? panelMin : datamin);\n  let max = +(panelMax != null ? panelMax : datamax);\n  let delta = max - min;\n\n  if (delta === 0.0) {\n    // Grafana fix: wide Y min and max using increased wideFactor\n    // when all series values are the same\n    var wideFactor = 0.25;\n    var widen = Math.abs(max === 0 ? 1 : max * wideFactor);\n\n    if (panelMin === null) {\n      min -= widen;\n    }\n    // always widen max if we couldn't widen min to ensure we\n    // don't fall into min == max which doesn't work\n    if (panelMax == null || panelMin != null) {\n      max += widen;\n    }\n  } else {\n    // consider autoscaling\n    var margin = autoscaleMargin;\n    if (margin != null) {\n      if (panelMin == null) {\n        min -= delta * margin;\n        // make sure we don't go below zero if all values\n        // are positive\n        if (min < 0 && datamin != null && datamin >= 0) {\n          min = 0;\n        }\n      }\n      if (panelMax == null) {\n        max += delta * margin;\n        if (max > 0 && datamax != null && datamax <= 0) {\n          max = 0;\n        }\n      }\n    }\n  }\n  return { min, max };\n}\n\n/**\n * Calculate tick decimals.\n * Implementation from Flot.\n */\nexport function getFlotTickDecimals(data, axis) {\n  let { datamin, datamax } = getDataMinMax(data);\n  let { min, max } = getFlotRange(axis.min, axis.max, datamin, datamax);\n  let noTicks = 3;\n  let tickDecimals, maxDec;\n  let delta = (max - min) / noTicks;\n  let dec = -Math.floor(Math.log(delta) / Math.LN10);\n\n  let magn = Math.pow(10, -dec);\n  // norm is between 1.0 and 10.0\n  let norm = delta / magn;\n  let size;\n\n  if (norm < 1.5) {\n    size = 1;\n  } else if (norm < 3) {\n    size = 2;\n    // special case for 2.5, requires an extra decimal\n    if (norm > 2.25 && (maxDec == null || dec + 1 <= maxDec)) {\n      size = 2.5;\n      ++dec;\n    }\n  } else if (norm < 7.5) {\n    size = 5;\n  } else {\n    size = 10;\n  }\n\n  size *= magn;\n\n  tickDecimals = Math.max(0, maxDec != null ? maxDec : dec);\n  // grafana addition\n  const scaledDecimals = tickDecimals - Math.floor(Math.log(size) / Math.LN10);\n  return { tickDecimals, scaledDecimals };\n}\n","import kbn from 'grafana/app/core/utils/kbn';\nimport { getFlotTickDecimals } from './ticks';\nimport _ from 'lodash';\n\nfunction matchSeriesOverride(aliasOrRegex, seriesAlias) {\n  if (!aliasOrRegex) {\n    return false;\n  }\n\n  if (aliasOrRegex[0] === '/') {\n    var regex = kbn.stringToJsRegex(aliasOrRegex);\n    return seriesAlias.match(regex) != null;\n  }\n\n  return aliasOrRegex === seriesAlias;\n}\n\nfunction translateFillOption(fill) {\n  return fill === 0 ? 0.001 : fill / 10;\n}\n\n/**\n * Calculate decimals for legend and update values for each series.\n * @param data series data\n * @param panel\n */\nexport function updateLegendValues(data: TimeSeries[], panel) {\n  for (let i = 0; i < data.length; i++) {\n    let series = data[i];\n    let yaxes = panel.yaxes;\n    const seriesYAxis = series.yaxis || 1;\n    let axis = yaxes[seriesYAxis - 1];\n    let { tickDecimals, scaledDecimals } = getFlotTickDecimals(data, axis);\n    let formater = kbn.valueFormats[panel.yaxes[seriesYAxis - 1].format];\n\n    // decimal override\n    if (_.isNumber(panel.decimals)) {\n      series.updateLegendValues(formater, panel.decimals, null);\n    } else {\n      // auto decimals\n      // legend and tooltip gets one more decimal precision\n      // than graph legend ticks\n      tickDecimals = (tickDecimals || -1) + 1;\n      series.updateLegendValues(formater, tickDecimals, scaledDecimals + 2);\n    }\n  }\n}\n\nexport function getDataMinMax(data: TimeSeries[]) {\n  let datamin = null;\n  let datamax = null;\n\n  for (let series of data) {\n    if (datamax === null || datamax < series.stats.max) {\n      datamax = series.stats.max;\n    }\n    if (datamin === null || datamin > series.stats.min) {\n      datamin = series.stats.min;\n    }\n  }\n\n  return { datamin, datamax };\n}\n\nexport default class TimeSeries {\n  datapoints: any;\n  id: string;\n  label: string;\n  alias: string;\n  aliasEscaped: string;\n  color: string;\n  valueFormater: any;\n  stats: any;\n  legend: boolean;\n  allIsNull: boolean;\n  allIsZero: boolean;\n  decimals: number;\n  scaledDecimals: number;\n  hasMsResolution: boolean;\n  isOutsideRange: boolean;\n\n  lines: any;\n  dashes: any;\n  bars: any;\n  points: any;\n  yaxis: any;\n  zindex: any;\n  stack: any;\n  nullPointMode: any;\n  fillBelowTo: any;\n  transform: any;\n  flotpairs: any;\n  unit: any;\n\n  constructor(opts) {\n    this.datapoints = opts.datapoints;\n    this.label = opts.alias;\n    this.id = opts.alias;\n    this.alias = opts.alias;\n    this.aliasEscaped = _.escape(opts.alias);\n    this.color = opts.color;\n    this.valueFormater = kbn.valueFormats.none;\n    this.stats = {};\n    this.legend = true;\n    this.unit = opts.unit;\n    this.hasMsResolution = this.isMsResolutionNeeded();\n  }\n\n  applySeriesOverrides(overrides) {\n    this.lines = {};\n    this.dashes = {\n      dashLength: [],\n    };\n    this.points = {};\n    this.bars = {};\n    this.yaxis = 1;\n    this.zindex = 0;\n    this.nullPointMode = null;\n    delete this.stack;\n\n    for (var i = 0; i < overrides.length; i++) {\n      var override = overrides[i];\n      if (!matchSeriesOverride(override.alias, this.alias)) {\n        continue;\n      }\n      if (override.lines !== void 0) {\n        this.lines.show = override.lines;\n      }\n      if (override.dashes !== void 0) {\n        this.dashes.show = override.dashes;\n        this.lines.lineWidth = 0;\n      }\n      if (override.points !== void 0) {\n        this.points.show = override.points;\n      }\n      if (override.bars !== void 0) {\n        this.bars.show = override.bars;\n      }\n      if (override.fill !== void 0) {\n        this.lines.fill = translateFillOption(override.fill);\n      }\n      if (override.stack !== void 0) {\n        this.stack = override.stack;\n      }\n      if (override.linewidth !== void 0) {\n        this.lines.lineWidth = this.dashes.show ? 0 : override.linewidth;\n        this.dashes.lineWidth = override.linewidth;\n      }\n      if (override.dashLength !== void 0) {\n        this.dashes.dashLength[0] = override.dashLength;\n      }\n      if (override.spaceLength !== void 0) {\n        this.dashes.dashLength[1] = override.spaceLength;\n      }\n      if (override.nullPointMode !== void 0) {\n        this.nullPointMode = override.nullPointMode;\n      }\n      if (override.pointradius !== void 0) {\n        this.points.radius = override.pointradius;\n      }\n      if (override.steppedLine !== void 0) {\n        this.lines.steps = override.steppedLine;\n      }\n      if (override.zindex !== void 0) {\n        this.zindex = override.zindex;\n      }\n      if (override.fillBelowTo !== void 0) {\n        this.fillBelowTo = override.fillBelowTo;\n      }\n      if (override.color !== void 0) {\n        this.color = override.color;\n      }\n      if (override.transform !== void 0) {\n        this.transform = override.transform;\n      }\n      if (override.legend !== void 0) {\n        this.legend = override.legend;\n      }\n\n      if (override.yaxis !== void 0) {\n        this.yaxis = override.yaxis;\n      }\n    }\n  }\n\n  getFlotPairs(fillStyle) {\n    var result = [];\n\n    this.stats.total = 0;\n    this.stats.max = -Number.MAX_VALUE;\n    this.stats.min = Number.MAX_VALUE;\n    this.stats.logmin = Number.MAX_VALUE;\n    this.stats.avg = null;\n    this.stats.current = null;\n    this.stats.first = null;\n    this.stats.delta = 0;\n    this.stats.diff = null;\n    this.stats.range = null;\n    this.stats.timeStep = Number.MAX_VALUE;\n    this.allIsNull = true;\n    this.allIsZero = true;\n\n    var ignoreNulls = fillStyle === 'connected';\n    var nullAsZero = fillStyle === 'null as zero';\n    var currentTime;\n    var currentValue;\n    var nonNulls = 0;\n    var previousTime;\n    var previousValue = 0;\n    var previousDeltaUp = true;\n\n    for (var i = 0; i < this.datapoints.length; i++) {\n      currentValue = this.datapoints[i][0];\n      currentTime = this.datapoints[i][1];\n\n      // Due to missing values we could have different timeStep all along the series\n      // so we have to find the minimum one (could occur with aggregators such as ZimSum)\n      if (previousTime !== undefined) {\n        let timeStep = currentTime - previousTime;\n        if (timeStep < this.stats.timeStep) {\n          this.stats.timeStep = timeStep;\n        }\n      }\n      previousTime = currentTime;\n\n      if (currentValue === null) {\n        if (ignoreNulls) {\n          continue;\n        }\n        if (nullAsZero) {\n          currentValue = 0;\n        }\n      }\n\n      if (currentValue !== null) {\n        if (_.isNumber(currentValue)) {\n          this.stats.total += currentValue;\n          this.allIsNull = false;\n          nonNulls++;\n        }\n\n        if (currentValue > this.stats.max) {\n          this.stats.max = currentValue;\n        }\n\n        if (currentValue < this.stats.min) {\n          this.stats.min = currentValue;\n        }\n\n        if (this.stats.first === null) {\n          this.stats.first = currentValue;\n        } else {\n          if (previousValue > currentValue) {\n            // counter reset\n            previousDeltaUp = false;\n            if (i === this.datapoints.length - 1) {\n              // reset on last\n              this.stats.delta += currentValue;\n            }\n          } else {\n            if (previousDeltaUp) {\n              this.stats.delta += currentValue - previousValue; // normal increment\n            } else {\n              this.stats.delta += currentValue; // account for counter reset\n            }\n            previousDeltaUp = true;\n          }\n        }\n        previousValue = currentValue;\n\n        if (currentValue < this.stats.logmin && currentValue > 0) {\n          this.stats.logmin = currentValue;\n        }\n\n        if (currentValue !== 0) {\n          this.allIsZero = false;\n        }\n      }\n\n      result.push([currentTime, currentValue]);\n    }\n\n    if (this.stats.max === -Number.MAX_VALUE) {\n      this.stats.max = null;\n    }\n    if (this.stats.min === Number.MAX_VALUE) {\n      this.stats.min = null;\n    }\n\n    if (result.length && !this.allIsNull) {\n      this.stats.avg = this.stats.total / nonNulls;\n      this.stats.current = result[result.length - 1][1];\n      if (this.stats.current === null && result.length > 1) {\n        this.stats.current = result[result.length - 2][1];\n      }\n    }\n    if (this.stats.max !== null && this.stats.min !== null) {\n      this.stats.range = this.stats.max - this.stats.min;\n    }\n    if (this.stats.current !== null && this.stats.first !== null) {\n      this.stats.diff = this.stats.current - this.stats.first;\n    }\n\n    this.stats.count = result.length;\n    return result;\n  }\n\n  updateLegendValues(formater, decimals, scaledDecimals) {\n    this.valueFormater = formater;\n    this.decimals = decimals;\n    this.scaledDecimals = scaledDecimals;\n  }\n\n  formatValue(value) {\n    if (!_.isFinite(value)) {\n      value = null; // Prevent NaN formatting\n    }\n    return this.valueFormater(value, this.decimals, this.scaledDecimals);\n  }\n\n  isMsResolutionNeeded() {\n    for (var i = 0; i < this.datapoints.length; i++) {\n      if (this.datapoints[i][1] !== null) {\n        var timestamp = this.datapoints[i][1].toString();\n        if (timestamp.length === 13 && timestamp % 1000 !== 0) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n\n  hideFromLegend(options) {\n    if (options.hideEmpty && this.allIsNull) {\n      return true;\n    }\n    // ignore series excluded via override\n    if (!this.legend) {\n      return true;\n    }\n\n    // ignore zero series\n    return options.hideZero && this.allIsZero;\n\n  }\n}\n","import 'grafana/vendor/flot/jquery.flot.js';\nimport * as $ from 'jquery';\nimport _ from 'lodash';\n\nexport class ThresholdManager {\n  plot: any;\n  placeholder: any;\n  height: any;\n  thresholds: any;\n  needsCleanup: boolean;\n  hasSecondYAxis: any;\n\n  constructor(private panelCtrl) {}\n\n  getHandleHtml(handleIndex, model, valueStr) {\n    var stateClass = model.colorMode;\n    if (model.colorMode === 'custom') {\n      stateClass = 'critical';\n    }\n\n    return `\n    <div class=\"alert-handle-wrapper alert-handle-wrapper--T${handleIndex}\">\n      <div class=\"alert-handle-line alert-handle-line--${stateClass}\">\n      </div>\n      <div class=\"alert-handle\" data-handle-index=\"${handleIndex}\">\n        <i class=\"icon-gf icon-gf-${stateClass} alert-state-${stateClass}\"></i>\n        <span class=\"alert-handle-value\">${valueStr}<i class=\"alert-handle-grip\"></i></span>\n      </div>\n    </div>`;\n  }\n\n  initDragging(evt) {\n    var handleElem = $(evt.currentTarget).parents('.alert-handle-wrapper');\n    var handleIndex = $(evt.currentTarget).data('handleIndex');\n\n    var lastY = null;\n    var posTop;\n    var plot = this.plot;\n    var panelCtrl = this.panelCtrl;\n    var model = this.thresholds[handleIndex];\n\n    function dragging(evt) {\n      if (lastY === null) {\n        lastY = evt.clientY;\n      } else {\n        var diff = evt.clientY - lastY;\n        posTop = posTop + diff;\n        lastY = evt.clientY;\n        handleElem.css({ top: posTop + diff });\n      }\n    }\n\n    function stopped() {\n      // calculate graph level\n      var graphValue = plot.c2p({ left: 0, top: posTop }).y;\n      graphValue = parseInt(graphValue.toFixed(0));\n      model.value = graphValue;\n\n      handleElem.off('mousemove', dragging);\n      handleElem.off('mouseup', dragging);\n      handleElem.off('mouseleave', dragging);\n\n      // trigger digest and render\n      panelCtrl.$scope.$apply(function() {\n        panelCtrl.render();\n        panelCtrl.events.emit('threshold-changed', {\n          threshold: model,\n          handleIndex: handleIndex,\n        });\n      });\n    }\n\n    lastY = null;\n    posTop = handleElem.position().top;\n\n    handleElem.on('mousemove', dragging);\n    handleElem.on('mouseup', stopped);\n    handleElem.on('mouseleave', stopped);\n  }\n\n  cleanUp() {\n    this.placeholder.find('.alert-handle-wrapper').remove();\n    this.needsCleanup = false;\n  }\n\n  renderHandle(handleIndex, defaultHandleTopPos) {\n    var model = this.thresholds[handleIndex];\n    var value = model.value;\n    var valueStr = value;\n    var handleTopPos = 0;\n\n    // handle no value\n    if (!_.isNumber(value)) {\n      valueStr = '';\n      handleTopPos = defaultHandleTopPos;\n    } else {\n      var valueCanvasPos = this.plot.p2c({ x: 0, y: value });\n      handleTopPos = Math.round(Math.min(Math.max(valueCanvasPos.top, 0), this.height) - 6);\n    }\n\n    var handleElem = $(this.getHandleHtml(handleIndex, model, valueStr));\n    this.placeholder.append(handleElem);\n\n    handleElem.toggleClass('alert-handle-wrapper--no-value', valueStr === '');\n    handleElem.css({ top: handleTopPos });\n  }\n\n  shouldDrawHandles() {\n    return !this.hasSecondYAxis && this.panelCtrl.editingThresholds && this.panelCtrl.panel.thresholds.length > 0;\n  }\n\n  prepare(elem, data) {\n    this.hasSecondYAxis = false;\n    for (var i = 0; i < data.length; i++) {\n      if (data[i].yaxis > 1) {\n        this.hasSecondYAxis = true;\n        break;\n      }\n    }\n\n    if (this.shouldDrawHandles()) {\n      var thresholdMargin = this.panelCtrl.panel.thresholds.length > 1 ? '220px' : '110px';\n      elem.css('margin-right', thresholdMargin);\n    } else if (this.needsCleanup) {\n      elem.css('margin-right', '0');\n    }\n  }\n\n  draw(plot) {\n    this.thresholds = this.panelCtrl.panel.thresholds;\n    this.plot = plot;\n    this.placeholder = plot.getPlaceholder();\n\n    if (this.needsCleanup) {\n      this.cleanUp();\n    }\n\n    if (!this.shouldDrawHandles()) {\n      return;\n    }\n\n    this.height = plot.height();\n\n    if (this.thresholds.length > 0) {\n      this.renderHandle(0, 10);\n    }\n    if (this.thresholds.length > 1) {\n      this.renderHandle(1, this.height - 30);\n    }\n\n    this.placeholder.off('mousedown', '.alert-handle');\n    this.placeholder.on('mousedown', '.alert-handle', this.initDragging.bind(this));\n    this.needsCleanup = true;\n  }\n\n  addFlotOptions(options, panel) {\n    if (!panel.thresholds || panel.thresholds.length === 0) {\n      return;\n    }\n\n    var gtLimit = Infinity;\n    var ltLimit = -Infinity;\n    var i, threshold, other;\n\n    for (i = 0; i < panel.thresholds.length; i++) {\n      threshold = panel.thresholds[i];\n      if (!_.isNumber(threshold.value)) {\n        continue;\n      }\n\n      var limit;\n      switch (threshold.op) {\n        case 'gt': {\n          limit = gtLimit;\n          // if next threshold is less then op and greater value, then use that as limit\n          if (panel.thresholds.length > i + 1) {\n            other = panel.thresholds[i + 1];\n            if (other.value > threshold.value) {\n              limit = other.value;\n              ltLimit = limit;\n            }\n          }\n          break;\n        }\n        case 'lt': {\n          limit = ltLimit;\n          // if next threshold is less then op and greater value, then use that as limit\n          if (panel.thresholds.length > i + 1) {\n            other = panel.thresholds[i + 1];\n            if (other.value < threshold.value) {\n              limit = other.value;\n              gtLimit = limit;\n            }\n          }\n          break;\n        }\n      }\n\n      var fillColor, lineColor;\n      switch (threshold.colorMode) {\n        case 'critical': {\n          fillColor = 'rgba(234, 112, 112, 0.12)';\n          lineColor = 'rgba(237, 46, 24, 0.60)';\n          break;\n        }\n        case 'warning': {\n          fillColor = 'rgba(235, 138, 14, 0.12)';\n          lineColor = 'rgba(247, 149, 32, 0.60)';\n          break;\n        }\n        case 'ok': {\n          fillColor = 'rgba(11, 237, 50, 0.090)';\n          lineColor = 'rgba(6,163,69, 0.60)';\n          break;\n        }\n        case 'custom': {\n          fillColor = threshold.fillColor;\n          lineColor = threshold.lineColor;\n          break;\n        }\n      }\n\n      // fill\n      if (threshold.fill) {\n        options.grid.markings.push({\n          yaxis: { from: threshold.value, to: limit },\n          color: fillColor,\n        });\n      }\n      if (threshold.line) {\n        options.grid.markings.push({\n          yaxis: { from: threshold.value, to: threshold.value },\n          color: lineColor,\n        });\n      }\n    }\n  }\n}\n","\nimport _ from 'lodash';\n\n/**\n * Convert series into array of series values.\n * @param data Array of series\n */\nexport function getSeriesValues(dataList: any[]): number[] {\n  const VALUE_INDEX = 0;\n  let values = [];\n\n  // Count histogam stats\n  for (let i = 0; i < dataList.length; i++) {\n    let series = dataList[i];\n    let datapoints = series.datapoints;\n    for (let j = 0; j < datapoints.length; j++) {\n      if (datapoints[j][VALUE_INDEX] !== null) {\n        values.push(datapoints[j][VALUE_INDEX]);\n      }\n    }\n  }\n\n  return values;\n}\n\n/**\n * Convert array of values into timeseries-like histogram:\n * [[val_1, count_1], [val_2, count_2], ..., [val_n, count_n]]\n * @param values\n * @param bucketSize\n */\nexport function convertValuesToHistogram(values: number[], bucketSize: number): any[] {\n  let histogram = {};\n\n  for (let i = 0; i < values.length; i++) {\n    let bound = getBucketBound(values[i], bucketSize);\n    if (histogram[bound]) {\n      histogram[bound] = histogram[bound] + 1;\n    } else {\n      histogram[bound] = 1;\n    }\n  }\n\n  let histogam_series = _.map(histogram, (count, bound) => {\n    return [Number(bound), count];\n  });\n\n  // Sort by Y axis values\n  return _.sortBy(histogam_series, point => point[0]);\n}\n\nfunction getBucketBound(value: number, bucketSize: number): number {\n  return Math.floor(value / bucketSize) * bucketSize;\n}\n","import 'grafana/vendor/flot/jquery.flot.js';\nimport 'grafana/vendor/flot/jquery.flot.time.js';\nimport 'grafana/vendor/flot/jquery.flot.selection.js';\nimport 'grafana/vendor/flot/jquery.flot.stack.js';\nimport 'grafana/vendor/flot/jquery.flot.stackpercent.js';\nimport 'grafana/vendor/flot/jquery.flot.fillbelow.js';\nimport 'grafana/vendor/flot/jquery.flot.crosshair.js';\nimport 'grafana/vendor/flot/jquery.flot.dashes.js';\nimport 'grafana/vendor/flot/jquery.flot.gauge.js';\nimport 'grafana/vendor/flot/jquery.flot.pie.js';\nimport './vendor/flot/jquery.flot.events';\nimport { EventManager } from './vendor/grafana/event_manager';\nimport { updateLegendValues} from './vendor/grafana/time_series2';\nimport { tickStep } from './vendor/grafana/ticks';\n\nimport * as $ from 'jquery';\nimport _ from 'lodash';\nimport moment from 'moment';\nimport kbn from 'grafana/app/core/utils/kbn';\nimport { appEvents, coreModule } from 'grafana/app/core/core';\nimport GraphTooltip from './graph_tooltip';\nimport { ThresholdManager } from './threshold_manager';\nimport { convertValuesToHistogram, getSeriesValues } from './histogram';\n\n\n/** @ngInject **/\nfunction graphDirective(timeSrv, popoverSrv, contextSrv) {\n  return {\n    restrict: 'A',\n    template: '',\n    link: function(scope, elem) {\n      var ctrl = scope.ctrl;\n      var dashboard = ctrl.dashboard;\n      var panel = ctrl.panel;\n      var annotations = [];\n      var data;\n      var plot;\n      var sortedSeries;\n      var panelWidth = 0;\n      var eventManager = new EventManager(ctrl);\n      var thresholdManager = new ThresholdManager(ctrl);\n      var tooltip = new GraphTooltip(elem, dashboard, scope, function() {\n        return sortedSeries;\n      });\n\n      // panel events\n      ctrl.events.on('panel-teardown', () => {\n        thresholdManager = null;\n\n        if (plot) {\n          plot.destroy();\n          plot = null;\n        }\n      });\n\n      /**\n       * Split graph rendering into two parts.\n       * First, calculate series stats in buildFlotPairs() function. Then legend rendering started\n       * (see ctrl.events.on('render') in legend.ts).\n       * When legend is rendered it emits 'legend-rendering-complete' and graph rendered.\n       */\n      ctrl.events.on('render', renderData => {\n        data = renderData || data;\n        if (!data) {\n          return;\n        }\n\n        annotations = ctrl.annotations || [];\n        buildFlotPairs(data);\n        updateLegendValues(data, panel);\n\n        ctrl.events.emit('render-legend');\n      });\n\n      ctrl.events.on('legend-rendering-complete', () => {\n        render_panel();\n      });\n\n      // global events\n      appEvents.on(\n        'graph-hover',\n        evt => {\n          // ignore other graph hover events if shared tooltip is disabled\n          if (!dashboard.sharedTooltipModeEnabled()) {\n            return;\n          }\n\n          // ignore if we are the emitter\n          if (!plot || evt.panel.id === panel.id || ctrl.otherPanelInFullscreenMode()) {\n            return;\n          }\n\n          tooltip.show(evt.pos);\n        },\n        scope\n      );\n\n      appEvents.on(\n        'graph-hover-clear',\n        (event, info) => {\n          if (plot) {\n            tooltip.clear(plot);\n          }\n        },\n        scope\n      );\n\n      function shouldAbortRender() {\n        if (!data) {\n          return true;\n        }\n\n        if (panelWidth === 0) {\n          return true;\n        }\n\n        return false;\n      }\n\n      function drawHook(plot) {\n        // add left axis labels\n        if (panel.yaxes[0].label && panel.yaxes[0].show) {\n          $(\"<div class='axisLabel left-yaxis-label flot-temp-elem'></div>\")\n            .text(panel.yaxes[0].label)\n            .appendTo(elem);\n        }\n\n        // add right axis labels\n        if (panel.yaxes[1].label && panel.yaxes[1].show) {\n          $(\"<div class='axisLabel right-yaxis-label flot-temp-elem'></div>\")\n            .text(panel.yaxes[1].label)\n            .appendTo(elem);\n        }\n\n        if (ctrl.dataWarning) {\n          $(`<div class=\"datapoints-warning flot-temp-elem\">${ctrl.dataWarning.title}</div>`).appendTo(elem);\n        }\n\n        thresholdManager.draw(plot);\n      }\n\n      function processOffsetHook(plot, gridMargin) {\n        var left = panel.yaxes[0];\n        var right = panel.yaxes[1];\n        if (left.show && left.label) {\n          gridMargin.left = 20;\n        }\n        if (right.show && right.label) {\n          gridMargin.right = 20;\n        }\n\n        // apply y-axis min/max options\n        var yaxis = plot.getYAxes();\n        for (var i = 0; i < yaxis.length; i++) {\n          var axis = yaxis[i];\n          var panelOptions = panel.yaxes[i];\n          axis.options.max = axis.options.max !== null ? axis.options.max : panelOptions.max;\n          axis.options.min = axis.options.min !== null ? axis.options.min : panelOptions.min;\n        }\n      }\n\n      // Series could have different timeSteps,\n      // let's find the smallest one so that bars are correctly rendered.\n      // In addition, only take series which are rendered as bars for this.\n      function getMinTimeStepOfSeries(data) {\n        var min = Number.MAX_VALUE;\n\n        for (let i = 0; i < data.length; i++) {\n          if (!data[i].stats.timeStep) {\n            continue;\n          }\n          if (panel.bars) {\n            if (data[i].bars && data[i].bars.show === false) {\n              continue;\n            }\n          } else {\n            if (typeof data[i].bars === 'undefined' || typeof data[i].bars.show === 'undefined' || !data[i].bars.show) {\n              continue;\n            }\n          }\n\n          if (data[i].stats.timeStep < min) {\n            min = data[i].stats.timeStep;\n          }\n        }\n\n        return min;\n      }\n\n      // Function for rendering panel\n      function render_panel() {\n        panelWidth = elem.width();\n        if (shouldAbortRender()) {\n          return;\n        }\n\n        // give space to alert editing\n        thresholdManager.prepare(elem, data);\n\n        // un-check dashes if lines are unchecked\n        panel.dashes = panel.lines ? panel.dashes : false;\n\n        // Populate element\n        let options: any = buildFlotOptions(panel);\n        prepareXAxis(options, panel);\n        configureYAxisOptions(data, options);\n        thresholdManager.addFlotOptions(options, panel);\n        eventManager.addFlotEvents(annotations, options);\n\n        sortedSeries = sortSeries(data, panel);\n        callPlot(options, true);\n      }\n\n      function buildFlotPairs(data) {\n        for (let i = 0; i < data.length; i++) {\n          let series = data[i];\n          series.data = series.getFlotPairs(series.nullPointMode || panel.nullPointMode);\n\n          // if hidden remove points and disable stack\n          if (ctrl.hiddenSeries[series.alias]) {\n            series.data = [];\n            series.stack = false;\n          }\n        }\n      }\n\n      function prepareXAxis(options, panel) {\n        switch (panel.xaxis.mode) {\n          case 'series': {\n            options.series.bars.barWidth = 0.7;\n            options.series.bars.align = 'center';\n\n            for (let i = 0; i < data.length; i++) {\n              let series = data[i];\n              series.data = [[i + 1, series.stats[panel.xaxis.values[0]]]];\n            }\n\n            addXSeriesAxis(options);\n            break;\n          }\n          case 'histogram': {\n            let bucketSize: number;\n            let values = getSeriesValues(data);\n\n            if (data.length && values.length) {\n              let histMin = _.min(_.map(data, (s:any) => s.stats.min));\n              let histMax = _.max(_.map(data, (s:any) => s.stats.max));\n              let ticks = panel.xaxis.buckets || panelWidth / 50;\n              bucketSize = tickStep(histMin, histMax, ticks);\n              let histogram = convertValuesToHistogram(values, bucketSize);\n              data[0].data = histogram;\n              options.series.bars.barWidth = bucketSize * 0.8;\n            } else {\n              bucketSize = 0;\n            }\n\n            addXHistogramAxis(options, bucketSize);\n            break;\n          }\n          case 'table': {\n            options.series.bars.barWidth = 0.7;\n            options.series.bars.align = 'center';\n            addXTableAxis(options);\n            break;\n          }\n          default: {\n            options.series.bars.barWidth = getMinTimeStepOfSeries(data) / 1.5;\n            addTimeAxis(options);\n            break;\n          }\n        }\n      }\n\n      function callPlot(options, incrementRenderCounter) {\n        try {\n          plot = $.plot(elem, sortedSeries, options);\n          if (ctrl.renderError) {\n            delete ctrl.error;\n            delete ctrl.inspector;\n          }\n        } catch (e) {\n          console.log('flotcharts error', e);\n          ctrl.error = e.message || 'Render Error';\n          ctrl.renderError = true;\n          ctrl.inspector = { error: e };\n        }\n\n        if (incrementRenderCounter) {\n          ctrl.renderingCompleted();\n        }\n      }\n\n      function buildFlotOptions(panel) {\n        const stack = panel.stack ? true : null;\n        let options = {\n          hooks: {\n            draw: [drawHook],\n            processOffset: [processOffsetHook],\n          },\n          legend: { show: false },\n          series: {\n            stackpercent: panel.stack ? panel.percentage : false,\n            stack: panel.percentage ? null : stack,\n            lines: {\n              show: panel.lines,\n              zero: false,\n              fill: translateFillOption(panel.fill),\n              lineWidth: panel.dashes ? 0 : panel.linewidth,\n              steps: panel.steppedLine,\n            },\n            dashes: {\n              show: panel.dashes,\n              lineWidth: panel.linewidth,\n              dashLength: [panel.dashLength, panel.spaceLength],\n            },\n            bars: {\n              show: panel.bars,\n              fill: 1,\n              barWidth: 1,\n              zero: false,\n              lineWidth: 0,\n            },\n            points: {\n              show: panel.points,\n              fill: 1,\n              fillColor: false,\n              radius: panel.points ? panel.pointradius : 2,\n            },\n            shadowSize: 0,\n          },\n          yaxes: [],\n          xaxis: {},\n          grid: {\n            minBorderMargin: 0,\n            markings: [],\n            backgroundColor: null,\n            borderWidth: 0,\n            hoverable: true,\n            clickable: true,\n            color: '#c8c8c8',\n            margin: { left: 0, right: 0 },\n            labelMarginX: 0,\n          },\n          selection: {\n            mode: 'x',\n            color: '#666',\n          },\n          crosshair: {\n            mode: 'x',\n          },\n        };\n        return options;\n      }\n\n      function sortSeries(series, panel) {\n        var sortBy = panel.legend.sort;\n        var sortOrder = panel.legend.sortDesc;\n        var haveSortBy = sortBy !== null || sortBy !== undefined;\n        var haveSortOrder = sortOrder !== null || sortOrder !== undefined;\n        var shouldSortBy = panel.stack && haveSortBy && haveSortOrder;\n        var sortDesc = panel.legend.sortDesc === true ? -1 : 1;\n\n        series.sort((x, y) => {\n          if (x.zindex > y.zindex) {\n            return 1;\n          }\n\n          if (x.zindex < y.zindex) {\n            return -1;\n          }\n\n          if (shouldSortBy) {\n            if (x.stats[sortBy] > y.stats[sortBy]) {\n              return 1 * sortDesc;\n            }\n            if (x.stats[sortBy] < y.stats[sortBy]) {\n              return -1 * sortDesc;\n            }\n          }\n\n          return 0;\n        });\n\n        return series;\n      }\n\n      function translateFillOption(fill) {\n        if (panel.percentage && panel.stack) {\n          return fill === 0 ? 0.001 : fill / 10;\n        } else {\n          return fill / 10;\n        }\n      }\n\n      function addTimeAxis(options) {\n        var ticks = panelWidth / 100;\n        var min = _.isUndefined(ctrl.range.from) ? null : ctrl.range.from.valueOf();\n        var max = _.isUndefined(ctrl.range.to) ? null : ctrl.range.to.valueOf();\n\n        options.xaxis = {\n          timezone: dashboard.getTimezone(),\n          show: panel.xaxis.show,\n          mode: 'time',\n          min: min,\n          max: max,\n          label: 'Datetime',\n          ticks: ticks,\n          timeformat: time_format(ticks, min, max),\n        };\n      }\n\n      function addXSeriesAxis(options) {\n        var ticks = _.map(data, function(series: any, index) {\n          return [index + 1, series.alias];\n        });\n\n        options.xaxis = {\n          timezone: dashboard.getTimezone(),\n          show: panel.xaxis.show,\n          mode: null,\n          min: 0,\n          max: ticks.length + 1,\n          label: 'Datetime',\n          ticks: ticks,\n        };\n      }\n\n      function addXHistogramAxis(options, bucketSize) {\n        let ticks, min, max;\n        let defaultTicks = panelWidth / 50;\n\n        if (data.length && bucketSize) {\n          ticks = _.map(data[0].data, point => point[0]);\n          min = _.min(ticks);\n          max = _.max(ticks);\n\n          // Adjust tick step\n          let tickStep = bucketSize;\n          let ticks_num = Math.floor((max - min) / tickStep);\n          while (ticks_num > defaultTicks) {\n            tickStep = tickStep * 2;\n            ticks_num = Math.ceil((max - min) / tickStep);\n          }\n\n          // Expand ticks for pretty view\n          min = Math.floor(min / tickStep) * tickStep;\n          max = Math.ceil(max / tickStep) * tickStep;\n\n          ticks = [];\n          for (let i = min; i <= max; i += tickStep) {\n            ticks.push(i);\n          }\n        } else {\n          // Set defaults if no data\n          ticks = defaultTicks / 2;\n          min = 0;\n          max = 1;\n        }\n\n        options.xaxis = {\n          timezone: dashboard.getTimezone(),\n          show: panel.xaxis.show,\n          mode: null,\n          min: min,\n          max: max,\n          label: 'Histogram',\n          ticks: ticks,\n        };\n\n        // Use 'short' format for histogram values\n        configureAxisMode(options.xaxis, 'short');\n      }\n\n      function addXTableAxis(options) {\n        var ticks = _.map(data, function(series: any, seriesIndex) {\n          return _.map(series.datapoints, function(point, pointIndex) {\n            var tickIndex = parseInt(seriesIndex) * series.datapoints.length + pointIndex;\n            return [tickIndex + 1, point[1]];\n          });\n        });\n        ticks = _.flatten(ticks);\n\n        options.xaxis = {\n          timezone: dashboard.getTimezone(),\n          show: panel.xaxis.show,\n          mode: null,\n          min: 0,\n          max: ticks.length + 1,\n          label: 'Datetime',\n          ticks: ticks,\n        };\n      }\n\n      function configureYAxisOptions(data, options) {\n        var defaults = {\n          position: 'left',\n          show: panel.yaxes[0].show,\n          index: 1,\n          logBase: panel.yaxes[0].logBase || 1,\n          min: parseNumber(panel.yaxes[0].min),\n          max: parseNumber(panel.yaxes[0].max),\n          tickDecimals: panel.yaxes[0].decimals,\n        };\n\n        options.yaxes.push(defaults);\n\n        if (_.find(data, { yaxis: 2 })) {\n          var secondY = _.clone(defaults);\n          secondY.index = 2;\n          secondY.show = panel.yaxes[1].show;\n          secondY.logBase = panel.yaxes[1].logBase || 1;\n          secondY.position = 'right';\n          secondY.min = parseNumber(panel.yaxes[1].min);\n          secondY.max = parseNumber(panel.yaxes[1].max);\n          secondY.tickDecimals = panel.yaxes[1].decimals;\n          options.yaxes.push(secondY);\n\n          applyLogScale(options.yaxes[1], data);\n          configureAxisMode(options.yaxes[1], panel.percentage && panel.stack ? 'percent' : panel.yaxes[1].format);\n        }\n        applyLogScale(options.yaxes[0], data);\n        configureAxisMode(options.yaxes[0], panel.percentage && panel.stack ? 'percent' : panel.yaxes[0].format);\n      }\n\n      function parseNumber(value: any) {\n        if (value === null || typeof value === 'undefined') {\n          return null;\n        }\n\n        return _.toNumber(value);\n      }\n\n      function applyLogScale(axis, data) {\n        if (axis.logBase === 1) {\n          return;\n        }\n\n        const minSetToZero = axis.min === 0;\n\n        if (axis.min < Number.MIN_VALUE) {\n          axis.min = null;\n        }\n        if (axis.max < Number.MIN_VALUE) {\n          axis.max = null;\n        }\n\n        var series, i;\n        var max = axis.max,\n          min = axis.min;\n\n        for (i = 0; i < data.length; i++) {\n          series = data[i];\n          if (series.yaxis === axis.index) {\n            if (!max || max < series.stats.max) {\n              max = series.stats.max;\n            }\n            if (!min || min > series.stats.logmin) {\n              min = series.stats.logmin;\n            }\n          }\n        }\n\n        axis.transform = function(v) {\n          return v < Number.MIN_VALUE ? null : Math.log(v) / Math.log(axis.logBase);\n        };\n        axis.inverseTransform = function(v) {\n          return Math.pow(axis.logBase, v);\n        };\n\n        if (!max && !min) {\n          max = axis.inverseTransform(+2);\n          min = axis.inverseTransform(-2);\n        } else if (!max) {\n          max = min * axis.inverseTransform(+4);\n        } else if (!min) {\n          min = max * axis.inverseTransform(-4);\n        }\n\n        if (axis.min) {\n          min = axis.inverseTransform(Math.ceil(axis.transform(axis.min)));\n        } else {\n          min = axis.min = axis.inverseTransform(Math.floor(axis.transform(min)));\n        }\n        if (axis.max) {\n          max = axis.inverseTransform(Math.floor(axis.transform(axis.max)));\n        } else {\n          max = axis.max = axis.inverseTransform(Math.ceil(axis.transform(max)));\n        }\n\n        if (!min || min < Number.MIN_VALUE || !max || max < Number.MIN_VALUE) {\n          return;\n        }\n\n        if (Number.isFinite(min) && Number.isFinite(max)) {\n          if (minSetToZero) {\n            axis.min = 0.1;\n            min = 1;\n          }\n\n          axis.ticks = generateTicksForLogScaleYAxis(min, max, axis.logBase);\n          if (minSetToZero) {\n            axis.ticks.unshift(0.1);\n          }\n          if (axis.ticks[axis.ticks.length - 1] > axis.max) {\n            axis.max = axis.ticks[axis.ticks.length - 1];\n          }\n        } else {\n          axis.ticks = [1, 2];\n          delete axis.min;\n          delete axis.max;\n        }\n      }\n\n      function generateTicksForLogScaleYAxis(min, max, logBase) {\n        let ticks = [];\n\n        var nextTick;\n        for (nextTick = min; nextTick <= max; nextTick *= logBase) {\n          ticks.push(nextTick);\n        }\n\n        const maxNumTicks = Math.ceil(ctrl.height / 25);\n        const numTicks = ticks.length;\n        if (numTicks > maxNumTicks) {\n          const factor = Math.ceil(numTicks / maxNumTicks) * logBase;\n          ticks = [];\n\n          for (nextTick = min; nextTick <= max * factor; nextTick *= factor) {\n            ticks.push(nextTick);\n          }\n        }\n\n        return ticks;\n      }\n\n      function configureAxisMode(axis, format) {\n        axis.tickFormatter = function(val, axis) {\n          return kbn.valueFormats[format](val, axis.tickDecimals, axis.scaledDecimals);\n        };\n      }\n\n      function time_format(ticks, min, max) {\n        if (min && max && ticks) {\n          var range = max - min;\n          var secPerTick = range / ticks / 1000;\n          var oneDay = 86400000;\n          var oneYear = 31536000000;\n\n          if (secPerTick <= 45) {\n            return '%H:%M:%S';\n          }\n          if (secPerTick <= 7200 || range <= oneDay) {\n            return '%H:%M';\n          }\n          if (secPerTick <= 80000) {\n            return '%m/%d %H:%M';\n          }\n          if (secPerTick <= 2419200 || range <= oneYear) {\n            return '%m/%d';\n          }\n          return '%Y-%m';\n        }\n\n        return '%H:%M';\n      }\n\n      elem.bind('plotselected', function(event, ranges) {\n        if (panel.xaxis.mode !== 'time') {\n          // Skip if panel in histogram or series mode\n          plot.clearSelection();\n          return;\n        }\n\n        if ((ranges.ctrlKey || ranges.metaKey) && contextSrv.isEditor) {\n          // Add annotation\n          setTimeout(() => {\n            eventManager.updateTime(ranges.xaxis);\n          }, 100);\n        } else {\n          scope.$apply(function() {\n            timeSrv.setTime({\n              from: moment.utc(ranges.xaxis.from),\n              to: moment.utc(ranges.xaxis.to),\n            });\n          });\n        }\n      });\n\n      elem.bind('plotclick', function(event, pos, item) {\n        if (panel.xaxis.mode !== 'time') {\n          // Skip if panel in histogram or series mode\n          return;\n        }\n\n        if ((pos.ctrlKey || pos.metaKey) && contextSrv.isEditor) {\n          // Skip if range selected (added in \"plotselected\" event handler)\n          let isRangeSelection = pos.x !== pos.x1;\n          if (!isRangeSelection) {\n            setTimeout(() => {\n              eventManager.updateTime({ from: pos.x, to: null });\n            }, 100);\n          }\n        }\n      });\n\n      scope.$on('$destroy', function() {\n        tooltip.destroy();\n        elem.off();\n        elem.remove();\n      });\n    },\n  };\n}\n\ncoreModule.directive('grafanaTemplateGraph', graphDirective);\n","import angular from 'angular';\nimport _ from 'lodash';\nimport * as $ from 'jquery';\nimport PerfectScrollbar from 'perfect-scrollbar';\n\nvar module = angular.module('grafana.directives');\n\nmodule.directive('graphTemplateLegend', function(popoverSrv, $timeout) {\n  return {\n    link: function(scope: any, elem) {\n      var firstRender = true;\n      var ctrl = scope.ctrl;\n      var panel = ctrl.panel;\n      var data;\n      var seriesList;\n      var i;\n      var legendScrollbar;\n\n      scope.$on('$destroy', function() {\n        if (legendScrollbar) {\n          legendScrollbar.destroy();\n        }\n      });\n\n      ctrl.events.on('render-legend', () => {\n        data = ctrl.seriesList;\n        if (data) {\n          render();\n        }\n        ctrl.events.emit('legend-rendering-complete');\n      });\n\n      function getSeriesIndexForElement(el) {\n        return el.parents('[data-series-index]').data('series-index');\n      }\n\n      function openColorSelector(e) {\n        // if we clicked inside poup container ignore click\n        if ($(e.target).parents('.popover').length) {\n          return;\n        }\n\n        var el = $(e.currentTarget).find('.fa-minus');\n        var index = getSeriesIndexForElement(el);\n        var series = seriesList[index];\n\n        $timeout(function() {\n          popoverSrv.show({\n            element: el[0],\n            position: 'bottom left',\n            targetAttachment: 'top left',\n            template:\n              '<series-color-picker series=\"series\" onToggleAxis=\"toggleAxis\" onColorChange=\"colorSelected\">' +\n              '</series-color-picker>',\n            openOn: 'hover',\n            model: {\n              series: series,\n              toggleAxis: function() {\n                ctrl.toggleAxis(series);\n              },\n              colorSelected: function(color) {\n                ctrl.changeSeriesColor(series, color);\n              },\n            },\n          });\n        });\n      }\n\n      function toggleSeries(e) {\n        var el = $(e.currentTarget);\n        var index = getSeriesIndexForElement(el);\n        var seriesInfo = seriesList[index];\n        var scrollPosition = $(elem.children('tbody')).scrollTop();\n        ctrl.toggleSeries(seriesInfo, e);\n        $(elem.children('tbody')).scrollTop(scrollPosition);\n      }\n\n      function sortLegend(e) {\n        var el = $(e.currentTarget);\n        var stat = el.data('stat');\n\n        if (stat !== panel.legend.sort) {\n          panel.legend.sortDesc = null;\n        }\n\n        // if already sort ascending, disable sorting\n        if (panel.legend.sortDesc === false) {\n          panel.legend.sort = null;\n          panel.legend.sortDesc = null;\n          ctrl.render();\n          return;\n        }\n\n        panel.legend.sortDesc = !panel.legend.sortDesc;\n        panel.legend.sort = stat;\n        ctrl.render();\n      }\n\n      function getTableHeaderHtml(statName) {\n        if (!panel.legend[statName]) {\n          return '';\n        }\n        var html = '<th class=\"pointer\" data-stat=\"' + statName + '\">' + statName;\n\n        if (panel.legend.sort === statName) {\n          var cssClass = panel.legend.sortDesc ? 'fa fa-caret-down' : 'fa fa-caret-up';\n          html += ' <span class=\"' + cssClass + '\"></span>';\n        }\n\n        return html + '</th>';\n      }\n\n      function render() {\n        if (!ctrl.panel.legend.show) {\n          elem.empty();\n          firstRender = true;\n          return;\n        }\n\n        if (firstRender) {\n          elem.on('click', '.graph-legend-icon', openColorSelector);\n          elem.on('click', '.graph-legend-alias', toggleSeries);\n          elem.on('click', 'th', sortLegend);\n          firstRender = false;\n        }\n\n        seriesList = data;\n\n        elem.empty();\n\n        // Set min-width if side style and there is a value, otherwise remove the CSS propery\n        var width = panel.legend.rightSide && panel.legend.sideWidth ? panel.legend.sideWidth + 'px' : '';\n        elem.css('min-width', width);\n\n        elem.toggleClass('graph-legend-table', panel.legend.alignAsTable === true);\n\n        var tableHeaderElem;\n        if (panel.legend.alignAsTable) {\n          var header = '<tr>';\n          header += '<th colspan=\"2\" style=\"text-align:left\"></th>';\n          if (panel.legend.values) {\n            header += getTableHeaderHtml('min');\n            header += getTableHeaderHtml('max');\n            header += getTableHeaderHtml('avg');\n            header += getTableHeaderHtml('current');\n            header += getTableHeaderHtml('total');\n          }\n          header += '</tr>';\n          tableHeaderElem = $(header);\n        }\n\n        if (panel.legend.sort) {\n          seriesList = _.sortBy(seriesList, function(series) {\n            return series.stats[panel.legend.sort];\n          });\n          if (panel.legend.sortDesc) {\n            seriesList = seriesList.reverse();\n          }\n        }\n\n        // render first time for getting proper legend height\n        if (!panel.legend.rightSide) {\n          renderLegendElement(tableHeaderElem);\n          elem.empty();\n        }\n\n        renderLegendElement(tableHeaderElem);\n      }\n\n      function renderSeriesLegendElements() {\n        let seriesElements = [];\n        for (i = 0; i < seriesList.length; i++) {\n          var series = seriesList[i];\n\n          if (series.hideFromLegend(panel.legend)) {\n            continue;\n          }\n\n          var html = '<div class=\"graph-legend-series';\n\n          if (series.yaxis === 2) {\n            html += ' graph-legend-series--right-y';\n          }\n          if (ctrl.hiddenSeries[series.alias]) {\n            html += ' graph-legend-series-hidden';\n          }\n          html += '\" data-series-index=\"' + i + '\">';\n          html += '<div class=\"graph-legend-icon\">';\n          html += '<i class=\"fa fa-minus pointer\" style=\"color:' + series.color + '\"></i>';\n          html += '</div>';\n\n          html +=\n            '<a class=\"graph-legend-alias pointer\" title=\"' + series.aliasEscaped + '\">' + series.aliasEscaped + '</a>';\n\n          if (panel.legend.values) {\n            var avg = series.formatValue(series.stats.avg);\n            var current = series.formatValue(series.stats.current);\n            var min = series.formatValue(series.stats.min);\n            var max = series.formatValue(series.stats.max);\n            var total = series.formatValue(series.stats.total);\n\n            if (panel.legend.min) {\n              html += '<div class=\"graph-legend-value min\">' + min + '</div>';\n            }\n            if (panel.legend.max) {\n              html += '<div class=\"graph-legend-value max\">' + max + '</div>';\n            }\n            if (panel.legend.avg) {\n              html += '<div class=\"graph-legend-value avg\">' + avg + '</div>';\n            }\n            if (panel.legend.current) {\n              html += '<div class=\"graph-legend-value current\">' + current + '</div>';\n            }\n            if (panel.legend.total) {\n              html += '<div class=\"graph-legend-value total\">' + total + '</div>';\n            }\n          }\n\n          html += '</div>';\n          seriesElements.push($(html));\n        }\n        return seriesElements;\n      }\n\n      function renderLegendElement(tableHeaderElem) {\n        var seriesElements = renderSeriesLegendElements();\n\n        if (panel.legend.alignAsTable) {\n          var tbodyElem = $('<tbody></tbody>');\n          tbodyElem.append(tableHeaderElem);\n          tbodyElem.append(seriesElements);\n          elem.append(tbodyElem);\n        } else {\n          elem.append(seriesElements);\n        }\n\n        if (!panel.legend.rightSide) {\n          addScrollbar();\n        } else {\n          destroyScrollbar();\n        }\n      }\n\n      function addScrollbar() {\n        const scrollbarOptions = {\n          // Number of pixels the content height can surpass the container height without enabling the scroll bar.\n          scrollYMarginOffset: 2,\n          suppressScrollX: true,\n        };\n\n        if (!legendScrollbar) {\n          legendScrollbar = new PerfectScrollbar(elem[0], scrollbarOptions);\n        } else {\n          legendScrollbar.update();\n        }\n      }\n\n      function destroyScrollbar() {\n        if (legendScrollbar) {\n          legendScrollbar.destroy();\n        }\n      }\n    },\n  };\n});\n","import _ from 'lodash';\nimport angular from 'angular';\n\nexport class SeriesOverridesCtrl {\n  /** @ngInject */\n  constructor($scope, $element, popoverSrv) {\n    $scope.overrideMenu = [];\n    $scope.currentOverrides = [];\n    $scope.override = $scope.override || {};\n\n    $scope.addOverrideOption = function(name, propertyName, values) {\n      var option = {\n        text: name,\n        propertyName: propertyName,\n        index: $scope.overrideMenu.lenght,\n        values: values,\n        submenu: _.map(values, function(value) {\n          return { text: String(value), value: value };\n        }),\n      };\n\n      $scope.overrideMenu.push(option);\n    };\n\n    $scope.setOverride = function(item, subItem) {\n      // handle color overrides\n      if (item.propertyName === 'color') {\n        $scope.openColorSelector($scope.override['color']);\n        return;\n      }\n\n      $scope.override[item.propertyName] = subItem.value;\n\n      // automatically disable lines for this series and the fill bellow to series\n      // can be removed by the user if they still want lines\n      if (item.propertyName === 'fillBelowTo') {\n        $scope.override['lines'] = false;\n        $scope.ctrl.addSeriesOverride({ alias: subItem.value, lines: false });\n      }\n\n      $scope.updateCurrentOverrides();\n      $scope.ctrl.render();\n    };\n\n    $scope.colorSelected = function(color) {\n      $scope.override['color'] = color;\n      $scope.updateCurrentOverrides();\n      $scope.ctrl.render();\n    };\n\n    $scope.openColorSelector = function(color) {\n      var fakeSeries = { color: color };\n      popoverSrv.show({\n        element: $element.find('.dropdown')[0],\n        position: 'top center',\n        openOn: 'click',\n        template: '<series-color-picker series=\"series\" onColorChange=\"colorSelected\" />',\n        model: {\n          autoClose: true,\n          colorSelected: $scope.colorSelected,\n          series: fakeSeries,\n        },\n        onClose: function() {\n          $scope.ctrl.render();\n        },\n      });\n    };\n\n    $scope.removeOverride = function(option) {\n      delete $scope.override[option.propertyName];\n      $scope.updateCurrentOverrides();\n      $scope.ctrl.refresh();\n    };\n\n    $scope.getSeriesNames = function() {\n      return _.map($scope.ctrl.seriesList, function(series: any) {\n        return series.alias;\n      });\n    };\n\n    $scope.updateCurrentOverrides = function() {\n      $scope.currentOverrides = [];\n      _.each($scope.overrideMenu, function(option) {\n        var value = $scope.override[option.propertyName];\n        if (_.isUndefined(value)) {\n          return;\n        }\n        $scope.currentOverrides.push({\n          name: option.text,\n          propertyName: option.propertyName,\n          value: String(value),\n        });\n      });\n    };\n\n    $scope.addOverrideOption('Bars', 'bars', [true, false]);\n    $scope.addOverrideOption('Lines', 'lines', [true, false]);\n    $scope.addOverrideOption('Line fill', 'fill', [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]);\n    $scope.addOverrideOption('Line width', 'linewidth', [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]);\n    $scope.addOverrideOption('Null point mode', 'nullPointMode', ['connected', 'null', 'null as zero']);\n    $scope.addOverrideOption('Fill below to', 'fillBelowTo', $scope.getSeriesNames());\n    $scope.addOverrideOption('Staircase line', 'steppedLine', [true, false]);\n    $scope.addOverrideOption('Dashes', 'dashes', [true, false]);\n    $scope.addOverrideOption('Dash Length', 'dashLength', [\n      1,\n      2,\n      3,\n      4,\n      5,\n      6,\n      7,\n      8,\n      9,\n      10,\n      11,\n      12,\n      13,\n      14,\n      15,\n      16,\n      17,\n      18,\n      19,\n      20,\n    ]);\n    $scope.addOverrideOption('Dash Space', 'spaceLength', [\n      1,\n      2,\n      3,\n      4,\n      5,\n      6,\n      7,\n      8,\n      9,\n      10,\n      11,\n      12,\n      13,\n      14,\n      15,\n      16,\n      17,\n      18,\n      19,\n      20,\n    ]);\n    $scope.addOverrideOption('Points', 'points', [true, false]);\n    $scope.addOverrideOption('Points Radius', 'pointradius', [1, 2, 3, 4, 5]);\n    $scope.addOverrideOption('Stack', 'stack', [true, false, 'A', 'B', 'C', 'D']);\n    $scope.addOverrideOption('Color', 'color', ['change']);\n    $scope.addOverrideOption('Y-axis', 'yaxis', [1, 2]);\n    $scope.addOverrideOption('Z-index', 'zindex', [-3, -2, -1, 0, 1, 2, 3]);\n    $scope.addOverrideOption('Transform', 'transform', ['negative-Y']);\n    $scope.addOverrideOption('Legend', 'legend', [true, false]);\n    $scope.updateCurrentOverrides();\n  }\n}\n\nangular.module('grafana.controllers').controller('SeriesOverridesCtrl', SeriesOverridesCtrl);\n","\nimport coreModule from 'grafana/app/core/core_module';\n\nexport class ThresholdFormCtrl {\n  panelCtrl: any;\n  panel: any;\n  disabled: boolean;\n\n  /** @ngInject */\n  constructor($scope) {\n    this.panel = this.panelCtrl.panel;\n\n    if (this.panel.alert) {\n      this.disabled = true;\n    }\n\n    var unbindDestroy = $scope.$on('$destroy', () => {\n      this.panelCtrl.editingThresholds = false;\n      this.panelCtrl.render();\n      unbindDestroy();\n    });\n\n    this.panelCtrl.editingThresholds = true;\n  }\n\n  addThreshold() {\n    this.panel.thresholds.push({\n      value: undefined,\n      colorMode: 'critical',\n      op: 'gt',\n      fill: true,\n      line: true,\n    });\n    this.panelCtrl.render();\n  }\n\n  removeThreshold(index) {\n    this.panel.thresholds.splice(index, 1);\n    this.panelCtrl.render();\n  }\n\n  render() {\n    this.panelCtrl.render();\n  }\n\n  onFillColorChange(index) {\n    return newColor => {\n      this.panel.thresholds[index].fillColor = newColor;\n      this.render();\n    };\n  }\n\n  onLineColorChange(index) {\n    return newColor => {\n      this.panel.thresholds[index].lineColor = newColor;\n      this.render();\n    };\n  }\n}\n\nvar template = `\n<div class=\"gf-form-group\">\n  <h5>Thresholds</h5>\n  <p class=\"muted\" ng-show=\"ctrl.disabled\">\n    Visual thresholds options <strong>disabled.</strong>\n    Visit the Alert tab update your thresholds. <br>\n    To re-enable thresholds, the alert rule must be deleted from this panel.\n  </p>\n  <div ng-class=\"{'thresholds-form-disabled': ctrl.disabled}\">\n    <div class=\"gf-form-inline\" ng-repeat=\"threshold in ctrl.panel.thresholds\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label\">T{{$index+1}}</label>\n      </div>\n\n      <div class=\"gf-form\">\n        <div class=\"gf-form-select-wrapper\">\n          <select class=\"gf-form-input\" ng-model=\"threshold.op\"\n                  ng-options=\"f for f in ['gt', 'lt']\" ng-change=\"ctrl.render()\" ng-disabled=\"ctrl.disabled\"></select>\n        </div>\n        <input type=\"number\" ng-model=\"threshold.value\" class=\"gf-form-input width-8\"\n               ng-change=\"ctrl.render()\" placeholder=\"value\" ng-disabled=\"ctrl.disabled\">\n      </div>\n\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label\">Color</label>\n        <div class=\"gf-form-select-wrapper\">\n          <select class=\"gf-form-input\" ng-model=\"threshold.colorMode\"\n                  ng-options=\"f for f in ['custom', 'critical', 'warning', 'ok']\" ng-change=\"ctrl.render()\" ng-disabled=\"ctrl.disabled\">\n          </select>\n        </div>\n      </div>\n\n      <gf-form-switch class=\"gf-form\" label=\"Fill\" checked=\"threshold.fill\"\n                      on-change=\"ctrl.render()\" ng-disabled=\"ctrl.disabled\"></gf-form-switch>\n\n      <div class=\"gf-form\" ng-if=\"threshold.fill && threshold.colorMode === 'custom'\">\n        <label class=\"gf-form-label\">Fill color</label>\n        <span class=\"gf-form-label\">\n          <color-picker color=\"threshold.fillColor\" onChange=\"ctrl.onFillColorChange($index)\"></color-picker>\n        </span>\n      </div>\n\n      <gf-form-switch class=\"gf-form\" label=\"Line\" checked=\"threshold.line\"\n                      on-change=\"ctrl.render()\" ng-disabled=\"ctrl.disabled\"></gf-form-switch>\n\n      <div class=\"gf-form\" ng-if=\"threshold.line && threshold.colorMode === 'custom'\">\n        <label class=\"gf-form-label\">Line color</label>\n        <span class=\"gf-form-label\">\n          <color-picker color=\"threshold.lineColor\" onChange=\"ctrl.onLineColorChange($index)\"></color-picker>\n        </span>\n      </div>\n\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label\">\n          <a class=\"pointer\" ng-click=\"ctrl.removeThreshold($index)\" ng-disabled=\"ctrl.disabled\">\n            <i class=\"fa fa-trash\"></i>\n          </a>\n        </label>\n      </div>\n    </div>\n\n    <div class=\"gf-form-button-row\">\n      <button class=\"btn btn-inverse\" ng-click=\"ctrl.addThreshold()\" ng-disabled=\"ctrl.disabled\">\n        <i class=\"fa fa-plus\"></i>&nbsp;Add Threshold\n      </button>\n    </div>\n  </div>\n</div>\n`;\n\ncoreModule.directive('graphPanelThresholdForm', function() {\n  return {\n    restrict: 'E',\n    template: template,\n    controller: ThresholdFormCtrl,\n    bindToController: true,\n    controllerAs: 'ctrl',\n    scope: {\n      panelCtrl: '=',\n    },\n  };\n});\n","\nimport _ from 'lodash';\nimport TimeSeries from './vendor/grafana/time_series2';\nimport colors from './vendor/grafana/colors';\n\nexport class DataProcessor {\n  constructor(private panel) {}\n\n  getSeriesList(options) {\n    if (!options.dataList || options.dataList.length === 0) {\n      return [];\n    }\n\n    // auto detect xaxis mode\n    var firstItem;\n    if (options.dataList && options.dataList.length > 0) {\n      firstItem = options.dataList[0];\n      let autoDetectMode = this.getAutoDetectXAxisMode(firstItem);\n      if (this.panel.xaxis.mode !== autoDetectMode) {\n        this.panel.xaxis.mode = autoDetectMode;\n        this.setPanelDefaultsForNewXAxisMode();\n      }\n    }\n\n    switch (this.panel.xaxis.mode) {\n      case 'series':\n      case 'time': {\n        return options.dataList.map((item, index) => {\n          return this.timeSeriesHandler(item, index, options);\n        });\n      }\n      case 'histogram': {\n        let histogramDataList = [\n          {\n            target: 'count',\n            datapoints: _.concat([], _.flatten(_.map(options.dataList, 'datapoints'))),\n          },\n        ];\n        return histogramDataList.map((item, index) => {\n          return this.timeSeriesHandler(item, index, options);\n        });\n      }\n      case 'field': {\n        return this.customHandler(firstItem);\n      }\n    }\n  }\n\n  getAutoDetectXAxisMode(firstItem) {\n    switch (firstItem.type) {\n      case 'docs':\n        return 'field';\n      case 'table':\n        return 'field';\n      default: {\n        if (this.panel.xaxis.mode === 'series') {\n          return 'series';\n        }\n        if (this.panel.xaxis.mode === 'histogram') {\n          return 'histogram';\n        }\n        return 'time';\n      }\n    }\n  }\n\n  setPanelDefaultsForNewXAxisMode() {\n    switch (this.panel.xaxis.mode) {\n      case 'time': {\n        this.panel.bars = false;\n        this.panel.lines = true;\n        this.panel.points = false;\n        this.panel.legend.show = true;\n        this.panel.tooltip.shared = true;\n        this.panel.xaxis.values = [];\n        break;\n      }\n      case 'series': {\n        this.panel.bars = true;\n        this.panel.lines = false;\n        this.panel.points = false;\n        this.panel.stack = false;\n        this.panel.legend.show = false;\n        this.panel.tooltip.shared = false;\n        this.panel.xaxis.values = ['total'];\n        break;\n      }\n      case 'histogram': {\n        this.panel.bars = true;\n        this.panel.lines = false;\n        this.panel.points = false;\n        this.panel.stack = false;\n        this.panel.legend.show = false;\n        this.panel.tooltip.shared = false;\n        break;\n      }\n    }\n  }\n\n  timeSeriesHandler(seriesData, index, options) {\n    var datapoints = seriesData.datapoints || [];\n    var alias = seriesData.target;\n\n    var colorIndex = index % colors.length;\n    var color = this.panel.aliasColors[alias] || colors[colorIndex];\n\n    var series = new TimeSeries({\n      datapoints: datapoints,\n      alias: alias,\n      color: color,\n      unit: seriesData.unit,\n    });\n\n    if (datapoints && datapoints.length > 0) {\n      var last = datapoints[datapoints.length - 1][1];\n      var from = options.range.from;\n      if (last - from < -10000) {\n        series.isOutsideRange = true;\n      }\n    }\n\n    return series;\n  }\n\n  customHandler(dataItem) {\n    let nameField = this.panel.xaxis.name;\n    if (!nameField) {\n      throw {\n        message: 'No field name specified to use for x-axis, check your axes settings',\n      };\n    }\n    return [];\n  }\n\n  validateXAxisSeriesValue() {\n    switch (this.panel.xaxis.mode) {\n      case 'series': {\n        if (this.panel.xaxis.values.length === 0) {\n          this.panel.xaxis.values = ['total'];\n          return;\n        }\n\n        var validOptions = this.getXAxisValueOptions({});\n        var found = _.find(validOptions, { value: this.panel.xaxis.values[0] });\n        if (!found) {\n          this.panel.xaxis.values = ['total'];\n        }\n        return;\n      }\n    }\n  }\n\n  getDataFieldNames(dataList, onlyNumbers) {\n    if (dataList.length === 0) {\n      return [];\n    }\n\n    let fields = [];\n    var firstItem = dataList[0];\n    let fieldParts = [];\n\n    function getPropertiesRecursive(obj) {\n      _.forEach(obj, (value, key) => {\n        if (_.isObject(value)) {\n          fieldParts.push(key);\n          getPropertiesRecursive(value);\n        } else {\n          if (!onlyNumbers || _.isNumber(value)) {\n            let field = fieldParts.concat(key).join('.');\n            fields.push(field);\n          }\n        }\n      });\n      fieldParts.pop();\n    }\n\n    if (firstItem.type === 'docs') {\n      if (firstItem.datapoints.length === 0) {\n        return [];\n      }\n      getPropertiesRecursive(firstItem.datapoints[0]);\n    }\n\n    return fields;\n  }\n\n  getXAxisValueOptions(options) {\n    switch (this.panel.xaxis.mode) {\n      case 'series': {\n        return [\n          { text: 'Avg', value: 'avg' },\n          { text: 'Min', value: 'min' },\n          { text: 'Max', value: 'max' },\n          { text: 'Total', value: 'total' },\n          { text: 'Count', value: 'count' },\n        ];\n      }\n    }\n\n    return [];\n  }\n\n  pluckDeep(obj: any, property: string) {\n    let propertyParts = property.split('.');\n    let value = obj;\n    for (let i = 0; i < propertyParts.length; ++i) {\n      if (value[propertyParts[i]]) {\n        value = value[propertyParts[i]];\n      } else {\n        return undefined;\n      }\n    }\n    return value;\n  }\n}\n","\nimport kbn from 'grafana/app/core/utils/kbn';\n\nexport class AxesEditorCtrl {\n  panel: any;\n  panelCtrl: any;\n  unitFormats: any;\n  logScales: any;\n  xAxisModes: any;\n  xAxisStatOptions: any;\n  xNameSegment: any;\n\n  /** @ngInject **/\n  constructor(private $scope, private $q) {\n    this.panelCtrl = $scope.ctrl;\n    this.panel = this.panelCtrl.panel;\n    this.$scope.ctrl = this;\n\n    this.unitFormats = kbn.getUnitFormats();\n\n    this.logScales = {\n      linear: 1,\n      'log (base 2)': 2,\n      'log (base 10)': 10,\n      'log (base 32)': 32,\n      'log (base 1024)': 1024,\n    };\n\n    this.xAxisModes = {\n      Time: 'time',\n      Series: 'series',\n      Histogram: 'histogram',\n      // 'Data field': 'field',\n    };\n\n    this.xAxisStatOptions = [\n      { text: 'Avg', value: 'avg' },\n      { text: 'Min', value: 'min' },\n      { text: 'Max', value: 'max' },\n      { text: 'Total', value: 'total' },\n      { text: 'Count', value: 'count' },\n      { text: 'Current', value: 'current' },\n    ];\n\n    if (this.panel.xaxis.mode === 'custom') {\n      if (!this.panel.xaxis.name) {\n        this.panel.xaxis.name = 'specify field';\n      }\n    }\n  }\n\n  setUnitFormat(axis, subItem) {\n    axis.format = subItem.value;\n    this.panelCtrl.render();\n  }\n\n  render() {\n    this.panelCtrl.render();\n  }\n\n  xAxisModeChanged() {\n    this.panelCtrl.processor.setPanelDefaultsForNewXAxisMode();\n    this.panelCtrl.onDataReceived(this.panelCtrl.dataList);\n  }\n\n  xAxisValueChanged() {\n    this.panelCtrl.onDataReceived(this.panelCtrl.dataList);\n  }\n\n  getDataFieldNames(onlyNumbers) {\n    var props = this.panelCtrl.processor.getDataFieldNames(this.panelCtrl.dataList, onlyNumbers);\n    var items = props.map(prop => {\n      return { text: prop, value: prop };\n    });\n\n    return this.$q.when(items);\n  }\n}\n\n/** @ngInject **/\nexport function axesEditorComponent() {\n  'use strict';\n  return {\n    restrict: 'E',\n    scope: true,\n    templateUrl: '/public/plugins/graph-panel/partials/axes_editor.html',\n    controller: AxesEditorCtrl,\n  };\n}\n","import './graph';\nimport './legend';\nimport './series_overrides_ctrl';\nimport './thresholds_form';\n\nimport template from './template';\nimport _ from 'lodash';\nimport config from 'grafana/app/core/config';\nimport {alertTab, MetricsPanelCtrl} from 'grafana/app/plugins/sdk';\nimport {DataProcessor} from './data_processor';\nimport {axesEditorComponent} from './axes_editor';\n\nclass GraphCtrl extends MetricsPanelCtrl {\n    static template = template;\n    hiddenSeries: any = {};\n    seriesList: any = [];\n    dataList: any = [];\n    annotations: any = [];\n    alertState: any;\n\n    _panelPath: any;\n\n    annotationsPromise: any;\n    dataWarning: any;\n    colors: any = [];\n    subTabIndex: number;\n    processor: DataProcessor;\n\n    panelDefaults = {\n        // datasource name, null = default datasource\n        datasource: null,\n        // sets client side (flot) or native graphite png renderer (png)\n        renderer: 'flot',\n        yaxes: [\n            {\n                label: null,\n                show: true,\n                logBase: 1,\n                min: null,\n                max: null,\n                format: 'short',\n            },\n            {\n                label: null,\n                show: true,\n                logBase: 1,\n                min: null,\n                max: null,\n                format: 'short',\n            },\n        ],\n        xaxis: {\n            show: true,\n            mode: 'time',\n            name: null,\n            values: [],\n            buckets: null,\n        },\n        // show/hide lines\n        lines: true,\n        // fill factor\n        fill: 1,\n        // line width in pixels\n        linewidth: 1,\n        // show/hide dashed line\n        dashes: false,\n        // length of a dash\n        dashLength: 10,\n        // length of space between two dashes\n        spaceLength: 10,\n        // show hide points\n        points: false,\n        // point radius in pixels\n        pointradius: 5,\n        // show hide bars\n        bars: false,\n        // enable/disable stacking\n        stack: false,\n        // stack percentage mode\n        percentage: false,\n        // legend options\n        legend: {\n            show: true, // disable/enable legend\n            values: false, // disable/enable legend values\n            min: false,\n            max: false,\n            current: false,\n            total: false,\n            avg: false,\n        },\n        // how null points should be handled\n        nullPointMode: 'null',\n        // staircase line mode\n        steppedLine: false,\n        // tooltip options\n        tooltip: {\n            value_type: 'individual',\n            shared: true,\n            sort: 0,\n        },\n        // time overrides\n        timeFrom: null,\n        timeShift: null,\n        // metric queries\n        targets: [{}],\n        // series color overrides\n        aliasColors: {},\n        // other style overrides\n        seriesOverrides: [],\n        thresholds: [],\n    };\n\n    /** @ngInject */\n    constructor($scope, $injector, private annotationsSrv) {\n        super($scope, $injector);\n        _.defaults(this.panel, this.panelDefaults);\n        _.defaults(this.panel.tooltip, this.panelDefaults.tooltip);\n        _.defaults(this.panel.legend, this.panelDefaults.legend);\n        _.defaults(this.panel.xaxis, this.panelDefaults.xaxis);\n\n        this.processor = new DataProcessor(this.panel);\n\n        this.events.on('render', this.onRender.bind(this));\n        this.events.on('data-received', this.onDataReceived.bind(this));\n        this.events.on('data-error', this.onDataError.bind(this));\n        this.events.on('data-snapshot-load', this.onDataSnapshotLoad.bind(this));\n        this.events.on('init-edit-mode', this.onInitEditMode.bind(this));\n        this.events.on('init-panel-actions', this.onInitPanelActions.bind(this));\n    }\n\n    onInitEditMode() {\n        var partialPath = this.panelPath + 'partials';\n        this.addEditorTab('Axes', axesEditorComponent, 2);\n        this.addEditorTab('Legend', `${partialPath}/tab_legend.html`, 3);\n        this.addEditorTab('Display', `${partialPath}/tab_display.html`, 4);\n        if (config.alertingEnabled) {\n            this.addEditorTab('Alert', alertTab, 5);\n        }\n\n        this.subTabIndex = 0;\n    }\n\n    onInitPanelActions(actions) {\n        actions.push({ text: 'Export CSV', click: 'ctrl.exportCsv()' });\n        actions.push({ text: 'Toggle legend', click: 'ctrl.toggleLegend()' });\n    }\n\n    issueQueries(datasource) {\n        this.annotationsPromise = this.annotationsSrv.getAnnotations({\n            dashboard: this.dashboard,\n            panel: this.panel,\n            range: this.range,\n        });\n        return super.issueQueries(datasource);\n    }\n\n    zoomOut(evt) {\n        this.publishAppEvent('zoom-out', 2);\n    }\n\n    onDataSnapshotLoad(snapshotData) {\n        this.annotationsPromise = this.annotationsSrv.getAnnotations({\n            dashboard: this.dashboard,\n            panel: this.panel,\n            range: this.range,\n        });\n        this.onDataReceived(snapshotData);\n    }\n\n    onDataError(err) {\n        this.seriesList = [];\n        this.annotations = [];\n        this.render([]);\n    }\n\n    onDataReceived(dataList) {\n        this.dataList = dataList;\n        this.seriesList = this.processor.getSeriesList({\n            dataList: dataList,\n            range: this.range,\n        });\n\n        this.dataWarning = null;\n        const datapointsCount = this.seriesList.reduce((prev, series) => {\n            return prev + series.datapoints.length;\n        }, 0);\n\n        if (datapointsCount === 0) {\n            this.dataWarning = {\n                title: 'No data points',\n                tip: 'No datapoints returned from data query',\n            };\n        } else {\n            for (let series of this.seriesList) {\n                if (series.isOutsideRange) {\n                    this.dataWarning = {\n                        title: 'Data points outside time range',\n                        tip: 'Can be caused by timezone mismatch or missing time filter in query',\n                    };\n                    break;\n                }\n            }\n        }\n\n        this.annotationsPromise.then(\n            result => {\n                this.loading = false;\n                this.alertState = result.alertState;\n                this.annotations = result.annotations;\n                this.render(this.seriesList);\n            },\n            () => {\n                this.loading = false;\n                this.render(this.seriesList);\n            }\n        );\n    }\n\n    onRender() {\n        if (!this.seriesList) {\n            return;\n        }\n\n        for (let series of this.seriesList) {\n            series.applySeriesOverrides(this.panel.seriesOverrides);\n\n            if (series.unit) {\n                this.panel.yaxes[series.yaxis - 1].format = series.unit;\n            }\n        }\n    }\n\n    changeSeriesColor(series, color) {\n        series.color = color;\n        this.panel.aliasColors[series.alias] = series.color;\n        this.render();\n    }\n\n    toggleSeries(serie, event) {\n        if (event.ctrlKey || event.metaKey || event.shiftKey) {\n            if (this.hiddenSeries[serie.alias]) {\n                delete this.hiddenSeries[serie.alias];\n            } else {\n                this.hiddenSeries[serie.alias] = true;\n            }\n        } else {\n            this.toggleSeriesExclusiveMode(serie);\n        }\n        this.render();\n    }\n\n    toggleSeriesExclusiveMode(serie) {\n        var hidden = this.hiddenSeries;\n\n        if (hidden[serie.alias]) {\n            delete hidden[serie.alias];\n        }\n\n        // check if every other series is hidden\n        var alreadyExclusive = _.every(this.seriesList, value => {\n            if (value.alias === serie.alias) {\n                return true;\n            }\n\n            return hidden[value.alias];\n        });\n\n        if (alreadyExclusive) {\n            // remove all hidden series\n            _.each(this.seriesList, value => {\n                delete this.hiddenSeries[value.alias];\n            });\n        } else {\n            // hide all but this serie\n            _.each(this.seriesList, value => {\n                if (value.alias === serie.alias) {\n                    return;\n                }\n\n                this.hiddenSeries[value.alias] = true;\n            });\n        }\n    }\n\n    toggleAxis(info) {\n        var override = _.find(this.panel.seriesOverrides, { alias: info.alias });\n        if (!override) {\n            override = { alias: info.alias };\n            this.panel.seriesOverrides.push(override);\n        }\n        //info.yaxis = override.yaxis = info.yaxis === 2 ? 1 : 2;\n        this.render();\n    }\n\n    addSeriesOverride(override) {\n        this.panel.seriesOverrides.push(override || {});\n    }\n\n    removeSeriesOverride(override) {\n        this.panel.seriesOverrides = _.without(this.panel.seriesOverrides, override);\n        this.render();\n    }\n\n    toggleLegend() {\n        this.panel.legend.show = !this.panel.legend.show;\n        this.refresh();\n    }\n\n    legendValuesOptionChanged() {\n        var legend = this.panel.legend;\n        legend.values = legend.min || legend.max || legend.avg || legend.current || legend.total;\n        this.render();\n    }\n\n    exportCsv() {\n        var scope = this.$scope.$new(true);\n        scope.seriesList = this.seriesList;\n        this.publishAppEvent('show-modal', {\n            templateHtml: '<export-data-modal data=\"seriesList\"></export-data-modal>',\n            scope,\n            modalClass: 'modal--narrow',\n        });\n    }\n\n    get panelPath() {\n        this.pluginId = \"graph-panel\";\n        if (this._panelPath === undefined) {\n            this._panelPath = '/public/plugins/' + this.pluginId + '/';\n        }\n        return this._panelPath;\n    }\n}\n\nexport {GraphCtrl, GraphCtrl as PanelCtrl};\n\n\n","import {GraphCtrl} from \"../graph/module\";\n\nclass GraphPredictionCtrl extends GraphCtrl{\n    /** @ngInject*/\n    constructor($scope, $injector, annotationsSrv) {\n        super($scope, $injector, annotationsSrv);\n        $scope.ctrl.panel.title = \"Carbon12 Graph Prediction\";\n    }\n}\n\nGraphPredictionCtrl.templateUrl = 'public/plugins/predire-in-grafana/panels/graph-prediction/module.html';\nexport {\n    GraphPredictionCtrl as PanelCtrl\n};\n"],"sourceRoot":""}