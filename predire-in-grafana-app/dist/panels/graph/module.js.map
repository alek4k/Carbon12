{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"lodash\"","webpack:///external \"jquery\"","webpack:///external \"app/core/utils/kbn\"","webpack:///external \"moment\"","webpack:///external \"angular\"","webpack:///../node_modules/tinycolor2/tinycolor.js","webpack:///external \"app/core/core\"","webpack:///external \"app/plugins/sdk\"","webpack:///external \"vendor/flot/jquery.flot.js\"","webpack:///./panels/graph/graph_tooltip.js","webpack:///../node_modules/perfect-scrollbar/dist/perfect-scrollbar.esm.js","webpack:///external \"app/core/core_module\"","webpack:///external \"app/core/config\"","webpack:///external \"vendor/flot/jquery.flot.time.js\"","webpack:///external \"vendor/flot/jquery.flot.selection.js\"","webpack:///external \"vendor/flot/jquery.flot.stack.js\"","webpack:///external \"vendor/flot/jquery.flot.stackpercent.js\"","webpack:///external \"vendor/flot/jquery.flot.fillbelow.js\"","webpack:///external \"vendor/flot/jquery.flot.crosshair.js\"","webpack:///external \"vendor/flot/jquery.flot.dashes.js\"","webpack:///external \"vendor/flot/jquery.flot.gauge.js\"","webpack:///external \"vendor/flot/jquery.flot.pie.js\"","webpack:///./panels/graph/vendor/flot/jquery.flot.events.js","webpack:///../node_modules/tether-drop/dist/js/drop.js","webpack:///../node_modules/tether/dist/js/tether.js","webpack:///./panels/graph/vendor/grafana/event.ts","webpack:///./panels/graph/vendor/grafana/colors.ts","webpack:///./panels/graph/vendor/grafana/event_manager.ts","webpack:///./panels/graph/vendor/grafana/ticks.ts","webpack:///./panels/graph/vendor/grafana/time_series2.ts","webpack:///./panels/graph/threshold_manager.ts","webpack:///./panels/graph/histogram.ts","webpack:///./panels/graph/graph.ts","webpack:///./panels/graph/legend.ts","webpack:///./panels/graph/series_overrides_ctrl.ts","webpack:///./panels/graph/thresholds_form.ts","webpack:///./panels/graph/data_processor.ts","webpack:///./panels/graph/axes_editor.ts","webpack:///./panels/graph/module.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__1__","__WEBPACK_EXTERNAL_MODULE__2__","__WEBPACK_EXTERNAL_MODULE__3__","__WEBPACK_EXTERNAL_MODULE__4__","Math","trimLeft","trimRight","tinyCounter","mathRound","round","mathMin","min","mathMax","max","mathRandom","random","tinycolor","color","opts","this","rgb","g","b","a","v","ok","format","replace","toLowerCase","match","named","names","matchers","exec","rgba","hsl","h","hsla","hsv","hsva","hex8","parseIntFromHex","convertHexToDecimal","hex6","hex4","hex3","stringInputToObject","isValidCSSUnit","bound01","String","substr","convertToPercentage","floor","f","q","mod","hsvToRgb","hue2rgb","hslToRgb","boundAlpha","inputToRGB","_originalInput","_r","_g","_b","_a","_roundA","_format","_gradientType","gradientType","_ok","_tc_id","rgbToHsl","rgbToHsv","rgbToHex","allow3Char","hex","pad2","toString","charAt","join","rgbaToArgbHex","convertDecimalToHex","desaturate","amount","toHsl","clamp01","saturate","greyscale","lighten","brighten","toRgb","darken","spin","hue","complement","triad","tetrad","splitcomplement","analogous","results","slices","part","ret","push","monochromatic","toHsv","modification","isDark","getBrightness","isLight","isValid","getOriginalInput","getFormat","getAlpha","getLuminance","RsRGB","GsRGB","BsRGB","pow","setAlpha","toHsvString","toHslString","toHex","toHexString","toHex8","allow4Char","rgbaToHex","toHex8String","toRgbString","toPercentageRgb","toPercentageRgbString","toName","hexNames","toFilter","secondColor","hex8String","secondHex8String","formatSet","formattedString","hasAlpha","clone","_applyModification","fn","args","apply","concat","slice","arguments","_applyCombination","fromRatio","newColor","equals","color1","color2","mix","rgb1","rgb2","readability","c1","c2","isReadable","wcag2","wcag2Parms","out","parms","level","size","toUpperCase","validateWCAG2Parms","mostReadable","baseColor","colorList","includeFallbackColors","bestColor","bestScore","length","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","burntsienna","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","flipped","flip","parseFloat","isNaN","indexOf","isOnePointZero","processPercent","isPercentage","parseInt","abs","val","CSS_UNIT","PERMISSIVE_MATCH3","PERMISSIVE_MATCH4","RegExp","define","__WEBPACK_EXTERNAL_MODULE__6__","__WEBPACK_EXTERNAL_MODULE__7__","__WEBPACK_EXTERNAL_MODULE__8__","$","core","appEvents","elem","dashboard","scope","getSeriesFn","self","panel","ctrl","$tooltip","destroy","remove","findHoverIndexFromDataPoints","posX","series","last","ps","datapoints","pointsize","initial","len","points","j","lines","steps","findHoverIndexFromData","middle","lower","upper","data","renderAndShow","absoluteTime","innerHtml","pos","xMode","html","place_tt","pageX","pageY","getMultiSeriesPlotHoverInfo","seriesList","hoverIndex","hoverDistance","pointTime","yaxis","minDistance","minTime","last_value","legend","hideEmpty","allIsNull","hideZero","allIsZero","hidden","x","stack","tooltip","value_type","label","aliasEscaped","time","distance","index","mouseleave","shared","plot","detach","unhighlight","emit","event","item","show","panelRelY","offset","top","height","clear","clearCrosshair","group","hoverInfo","seriesHtml","tooltipFormat","plotData","getData","getXAxes","options","allSeriesMode","pointOffset","Number","left","width","window","scrollTop","innerHeight","setCrosshair","sharedCrosshairModeOnly","hasMsResolution","seriesHoverInfo","formatDate","sort","highlightClass","seriesIndex","formatValue","highlight","datapoint","element","getComputedStyle","set","obj","style","div","className","document","createElement","elMatches","Element","matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","query","Error","parentNode","removeChild","queryChildren","selector","Array","filter","children","child","cls","thumb","rail","consuming","focus","clicking","active","scrolling","scrollingClassTimeout","y","addScrollingClass","classList","contains","clearTimeout","add","removeScrollingClass","setTimeout","isAlive","settings","scrollingThreshold","EventElement","handlers","prototypeAccessors","isEmpty","configurable","eventName","handler","addEventListener","unbind","target","this$1","removeEventListener","unbindAll","keys","every","defineProperties","EventManager","eventElements","createEvent","CustomEvent","evt","initCustomEvent","undefined","processScrollDiff","axis","diff","useScrollingClass","forceFireReachEvent","fields","ref","contentHeight","containerHeight","up","down","reach","dispatchEvent","setScrollingClassInstantly","processScrollDiff$1","toInt","eventElement","ee","splice","forEach","e","once","onceHandler","env","isWebKit","documentElement","supportsTouch","navigator","maxTouchPoints","DocumentTouch","supportsIePointer","msMaxTouchPoints","isChrome","test","userAgent","updateGeometry","roundedScrollTop","rect","getBoundingClientRect","containerWidth","ceil","contentWidth","scrollWidth","scrollHeight","scrollbarXRail","el","appendChild","scrollbarYRail","suppressScrollX","scrollXMarginOffset","scrollbarXActive","railXWidth","railXMarginWidth","railXRatio","scrollbarXWidth","getThumbSize","scrollbarXLeft","negativeScrollAdjustment","scrollLeft","suppressScrollY","scrollYMarginOffset","scrollbarYActive","railYHeight","railYMarginHeight","railYRatio","scrollbarYHeight","scrollbarYTop","xRailOffset","isRtl","isScrollbarXUsingBottom","bottom","scrollbarXBottom","scrollbarXTop","yRailOffset","isScrollbarYUsingRight","right","scrollbarYRight","scrollbarYOuterWidth","scrollbarYLeft","scrollbarX","railBorderXWidth","scrollbarY","railBorderYWidth","updateCss","thumbSize","minScrollbarLength","maxScrollbarLength","bindMouseScrollHandler","startingScrollTop","startingMousePageY","scrollBy","mouseMoveHandler","touches","stopPropagation","preventDefault","mouseUpHandler","ownerDocument","bindMoves","touchMode","direction","pageYOffset","pageXOffset","keyboard","isDefaultPrevented","defaultPrevented","activeElement","tagName","contentDocument","shadowRoot","deltaX","deltaY","which","metaKey","altKey","shiftKey","wheelPropagation","shouldPreventDefault","wheel","mousewheelHandler","wheelDeltaX","wheelDeltaY","deltaMode","wheelDelta","getDeltaFromEvent","querySelector","cursor","overflowY","maxScrollTop","clientHeight","overflowX","maxScrollLeft","clientWidth","shouldBeConsumedByChild","shouldPrevent","useBothWheelAxes","wheelSpeed","isTop","isBottom","offsetHeight","isLeft","isRight","offsetWidth","ctrlKey","onwheel","onmousewheel","touch","startOffset","startTime","speed","easingLoop","touchStart","touchMove","touchEnd","PointerEvent","MSPointerEvent","applyTouchMove","differenceX","differenceY","getTouch","targetTouches","shouldHandle","pointerType","buttons","MSPOINTER_TYPE_MOUSE","Date","getTime","clearInterval","currentOffset","currentTime","timeGap","magnitudeX","magnitudeY","scrollY","swipeEasing","setInterval","isInitialized","PerfectScrollbar","userSettings","nodeName","result","originalScrollLeft","blur","isNegativeScroll","setAttribute","railXStyle","borderLeftWidth","borderRightWidth","display","marginLeft","marginRight","railYStyle","styles","paddingLeft","paddingRight","outerWidth","borderTopWidth","borderBottomWidth","marginTop","marginBottom","handlerName","lastScrollTop","lastScrollLeft","onScroll","update","removePsClasses","split","__WEBPACK_EXTERNAL_MODULE__11__","__WEBPACK_EXTERNAL_MODULE__12__","__WEBPACK_EXTERNAL_MODULE__14__","__WEBPACK_EXTERNAL_MODULE__15__","__WEBPACK_EXTERNAL_MODULE__16__","__WEBPACK_EXTERNAL_MODULE__17__","__WEBPACK_EXTERNAL_MODULE__18__","__WEBPACK_EXTERNAL_MODULE__19__","__WEBPACK_EXTERNAL_MODULE__20__","__WEBPACK_EXTERNAL_MODULE__21__","__WEBPACK_EXTERNAL_MODULE__22__","_","angular","Drop","createAnnotationToolip","injector","content","innerHTML","invoke","$compile","$rootScope","eventManager","getOptions","events","manager","tmpScope","$new","onEdit","editEvent","$digest","$destroy","drop","position","classes","openOn","hoverCloseDelay","tetherOptions","constraints","to","pin","attachment","open","on","markerElementToAttachTo","createEditPopover","editorOpen","editorOpened","panelCtrl","close","editorClosed","DrawableEvent","drawFunc","clearFunc","moveFunc","_object","_drawFunc","_clearFunc","_moveFunc","_position","_width","_height","draw","getObject","moveTo","VisualEvent","drawableEvent","_options","_drawableEvent","_hidden","visual","getParent","isHidden","hide","unhide","EventMarkers","_events","_types","_plot","eventsEnabled","getEvents","setTypes","types","setupEvents","that","parts","partition","regions","each","ve","_buildDiv","vre","_buildRegDiv","ao","bo","drawEvents","_insidePlot","updateEvents","getPlotOffset","xaxis","p2c","_clearEvents","markerSize","markerShow","lineStyle","lineWidth","markerTooltip","container","getPlaceholder","axes","getAxes","used","yaxis2","eventTypeId","eventType","topOffset","eventSectionHeight","line","css","appendTo","marker","editModel","hover","clearSelection","regionWidth","timeFrom","timeEnd","timeTo","region","xc","plugins","init","eventMarkers","hideEvents","showEvents","setEvents","hooks","processOptions","version","Tether","_bind","Function","_slicedToArray","arr","isArray","iterator","_arr","_n","_d","_e","_s","_i","next","done","err","sliceIterator","TypeError","_createClass","props","descriptor","writable","Constructor","protoProps","staticProps","_get","_x2","_x3","_x4","_again","receiver","desc","getOwnPropertyDescriptor","parent","getPrototypeOf","_classCallCheck","instance","_inherits","subClass","superClass","constructor","setPrototypeOf","__proto__","_Tether$Utils","Utils","extend","addClass","removeClass","hasClass","Evented","sortAttach","str","_str$split","_str$split2","first","second","_ref","removeFromArray","clickEvents","transitionEndEvents","transitionEndEvent","_name","MIRROR_ATTACH","center","allDrops","createContext","_len","_key","DropInstance","drops","defaults","defaultOptions","classPrefix","beforeClose","constrainToScrollParent","constrainToWindow","openDelay","closeDelay","focusDelay","blurDelay","hoverOpenDelay","updateBodyClasses","anyOpen","isOpened","body","_Evented","dataPrefix","contentAttr","getAttribute","attrsOverride","override","addTargetClasses","_boundEvents","bindMethods","setupElements","setupTether","transitionEndHandler","_transitionEndHandler","_this","generateAndSetContent","contentElementOrHTML","dropAttach","targetAttachment","targetOffset","enabled","tether","_this2","openHandler","toggle","closeHandler","clickEvent","_on","inTimeout","outTimeout","inHandler","type","outHandler","_this3","enable","trigger","currentTarget","shouldClose","isClosing","beforeCloseHandler","disable","_boundEvents$i","_event","TetherBase","zeroElement","getActualBoundingClientRect","node","boundingRect","k","_frameElement","defaultView","frameElement","frameRect","getScrollParents","parents","nodeType","_style","overflow","id","uniqueId","zeroPosCache","removeUtilElements","getBounds","doc","docEl","box","origin","defer","getOrigin","clientTop","clientLeft","getOffsetParent","offsetParent","_scrollBarSize","getScrollBarSize","inner","outer","pointerEvents","visibility","widthContained","widthScroll","trim","regex","getClassName","setClassName","SVGAnimatedString","baseVal","updateClasses","all","deferred","flush","pop","ctx","bindings","_bindings$event$i","context","_TetherBase$Utils","within","lastCall","lastDuration","pendingTimeout","tick","transformKey","transforms","tethers","now","performance","MIRROR_LR","MIRROR_TB","OFFSET_MAP","autoToFixedAttachment","relativeToAttachment","attachmentToOffset","addOffset","offsets","offsetToPx","parseOffset","_value$split","_value$split2","parseAttachment","TetherClass","_x6","_x7","_x8","history","setOptions","initialize","targetModifier","jquery","getClass","scrollParents","innerWidth","bounds","scrollBottom","fitAdj","scrollPercentage","_cache","_this4","_this5","elementAttach","targetAttach","_this6","_addAttachClasses","side","_this7","flushChanges","clearCache","updateAttachClasses","elementPos","cache","lastSize","_lastSize","targetPos","getTargetBounds","targetSize","manualOffset","manualTargetOffset","_module2","scrollbarSize","page","viewport","win","parentElement","optimizations","moveElement","offsetPosition","offsetParentStyle","offsetParentSize","offsetBorder","move","unshift","_this8","same","found","point","transcribe","_same","_pos","gpu","yPos","xPos","devicePixelRatio","moved","bodyElement","offsetParentIsBody","currentNode","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","writeCSS","write","BOUNDS_FORMAT","targetHeight","targetWidth","allClasses","constraint","outOfBoundsClass","pinnedClass","addClasses","tAttachment","eAttachment","changeAttachX","changeAttachY","_attachment$split","_attachment$split2","getBoundingRect","map","oobClass","pinned","oob","abutted","targetPosSide","shift","shiftTop","shiftLeft","_shift2","colors","sortedHSLColors","annotations","source","flotOptions","datamax","datamin","delta","alias","overrides","dashes","nullPointMode","zindex","fillBelowTo","transform","stats","MAX_VALUE","fillStyle","timeStep","current","timestamp","lastY","graphValue","handleElem","off","dragging","placeholder","thresholds","threshold","bucketSize","panelOptions","isUndefined","range","valueOf","ticks","pointIndex","inverseTransform","nextTick","numTicks","fill","bars","dataList","histogram","bound","parseNumber","yaxes","secondY","utc","ranges","stat","statName","tbodyElem","append","legendScrollbar","header","getTableHeaderHtml","$scope","addOverrideOption","unbindDestroy","render","text","loading","toggleSeriesExclusiveMode"],"mappings":"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","file":"panels/graph/module.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 26);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","module.exports = __WEBPACK_EXTERNAL_MODULE__2__;","module.exports = __WEBPACK_EXTERNAL_MODULE__3__;","module.exports = __WEBPACK_EXTERNAL_MODULE__4__;","// TinyColor v1.4.1\r\n// https://github.com/bgrins/TinyColor\r\n// Brian Grinstead, MIT License\r\n\r\n(function(Math) {\r\n\r\nvar trimLeft = /^\\s+/,\r\n    trimRight = /\\s+$/,\r\n    tinyCounter = 0,\r\n    mathRound = Math.round,\r\n    mathMin = Math.min,\r\n    mathMax = Math.max,\r\n    mathRandom = Math.random;\r\n\r\nfunction tinycolor (color, opts) {\r\n\r\n    color = (color) ? color : '';\r\n    opts = opts || { };\r\n\r\n    // If input is already a tinycolor, return itself\r\n    if (color instanceof tinycolor) {\r\n       return color;\r\n    }\r\n    // If we are called as a function, call using new instead\r\n    if (!(this instanceof tinycolor)) {\r\n        return new tinycolor(color, opts);\r\n    }\r\n\r\n    var rgb = inputToRGB(color);\r\n    this._originalInput = color,\r\n    this._r = rgb.r,\r\n    this._g = rgb.g,\r\n    this._b = rgb.b,\r\n    this._a = rgb.a,\r\n    this._roundA = mathRound(100*this._a) / 100,\r\n    this._format = opts.format || rgb.format;\r\n    this._gradientType = opts.gradientType;\r\n\r\n    // Don't let the range of [0,255] come back in [0,1].\r\n    // Potentially lose a little bit of precision here, but will fix issues where\r\n    // .5 gets interpreted as half of the total, instead of half of 1\r\n    // If it was supposed to be 128, this was already taken care of by `inputToRgb`\r\n    if (this._r < 1) { this._r = mathRound(this._r); }\r\n    if (this._g < 1) { this._g = mathRound(this._g); }\r\n    if (this._b < 1) { this._b = mathRound(this._b); }\r\n\r\n    this._ok = rgb.ok;\r\n    this._tc_id = tinyCounter++;\r\n}\r\n\r\ntinycolor.prototype = {\r\n    isDark: function() {\r\n        return this.getBrightness() < 128;\r\n    },\r\n    isLight: function() {\r\n        return !this.isDark();\r\n    },\r\n    isValid: function() {\r\n        return this._ok;\r\n    },\r\n    getOriginalInput: function() {\r\n      return this._originalInput;\r\n    },\r\n    getFormat: function() {\r\n        return this._format;\r\n    },\r\n    getAlpha: function() {\r\n        return this._a;\r\n    },\r\n    getBrightness: function() {\r\n        //http://www.w3.org/TR/AERT#color-contrast\r\n        var rgb = this.toRgb();\r\n        return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\r\n    },\r\n    getLuminance: function() {\r\n        //http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\r\n        var rgb = this.toRgb();\r\n        var RsRGB, GsRGB, BsRGB, R, G, B;\r\n        RsRGB = rgb.r/255;\r\n        GsRGB = rgb.g/255;\r\n        BsRGB = rgb.b/255;\r\n\r\n        if (RsRGB <= 0.03928) {R = RsRGB / 12.92;} else {R = Math.pow(((RsRGB + 0.055) / 1.055), 2.4);}\r\n        if (GsRGB <= 0.03928) {G = GsRGB / 12.92;} else {G = Math.pow(((GsRGB + 0.055) / 1.055), 2.4);}\r\n        if (BsRGB <= 0.03928) {B = BsRGB / 12.92;} else {B = Math.pow(((BsRGB + 0.055) / 1.055), 2.4);}\r\n        return (0.2126 * R) + (0.7152 * G) + (0.0722 * B);\r\n    },\r\n    setAlpha: function(value) {\r\n        this._a = boundAlpha(value);\r\n        this._roundA = mathRound(100*this._a) / 100;\r\n        return this;\r\n    },\r\n    toHsv: function() {\r\n        var hsv = rgbToHsv(this._r, this._g, this._b);\r\n        return { h: hsv.h * 360, s: hsv.s, v: hsv.v, a: this._a };\r\n    },\r\n    toHsvString: function() {\r\n        var hsv = rgbToHsv(this._r, this._g, this._b);\r\n        var h = mathRound(hsv.h * 360), s = mathRound(hsv.s * 100), v = mathRound(hsv.v * 100);\r\n        return (this._a == 1) ?\r\n          \"hsv(\"  + h + \", \" + s + \"%, \" + v + \"%)\" :\r\n          \"hsva(\" + h + \", \" + s + \"%, \" + v + \"%, \"+ this._roundA + \")\";\r\n    },\r\n    toHsl: function() {\r\n        var hsl = rgbToHsl(this._r, this._g, this._b);\r\n        return { h: hsl.h * 360, s: hsl.s, l: hsl.l, a: this._a };\r\n    },\r\n    toHslString: function() {\r\n        var hsl = rgbToHsl(this._r, this._g, this._b);\r\n        var h = mathRound(hsl.h * 360), s = mathRound(hsl.s * 100), l = mathRound(hsl.l * 100);\r\n        return (this._a == 1) ?\r\n          \"hsl(\"  + h + \", \" + s + \"%, \" + l + \"%)\" :\r\n          \"hsla(\" + h + \", \" + s + \"%, \" + l + \"%, \"+ this._roundA + \")\";\r\n    },\r\n    toHex: function(allow3Char) {\r\n        return rgbToHex(this._r, this._g, this._b, allow3Char);\r\n    },\r\n    toHexString: function(allow3Char) {\r\n        return '#' + this.toHex(allow3Char);\r\n    },\r\n    toHex8: function(allow4Char) {\r\n        return rgbaToHex(this._r, this._g, this._b, this._a, allow4Char);\r\n    },\r\n    toHex8String: function(allow4Char) {\r\n        return '#' + this.toHex8(allow4Char);\r\n    },\r\n    toRgb: function() {\r\n        return { r: mathRound(this._r), g: mathRound(this._g), b: mathRound(this._b), a: this._a };\r\n    },\r\n    toRgbString: function() {\r\n        return (this._a == 1) ?\r\n          \"rgb(\"  + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \")\" :\r\n          \"rgba(\" + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \", \" + this._roundA + \")\";\r\n    },\r\n    toPercentageRgb: function() {\r\n        return { r: mathRound(bound01(this._r, 255) * 100) + \"%\", g: mathRound(bound01(this._g, 255) * 100) + \"%\", b: mathRound(bound01(this._b, 255) * 100) + \"%\", a: this._a };\r\n    },\r\n    toPercentageRgbString: function() {\r\n        return (this._a == 1) ?\r\n          \"rgb(\"  + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%)\" :\r\n          \"rgba(\" + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%, \" + this._roundA + \")\";\r\n    },\r\n    toName: function() {\r\n        if (this._a === 0) {\r\n            return \"transparent\";\r\n        }\r\n\r\n        if (this._a < 1) {\r\n            return false;\r\n        }\r\n\r\n        return hexNames[rgbToHex(this._r, this._g, this._b, true)] || false;\r\n    },\r\n    toFilter: function(secondColor) {\r\n        var hex8String = '#' + rgbaToArgbHex(this._r, this._g, this._b, this._a);\r\n        var secondHex8String = hex8String;\r\n        var gradientType = this._gradientType ? \"GradientType = 1, \" : \"\";\r\n\r\n        if (secondColor) {\r\n            var s = tinycolor(secondColor);\r\n            secondHex8String = '#' + rgbaToArgbHex(s._r, s._g, s._b, s._a);\r\n        }\r\n\r\n        return \"progid:DXImageTransform.Microsoft.gradient(\"+gradientType+\"startColorstr=\"+hex8String+\",endColorstr=\"+secondHex8String+\")\";\r\n    },\r\n    toString: function(format) {\r\n        var formatSet = !!format;\r\n        format = format || this._format;\r\n\r\n        var formattedString = false;\r\n        var hasAlpha = this._a < 1 && this._a >= 0;\r\n        var needsAlphaFormat = !formatSet && hasAlpha && (format === \"hex\" || format === \"hex6\" || format === \"hex3\" || format === \"hex4\" || format === \"hex8\" || format === \"name\");\r\n\r\n        if (needsAlphaFormat) {\r\n            // Special case for \"transparent\", all other non-alpha formats\r\n            // will return rgba when there is transparency.\r\n            if (format === \"name\" && this._a === 0) {\r\n                return this.toName();\r\n            }\r\n            return this.toRgbString();\r\n        }\r\n        if (format === \"rgb\") {\r\n            formattedString = this.toRgbString();\r\n        }\r\n        if (format === \"prgb\") {\r\n            formattedString = this.toPercentageRgbString();\r\n        }\r\n        if (format === \"hex\" || format === \"hex6\") {\r\n            formattedString = this.toHexString();\r\n        }\r\n        if (format === \"hex3\") {\r\n            formattedString = this.toHexString(true);\r\n        }\r\n        if (format === \"hex4\") {\r\n            formattedString = this.toHex8String(true);\r\n        }\r\n        if (format === \"hex8\") {\r\n            formattedString = this.toHex8String();\r\n        }\r\n        if (format === \"name\") {\r\n            formattedString = this.toName();\r\n        }\r\n        if (format === \"hsl\") {\r\n            formattedString = this.toHslString();\r\n        }\r\n        if (format === \"hsv\") {\r\n            formattedString = this.toHsvString();\r\n        }\r\n\r\n        return formattedString || this.toHexString();\r\n    },\r\n    clone: function() {\r\n        return tinycolor(this.toString());\r\n    },\r\n\r\n    _applyModification: function(fn, args) {\r\n        var color = fn.apply(null, [this].concat([].slice.call(args)));\r\n        this._r = color._r;\r\n        this._g = color._g;\r\n        this._b = color._b;\r\n        this.setAlpha(color._a);\r\n        return this;\r\n    },\r\n    lighten: function() {\r\n        return this._applyModification(lighten, arguments);\r\n    },\r\n    brighten: function() {\r\n        return this._applyModification(brighten, arguments);\r\n    },\r\n    darken: function() {\r\n        return this._applyModification(darken, arguments);\r\n    },\r\n    desaturate: function() {\r\n        return this._applyModification(desaturate, arguments);\r\n    },\r\n    saturate: function() {\r\n        return this._applyModification(saturate, arguments);\r\n    },\r\n    greyscale: function() {\r\n        return this._applyModification(greyscale, arguments);\r\n    },\r\n    spin: function() {\r\n        return this._applyModification(spin, arguments);\r\n    },\r\n\r\n    _applyCombination: function(fn, args) {\r\n        return fn.apply(null, [this].concat([].slice.call(args)));\r\n    },\r\n    analogous: function() {\r\n        return this._applyCombination(analogous, arguments);\r\n    },\r\n    complement: function() {\r\n        return this._applyCombination(complement, arguments);\r\n    },\r\n    monochromatic: function() {\r\n        return this._applyCombination(monochromatic, arguments);\r\n    },\r\n    splitcomplement: function() {\r\n        return this._applyCombination(splitcomplement, arguments);\r\n    },\r\n    triad: function() {\r\n        return this._applyCombination(triad, arguments);\r\n    },\r\n    tetrad: function() {\r\n        return this._applyCombination(tetrad, arguments);\r\n    }\r\n};\r\n\r\n// If input is an object, force 1 into \"1.0\" to handle ratios properly\r\n// String input requires \"1.0\" as input, so 1 will be treated as 1\r\ntinycolor.fromRatio = function(color, opts) {\r\n    if (typeof color == \"object\") {\r\n        var newColor = {};\r\n        for (var i in color) {\r\n            if (color.hasOwnProperty(i)) {\r\n                if (i === \"a\") {\r\n                    newColor[i] = color[i];\r\n                }\r\n                else {\r\n                    newColor[i] = convertToPercentage(color[i]);\r\n                }\r\n            }\r\n        }\r\n        color = newColor;\r\n    }\r\n\r\n    return tinycolor(color, opts);\r\n};\r\n\r\n// Given a string or object, convert that input to RGB\r\n// Possible string inputs:\r\n//\r\n//     \"red\"\r\n//     \"#f00\" or \"f00\"\r\n//     \"#ff0000\" or \"ff0000\"\r\n//     \"#ff000000\" or \"ff000000\"\r\n//     \"rgb 255 0 0\" or \"rgb (255, 0, 0)\"\r\n//     \"rgb 1.0 0 0\" or \"rgb (1, 0, 0)\"\r\n//     \"rgba (255, 0, 0, 1)\" or \"rgba 255, 0, 0, 1\"\r\n//     \"rgba (1.0, 0, 0, 1)\" or \"rgba 1.0, 0, 0, 1\"\r\n//     \"hsl(0, 100%, 50%)\" or \"hsl 0 100% 50%\"\r\n//     \"hsla(0, 100%, 50%, 1)\" or \"hsla 0 100% 50%, 1\"\r\n//     \"hsv(0, 100%, 100%)\" or \"hsv 0 100% 100%\"\r\n//\r\nfunction inputToRGB(color) {\r\n\r\n    var rgb = { r: 0, g: 0, b: 0 };\r\n    var a = 1;\r\n    var s = null;\r\n    var v = null;\r\n    var l = null;\r\n    var ok = false;\r\n    var format = false;\r\n\r\n    if (typeof color == \"string\") {\r\n        color = stringInputToObject(color);\r\n    }\r\n\r\n    if (typeof color == \"object\") {\r\n        if (isValidCSSUnit(color.r) && isValidCSSUnit(color.g) && isValidCSSUnit(color.b)) {\r\n            rgb = rgbToRgb(color.r, color.g, color.b);\r\n            ok = true;\r\n            format = String(color.r).substr(-1) === \"%\" ? \"prgb\" : \"rgb\";\r\n        }\r\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.v)) {\r\n            s = convertToPercentage(color.s);\r\n            v = convertToPercentage(color.v);\r\n            rgb = hsvToRgb(color.h, s, v);\r\n            ok = true;\r\n            format = \"hsv\";\r\n        }\r\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.l)) {\r\n            s = convertToPercentage(color.s);\r\n            l = convertToPercentage(color.l);\r\n            rgb = hslToRgb(color.h, s, l);\r\n            ok = true;\r\n            format = \"hsl\";\r\n        }\r\n\r\n        if (color.hasOwnProperty(\"a\")) {\r\n            a = color.a;\r\n        }\r\n    }\r\n\r\n    a = boundAlpha(a);\r\n\r\n    return {\r\n        ok: ok,\r\n        format: color.format || format,\r\n        r: mathMin(255, mathMax(rgb.r, 0)),\r\n        g: mathMin(255, mathMax(rgb.g, 0)),\r\n        b: mathMin(255, mathMax(rgb.b, 0)),\r\n        a: a\r\n    };\r\n}\r\n\r\n\r\n// Conversion Functions\r\n// --------------------\r\n\r\n// `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:\r\n// <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>\r\n\r\n// `rgbToRgb`\r\n// Handle bounds / percentage checking to conform to CSS color spec\r\n// <http://www.w3.org/TR/css3-color/>\r\n// *Assumes:* r, g, b in [0, 255] or [0, 1]\r\n// *Returns:* { r, g, b } in [0, 255]\r\nfunction rgbToRgb(r, g, b){\r\n    return {\r\n        r: bound01(r, 255) * 255,\r\n        g: bound01(g, 255) * 255,\r\n        b: bound01(b, 255) * 255\r\n    };\r\n}\r\n\r\n// `rgbToHsl`\r\n// Converts an RGB color value to HSL.\r\n// *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]\r\n// *Returns:* { h, s, l } in [0,1]\r\nfunction rgbToHsl(r, g, b) {\r\n\r\n    r = bound01(r, 255);\r\n    g = bound01(g, 255);\r\n    b = bound01(b, 255);\r\n\r\n    var max = mathMax(r, g, b), min = mathMin(r, g, b);\r\n    var h, s, l = (max + min) / 2;\r\n\r\n    if(max == min) {\r\n        h = s = 0; // achromatic\r\n    }\r\n    else {\r\n        var d = max - min;\r\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n        switch(max) {\r\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\r\n            case g: h = (b - r) / d + 2; break;\r\n            case b: h = (r - g) / d + 4; break;\r\n        }\r\n\r\n        h /= 6;\r\n    }\r\n\r\n    return { h: h, s: s, l: l };\r\n}\r\n\r\n// `hslToRgb`\r\n// Converts an HSL color value to RGB.\r\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]\r\n// *Returns:* { r, g, b } in the set [0, 255]\r\nfunction hslToRgb(h, s, l) {\r\n    var r, g, b;\r\n\r\n    h = bound01(h, 360);\r\n    s = bound01(s, 100);\r\n    l = bound01(l, 100);\r\n\r\n    function hue2rgb(p, q, t) {\r\n        if(t < 0) t += 1;\r\n        if(t > 1) t -= 1;\r\n        if(t < 1/6) return p + (q - p) * 6 * t;\r\n        if(t < 1/2) return q;\r\n        if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\r\n        return p;\r\n    }\r\n\r\n    if(s === 0) {\r\n        r = g = b = l; // achromatic\r\n    }\r\n    else {\r\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\r\n        var p = 2 * l - q;\r\n        r = hue2rgb(p, q, h + 1/3);\r\n        g = hue2rgb(p, q, h);\r\n        b = hue2rgb(p, q, h - 1/3);\r\n    }\r\n\r\n    return { r: r * 255, g: g * 255, b: b * 255 };\r\n}\r\n\r\n// `rgbToHsv`\r\n// Converts an RGB color value to HSV\r\n// *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]\r\n// *Returns:* { h, s, v } in [0,1]\r\nfunction rgbToHsv(r, g, b) {\r\n\r\n    r = bound01(r, 255);\r\n    g = bound01(g, 255);\r\n    b = bound01(b, 255);\r\n\r\n    var max = mathMax(r, g, b), min = mathMin(r, g, b);\r\n    var h, s, v = max;\r\n\r\n    var d = max - min;\r\n    s = max === 0 ? 0 : d / max;\r\n\r\n    if(max == min) {\r\n        h = 0; // achromatic\r\n    }\r\n    else {\r\n        switch(max) {\r\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\r\n            case g: h = (b - r) / d + 2; break;\r\n            case b: h = (r - g) / d + 4; break;\r\n        }\r\n        h /= 6;\r\n    }\r\n    return { h: h, s: s, v: v };\r\n}\r\n\r\n// `hsvToRgb`\r\n// Converts an HSV color value to RGB.\r\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]\r\n// *Returns:* { r, g, b } in the set [0, 255]\r\n function hsvToRgb(h, s, v) {\r\n\r\n    h = bound01(h, 360) * 6;\r\n    s = bound01(s, 100);\r\n    v = bound01(v, 100);\r\n\r\n    var i = Math.floor(h),\r\n        f = h - i,\r\n        p = v * (1 - s),\r\n        q = v * (1 - f * s),\r\n        t = v * (1 - (1 - f) * s),\r\n        mod = i % 6,\r\n        r = [v, q, p, p, t, v][mod],\r\n        g = [t, v, v, q, p, p][mod],\r\n        b = [p, p, t, v, v, q][mod];\r\n\r\n    return { r: r * 255, g: g * 255, b: b * 255 };\r\n}\r\n\r\n// `rgbToHex`\r\n// Converts an RGB color to hex\r\n// Assumes r, g, and b are contained in the set [0, 255]\r\n// Returns a 3 or 6 character hex\r\nfunction rgbToHex(r, g, b, allow3Char) {\r\n\r\n    var hex = [\r\n        pad2(mathRound(r).toString(16)),\r\n        pad2(mathRound(g).toString(16)),\r\n        pad2(mathRound(b).toString(16))\r\n    ];\r\n\r\n    // Return a 3 character hex if possible\r\n    if (allow3Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1)) {\r\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\r\n    }\r\n\r\n    return hex.join(\"\");\r\n}\r\n\r\n// `rgbaToHex`\r\n// Converts an RGBA color plus alpha transparency to hex\r\n// Assumes r, g, b are contained in the set [0, 255] and\r\n// a in [0, 1]. Returns a 4 or 8 character rgba hex\r\nfunction rgbaToHex(r, g, b, a, allow4Char) {\r\n\r\n    var hex = [\r\n        pad2(mathRound(r).toString(16)),\r\n        pad2(mathRound(g).toString(16)),\r\n        pad2(mathRound(b).toString(16)),\r\n        pad2(convertDecimalToHex(a))\r\n    ];\r\n\r\n    // Return a 4 character hex if possible\r\n    if (allow4Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1) && hex[3].charAt(0) == hex[3].charAt(1)) {\r\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0) + hex[3].charAt(0);\r\n    }\r\n\r\n    return hex.join(\"\");\r\n}\r\n\r\n// `rgbaToArgbHex`\r\n// Converts an RGBA color to an ARGB Hex8 string\r\n// Rarely used, but required for \"toFilter()\"\r\nfunction rgbaToArgbHex(r, g, b, a) {\r\n\r\n    var hex = [\r\n        pad2(convertDecimalToHex(a)),\r\n        pad2(mathRound(r).toString(16)),\r\n        pad2(mathRound(g).toString(16)),\r\n        pad2(mathRound(b).toString(16))\r\n    ];\r\n\r\n    return hex.join(\"\");\r\n}\r\n\r\n// `equals`\r\n// Can be called with any tinycolor input\r\ntinycolor.equals = function (color1, color2) {\r\n    if (!color1 || !color2) { return false; }\r\n    return tinycolor(color1).toRgbString() == tinycolor(color2).toRgbString();\r\n};\r\n\r\ntinycolor.random = function() {\r\n    return tinycolor.fromRatio({\r\n        r: mathRandom(),\r\n        g: mathRandom(),\r\n        b: mathRandom()\r\n    });\r\n};\r\n\r\n\r\n// Modification Functions\r\n// ----------------------\r\n// Thanks to less.js for some of the basics here\r\n// <https://github.com/cloudhead/less.js/blob/master/lib/less/functions.js>\r\n\r\nfunction desaturate(color, amount) {\r\n    amount = (amount === 0) ? 0 : (amount || 10);\r\n    var hsl = tinycolor(color).toHsl();\r\n    hsl.s -= amount / 100;\r\n    hsl.s = clamp01(hsl.s);\r\n    return tinycolor(hsl);\r\n}\r\n\r\nfunction saturate(color, amount) {\r\n    amount = (amount === 0) ? 0 : (amount || 10);\r\n    var hsl = tinycolor(color).toHsl();\r\n    hsl.s += amount / 100;\r\n    hsl.s = clamp01(hsl.s);\r\n    return tinycolor(hsl);\r\n}\r\n\r\nfunction greyscale(color) {\r\n    return tinycolor(color).desaturate(100);\r\n}\r\n\r\nfunction lighten (color, amount) {\r\n    amount = (amount === 0) ? 0 : (amount || 10);\r\n    var hsl = tinycolor(color).toHsl();\r\n    hsl.l += amount / 100;\r\n    hsl.l = clamp01(hsl.l);\r\n    return tinycolor(hsl);\r\n}\r\n\r\nfunction brighten(color, amount) {\r\n    amount = (amount === 0) ? 0 : (amount || 10);\r\n    var rgb = tinycolor(color).toRgb();\r\n    rgb.r = mathMax(0, mathMin(255, rgb.r - mathRound(255 * - (amount / 100))));\r\n    rgb.g = mathMax(0, mathMin(255, rgb.g - mathRound(255 * - (amount / 100))));\r\n    rgb.b = mathMax(0, mathMin(255, rgb.b - mathRound(255 * - (amount / 100))));\r\n    return tinycolor(rgb);\r\n}\r\n\r\nfunction darken (color, amount) {\r\n    amount = (amount === 0) ? 0 : (amount || 10);\r\n    var hsl = tinycolor(color).toHsl();\r\n    hsl.l -= amount / 100;\r\n    hsl.l = clamp01(hsl.l);\r\n    return tinycolor(hsl);\r\n}\r\n\r\n// Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.\r\n// Values outside of this range will be wrapped into this range.\r\nfunction spin(color, amount) {\r\n    var hsl = tinycolor(color).toHsl();\r\n    var hue = (hsl.h + amount) % 360;\r\n    hsl.h = hue < 0 ? 360 + hue : hue;\r\n    return tinycolor(hsl);\r\n}\r\n\r\n// Combination Functions\r\n// ---------------------\r\n// Thanks to jQuery xColor for some of the ideas behind these\r\n// <https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js>\r\n\r\nfunction complement(color) {\r\n    var hsl = tinycolor(color).toHsl();\r\n    hsl.h = (hsl.h + 180) % 360;\r\n    return tinycolor(hsl);\r\n}\r\n\r\nfunction triad(color) {\r\n    var hsl = tinycolor(color).toHsl();\r\n    var h = hsl.h;\r\n    return [\r\n        tinycolor(color),\r\n        tinycolor({ h: (h + 120) % 360, s: hsl.s, l: hsl.l }),\r\n        tinycolor({ h: (h + 240) % 360, s: hsl.s, l: hsl.l })\r\n    ];\r\n}\r\n\r\nfunction tetrad(color) {\r\n    var hsl = tinycolor(color).toHsl();\r\n    var h = hsl.h;\r\n    return [\r\n        tinycolor(color),\r\n        tinycolor({ h: (h + 90) % 360, s: hsl.s, l: hsl.l }),\r\n        tinycolor({ h: (h + 180) % 360, s: hsl.s, l: hsl.l }),\r\n        tinycolor({ h: (h + 270) % 360, s: hsl.s, l: hsl.l })\r\n    ];\r\n}\r\n\r\nfunction splitcomplement(color) {\r\n    var hsl = tinycolor(color).toHsl();\r\n    var h = hsl.h;\r\n    return [\r\n        tinycolor(color),\r\n        tinycolor({ h: (h + 72) % 360, s: hsl.s, l: hsl.l}),\r\n        tinycolor({ h: (h + 216) % 360, s: hsl.s, l: hsl.l})\r\n    ];\r\n}\r\n\r\nfunction analogous(color, results, slices) {\r\n    results = results || 6;\r\n    slices = slices || 30;\r\n\r\n    var hsl = tinycolor(color).toHsl();\r\n    var part = 360 / slices;\r\n    var ret = [tinycolor(color)];\r\n\r\n    for (hsl.h = ((hsl.h - (part * results >> 1)) + 720) % 360; --results; ) {\r\n        hsl.h = (hsl.h + part) % 360;\r\n        ret.push(tinycolor(hsl));\r\n    }\r\n    return ret;\r\n}\r\n\r\nfunction monochromatic(color, results) {\r\n    results = results || 6;\r\n    var hsv = tinycolor(color).toHsv();\r\n    var h = hsv.h, s = hsv.s, v = hsv.v;\r\n    var ret = [];\r\n    var modification = 1 / results;\r\n\r\n    while (results--) {\r\n        ret.push(tinycolor({ h: h, s: s, v: v}));\r\n        v = (v + modification) % 1;\r\n    }\r\n\r\n    return ret;\r\n}\r\n\r\n// Utility Functions\r\n// ---------------------\r\n\r\ntinycolor.mix = function(color1, color2, amount) {\r\n    amount = (amount === 0) ? 0 : (amount || 50);\r\n\r\n    var rgb1 = tinycolor(color1).toRgb();\r\n    var rgb2 = tinycolor(color2).toRgb();\r\n\r\n    var p = amount / 100;\r\n\r\n    var rgba = {\r\n        r: ((rgb2.r - rgb1.r) * p) + rgb1.r,\r\n        g: ((rgb2.g - rgb1.g) * p) + rgb1.g,\r\n        b: ((rgb2.b - rgb1.b) * p) + rgb1.b,\r\n        a: ((rgb2.a - rgb1.a) * p) + rgb1.a\r\n    };\r\n\r\n    return tinycolor(rgba);\r\n};\r\n\r\n\r\n// Readability Functions\r\n// ---------------------\r\n// <http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef (WCAG Version 2)\r\n\r\n// `contrast`\r\n// Analyze the 2 colors and returns the color contrast defined by (WCAG Version 2)\r\ntinycolor.readability = function(color1, color2) {\r\n    var c1 = tinycolor(color1);\r\n    var c2 = tinycolor(color2);\r\n    return (Math.max(c1.getLuminance(),c2.getLuminance())+0.05) / (Math.min(c1.getLuminance(),c2.getLuminance())+0.05);\r\n};\r\n\r\n// `isReadable`\r\n// Ensure that foreground and background color combinations meet WCAG2 guidelines.\r\n// The third argument is an optional Object.\r\n//      the 'level' property states 'AA' or 'AAA' - if missing or invalid, it defaults to 'AA';\r\n//      the 'size' property states 'large' or 'small' - if missing or invalid, it defaults to 'small'.\r\n// If the entire object is absent, isReadable defaults to {level:\"AA\",size:\"small\"}.\r\n\r\n// *Example*\r\n//    tinycolor.isReadable(\"#000\", \"#111\") => false\r\n//    tinycolor.isReadable(\"#000\", \"#111\",{level:\"AA\",size:\"large\"}) => false\r\ntinycolor.isReadable = function(color1, color2, wcag2) {\r\n    var readability = tinycolor.readability(color1, color2);\r\n    var wcag2Parms, out;\r\n\r\n    out = false;\r\n\r\n    wcag2Parms = validateWCAG2Parms(wcag2);\r\n    switch (wcag2Parms.level + wcag2Parms.size) {\r\n        case \"AAsmall\":\r\n        case \"AAAlarge\":\r\n            out = readability >= 4.5;\r\n            break;\r\n        case \"AAlarge\":\r\n            out = readability >= 3;\r\n            break;\r\n        case \"AAAsmall\":\r\n            out = readability >= 7;\r\n            break;\r\n    }\r\n    return out;\r\n\r\n};\r\n\r\n// `mostReadable`\r\n// Given a base color and a list of possible foreground or background\r\n// colors for that base, returns the most readable color.\r\n// Optionally returns Black or White if the most readable color is unreadable.\r\n// *Example*\r\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:false}).toHexString(); // \"#112255\"\r\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:true}).toHexString();  // \"#ffffff\"\r\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"large\"}).toHexString(); // \"#faf3f3\"\r\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"small\"}).toHexString(); // \"#ffffff\"\r\ntinycolor.mostReadable = function(baseColor, colorList, args) {\r\n    var bestColor = null;\r\n    var bestScore = 0;\r\n    var readability;\r\n    var includeFallbackColors, level, size ;\r\n    args = args || {};\r\n    includeFallbackColors = args.includeFallbackColors ;\r\n    level = args.level;\r\n    size = args.size;\r\n\r\n    for (var i= 0; i < colorList.length ; i++) {\r\n        readability = tinycolor.readability(baseColor, colorList[i]);\r\n        if (readability > bestScore) {\r\n            bestScore = readability;\r\n            bestColor = tinycolor(colorList[i]);\r\n        }\r\n    }\r\n\r\n    if (tinycolor.isReadable(baseColor, bestColor, {\"level\":level,\"size\":size}) || !includeFallbackColors) {\r\n        return bestColor;\r\n    }\r\n    else {\r\n        args.includeFallbackColors=false;\r\n        return tinycolor.mostReadable(baseColor,[\"#fff\", \"#000\"],args);\r\n    }\r\n};\r\n\r\n\r\n// Big List of Colors\r\n// ------------------\r\n// <http://www.w3.org/TR/css3-color/#svg-color>\r\nvar names = tinycolor.names = {\r\n    aliceblue: \"f0f8ff\",\r\n    antiquewhite: \"faebd7\",\r\n    aqua: \"0ff\",\r\n    aquamarine: \"7fffd4\",\r\n    azure: \"f0ffff\",\r\n    beige: \"f5f5dc\",\r\n    bisque: \"ffe4c4\",\r\n    black: \"000\",\r\n    blanchedalmond: \"ffebcd\",\r\n    blue: \"00f\",\r\n    blueviolet: \"8a2be2\",\r\n    brown: \"a52a2a\",\r\n    burlywood: \"deb887\",\r\n    burntsienna: \"ea7e5d\",\r\n    cadetblue: \"5f9ea0\",\r\n    chartreuse: \"7fff00\",\r\n    chocolate: \"d2691e\",\r\n    coral: \"ff7f50\",\r\n    cornflowerblue: \"6495ed\",\r\n    cornsilk: \"fff8dc\",\r\n    crimson: \"dc143c\",\r\n    cyan: \"0ff\",\r\n    darkblue: \"00008b\",\r\n    darkcyan: \"008b8b\",\r\n    darkgoldenrod: \"b8860b\",\r\n    darkgray: \"a9a9a9\",\r\n    darkgreen: \"006400\",\r\n    darkgrey: \"a9a9a9\",\r\n    darkkhaki: \"bdb76b\",\r\n    darkmagenta: \"8b008b\",\r\n    darkolivegreen: \"556b2f\",\r\n    darkorange: \"ff8c00\",\r\n    darkorchid: \"9932cc\",\r\n    darkred: \"8b0000\",\r\n    darksalmon: \"e9967a\",\r\n    darkseagreen: \"8fbc8f\",\r\n    darkslateblue: \"483d8b\",\r\n    darkslategray: \"2f4f4f\",\r\n    darkslategrey: \"2f4f4f\",\r\n    darkturquoise: \"00ced1\",\r\n    darkviolet: \"9400d3\",\r\n    deeppink: \"ff1493\",\r\n    deepskyblue: \"00bfff\",\r\n    dimgray: \"696969\",\r\n    dimgrey: \"696969\",\r\n    dodgerblue: \"1e90ff\",\r\n    firebrick: \"b22222\",\r\n    floralwhite: \"fffaf0\",\r\n    forestgreen: \"228b22\",\r\n    fuchsia: \"f0f\",\r\n    gainsboro: \"dcdcdc\",\r\n    ghostwhite: \"f8f8ff\",\r\n    gold: \"ffd700\",\r\n    goldenrod: \"daa520\",\r\n    gray: \"808080\",\r\n    green: \"008000\",\r\n    greenyellow: \"adff2f\",\r\n    grey: \"808080\",\r\n    honeydew: \"f0fff0\",\r\n    hotpink: \"ff69b4\",\r\n    indianred: \"cd5c5c\",\r\n    indigo: \"4b0082\",\r\n    ivory: \"fffff0\",\r\n    khaki: \"f0e68c\",\r\n    lavender: \"e6e6fa\",\r\n    lavenderblush: \"fff0f5\",\r\n    lawngreen: \"7cfc00\",\r\n    lemonchiffon: \"fffacd\",\r\n    lightblue: \"add8e6\",\r\n    lightcoral: \"f08080\",\r\n    lightcyan: \"e0ffff\",\r\n    lightgoldenrodyellow: \"fafad2\",\r\n    lightgray: \"d3d3d3\",\r\n    lightgreen: \"90ee90\",\r\n    lightgrey: \"d3d3d3\",\r\n    lightpink: \"ffb6c1\",\r\n    lightsalmon: \"ffa07a\",\r\n    lightseagreen: \"20b2aa\",\r\n    lightskyblue: \"87cefa\",\r\n    lightslategray: \"789\",\r\n    lightslategrey: \"789\",\r\n    lightsteelblue: \"b0c4de\",\r\n    lightyellow: \"ffffe0\",\r\n    lime: \"0f0\",\r\n    limegreen: \"32cd32\",\r\n    linen: \"faf0e6\",\r\n    magenta: \"f0f\",\r\n    maroon: \"800000\",\r\n    mediumaquamarine: \"66cdaa\",\r\n    mediumblue: \"0000cd\",\r\n    mediumorchid: \"ba55d3\",\r\n    mediumpurple: \"9370db\",\r\n    mediumseagreen: \"3cb371\",\r\n    mediumslateblue: \"7b68ee\",\r\n    mediumspringgreen: \"00fa9a\",\r\n    mediumturquoise: \"48d1cc\",\r\n    mediumvioletred: \"c71585\",\r\n    midnightblue: \"191970\",\r\n    mintcream: \"f5fffa\",\r\n    mistyrose: \"ffe4e1\",\r\n    moccasin: \"ffe4b5\",\r\n    navajowhite: \"ffdead\",\r\n    navy: \"000080\",\r\n    oldlace: \"fdf5e6\",\r\n    olive: \"808000\",\r\n    olivedrab: \"6b8e23\",\r\n    orange: \"ffa500\",\r\n    orangered: \"ff4500\",\r\n    orchid: \"da70d6\",\r\n    palegoldenrod: \"eee8aa\",\r\n    palegreen: \"98fb98\",\r\n    paleturquoise: \"afeeee\",\r\n    palevioletred: \"db7093\",\r\n    papayawhip: \"ffefd5\",\r\n    peachpuff: \"ffdab9\",\r\n    peru: \"cd853f\",\r\n    pink: \"ffc0cb\",\r\n    plum: \"dda0dd\",\r\n    powderblue: \"b0e0e6\",\r\n    purple: \"800080\",\r\n    rebeccapurple: \"663399\",\r\n    red: \"f00\",\r\n    rosybrown: \"bc8f8f\",\r\n    royalblue: \"4169e1\",\r\n    saddlebrown: \"8b4513\",\r\n    salmon: \"fa8072\",\r\n    sandybrown: \"f4a460\",\r\n    seagreen: \"2e8b57\",\r\n    seashell: \"fff5ee\",\r\n    sienna: \"a0522d\",\r\n    silver: \"c0c0c0\",\r\n    skyblue: \"87ceeb\",\r\n    slateblue: \"6a5acd\",\r\n    slategray: \"708090\",\r\n    slategrey: \"708090\",\r\n    snow: \"fffafa\",\r\n    springgreen: \"00ff7f\",\r\n    steelblue: \"4682b4\",\r\n    tan: \"d2b48c\",\r\n    teal: \"008080\",\r\n    thistle: \"d8bfd8\",\r\n    tomato: \"ff6347\",\r\n    turquoise: \"40e0d0\",\r\n    violet: \"ee82ee\",\r\n    wheat: \"f5deb3\",\r\n    white: \"fff\",\r\n    whitesmoke: \"f5f5f5\",\r\n    yellow: \"ff0\",\r\n    yellowgreen: \"9acd32\"\r\n};\r\n\r\n// Make it easy to access colors via `hexNames[hex]`\r\nvar hexNames = tinycolor.hexNames = flip(names);\r\n\r\n\r\n// Utilities\r\n// ---------\r\n\r\n// `{ 'name1': 'val1' }` becomes `{ 'val1': 'name1' }`\r\nfunction flip(o) {\r\n    var flipped = { };\r\n    for (var i in o) {\r\n        if (o.hasOwnProperty(i)) {\r\n            flipped[o[i]] = i;\r\n        }\r\n    }\r\n    return flipped;\r\n}\r\n\r\n// Return a valid alpha value [0,1] with all invalid values being set to 1\r\nfunction boundAlpha(a) {\r\n    a = parseFloat(a);\r\n\r\n    if (isNaN(a) || a < 0 || a > 1) {\r\n        a = 1;\r\n    }\r\n\r\n    return a;\r\n}\r\n\r\n// Take input from [0, n] and return it as [0, 1]\r\nfunction bound01(n, max) {\r\n    if (isOnePointZero(n)) { n = \"100%\"; }\r\n\r\n    var processPercent = isPercentage(n);\r\n    n = mathMin(max, mathMax(0, parseFloat(n)));\r\n\r\n    // Automatically convert percentage into number\r\n    if (processPercent) {\r\n        n = parseInt(n * max, 10) / 100;\r\n    }\r\n\r\n    // Handle floating point rounding errors\r\n    if ((Math.abs(n - max) < 0.000001)) {\r\n        return 1;\r\n    }\r\n\r\n    // Convert into [0, 1] range if it isn't already\r\n    return (n % max) / parseFloat(max);\r\n}\r\n\r\n// Force a number between 0 and 1\r\nfunction clamp01(val) {\r\n    return mathMin(1, mathMax(0, val));\r\n}\r\n\r\n// Parse a base-16 hex value into a base-10 integer\r\nfunction parseIntFromHex(val) {\r\n    return parseInt(val, 16);\r\n}\r\n\r\n// Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1\r\n// <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>\r\nfunction isOnePointZero(n) {\r\n    return typeof n == \"string\" && n.indexOf('.') != -1 && parseFloat(n) === 1;\r\n}\r\n\r\n// Check to see if string passed in is a percentage\r\nfunction isPercentage(n) {\r\n    return typeof n === \"string\" && n.indexOf('%') != -1;\r\n}\r\n\r\n// Force a hex value to have 2 characters\r\nfunction pad2(c) {\r\n    return c.length == 1 ? '0' + c : '' + c;\r\n}\r\n\r\n// Replace a decimal with it's percentage value\r\nfunction convertToPercentage(n) {\r\n    if (n <= 1) {\r\n        n = (n * 100) + \"%\";\r\n    }\r\n\r\n    return n;\r\n}\r\n\r\n// Converts a decimal to a hex value\r\nfunction convertDecimalToHex(d) {\r\n    return Math.round(parseFloat(d) * 255).toString(16);\r\n}\r\n// Converts a hex value to a decimal\r\nfunction convertHexToDecimal(h) {\r\n    return (parseIntFromHex(h) / 255);\r\n}\r\n\r\nvar matchers = (function() {\r\n\r\n    // <http://www.w3.org/TR/css3-values/#integers>\r\n    var CSS_INTEGER = \"[-\\\\+]?\\\\d+%?\";\r\n\r\n    // <http://www.w3.org/TR/css3-values/#number-value>\r\n    var CSS_NUMBER = \"[-\\\\+]?\\\\d*\\\\.\\\\d+%?\";\r\n\r\n    // Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.\r\n    var CSS_UNIT = \"(?:\" + CSS_NUMBER + \")|(?:\" + CSS_INTEGER + \")\";\r\n\r\n    // Actual matching.\r\n    // Parentheses and commas are optional, but not required.\r\n    // Whitespace can take the place of commas or opening paren\r\n    var PERMISSIVE_MATCH3 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\r\n    var PERMISSIVE_MATCH4 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\r\n\r\n    return {\r\n        CSS_UNIT: new RegExp(CSS_UNIT),\r\n        rgb: new RegExp(\"rgb\" + PERMISSIVE_MATCH3),\r\n        rgba: new RegExp(\"rgba\" + PERMISSIVE_MATCH4),\r\n        hsl: new RegExp(\"hsl\" + PERMISSIVE_MATCH3),\r\n        hsla: new RegExp(\"hsla\" + PERMISSIVE_MATCH4),\r\n        hsv: new RegExp(\"hsv\" + PERMISSIVE_MATCH3),\r\n        hsva: new RegExp(\"hsva\" + PERMISSIVE_MATCH4),\r\n        hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\r\n        hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\r\n        hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\r\n        hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/\r\n    };\r\n})();\r\n\r\n// `isValidCSSUnit`\r\n// Take in a single string / number and check to see if it looks like a CSS unit\r\n// (see `matchers` above for definition).\r\nfunction isValidCSSUnit(color) {\r\n    return !!matchers.CSS_UNIT.exec(color);\r\n}\r\n\r\n// `stringInputToObject`\r\n// Permissive string parsing.  Take in a number of formats, and output an object\r\n// based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`\r\nfunction stringInputToObject(color) {\r\n\r\n    color = color.replace(trimLeft,'').replace(trimRight, '').toLowerCase();\r\n    var named = false;\r\n    if (names[color]) {\r\n        color = names[color];\r\n        named = true;\r\n    }\r\n    else if (color == 'transparent') {\r\n        return { r: 0, g: 0, b: 0, a: 0, format: \"name\" };\r\n    }\r\n\r\n    // Try to match string input using regular expressions.\r\n    // Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]\r\n    // Just return an object and let the conversion functions handle that.\r\n    // This way the result will be the same whether the tinycolor is initialized with string or object.\r\n    var match;\r\n    if ((match = matchers.rgb.exec(color))) {\r\n        return { r: match[1], g: match[2], b: match[3] };\r\n    }\r\n    if ((match = matchers.rgba.exec(color))) {\r\n        return { r: match[1], g: match[2], b: match[3], a: match[4] };\r\n    }\r\n    if ((match = matchers.hsl.exec(color))) {\r\n        return { h: match[1], s: match[2], l: match[3] };\r\n    }\r\n    if ((match = matchers.hsla.exec(color))) {\r\n        return { h: match[1], s: match[2], l: match[3], a: match[4] };\r\n    }\r\n    if ((match = matchers.hsv.exec(color))) {\r\n        return { h: match[1], s: match[2], v: match[3] };\r\n    }\r\n    if ((match = matchers.hsva.exec(color))) {\r\n        return { h: match[1], s: match[2], v: match[3], a: match[4] };\r\n    }\r\n    if ((match = matchers.hex8.exec(color))) {\r\n        return {\r\n            r: parseIntFromHex(match[1]),\r\n            g: parseIntFromHex(match[2]),\r\n            b: parseIntFromHex(match[3]),\r\n            a: convertHexToDecimal(match[4]),\r\n            format: named ? \"name\" : \"hex8\"\r\n        };\r\n    }\r\n    if ((match = matchers.hex6.exec(color))) {\r\n        return {\r\n            r: parseIntFromHex(match[1]),\r\n            g: parseIntFromHex(match[2]),\r\n            b: parseIntFromHex(match[3]),\r\n            format: named ? \"name\" : \"hex\"\r\n        };\r\n    }\r\n    if ((match = matchers.hex4.exec(color))) {\r\n        return {\r\n            r: parseIntFromHex(match[1] + '' + match[1]),\r\n            g: parseIntFromHex(match[2] + '' + match[2]),\r\n            b: parseIntFromHex(match[3] + '' + match[3]),\r\n            a: convertHexToDecimal(match[4] + '' + match[4]),\r\n            format: named ? \"name\" : \"hex8\"\r\n        };\r\n    }\r\n    if ((match = matchers.hex3.exec(color))) {\r\n        return {\r\n            r: parseIntFromHex(match[1] + '' + match[1]),\r\n            g: parseIntFromHex(match[2] + '' + match[2]),\r\n            b: parseIntFromHex(match[3] + '' + match[3]),\r\n            format: named ? \"name\" : \"hex\"\r\n        };\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\nfunction validateWCAG2Parms(parms) {\r\n    // return valid WCAG2 parms for isReadable.\r\n    // If input parms are invalid, return {\"level\":\"AA\", \"size\":\"small\"}\r\n    var level, size;\r\n    parms = parms || {\"level\":\"AA\", \"size\":\"small\"};\r\n    level = (parms.level || \"AA\").toUpperCase();\r\n    size = (parms.size || \"small\").toLowerCase();\r\n    if (level !== \"AA\" && level !== \"AAA\") {\r\n        level = \"AA\";\r\n    }\r\n    if (size !== \"small\" && size !== \"large\") {\r\n        size = \"small\";\r\n    }\r\n    return {\"level\":level, \"size\":size};\r\n}\r\n\r\n// Node: Export function\r\nif (typeof module !== \"undefined\" && module.exports) {\r\n    module.exports = tinycolor;\r\n}\r\n// AMD/requirejs: Define the module\r\nelse if (typeof define === 'function' && define.amd) {\r\n    define(function () {return tinycolor;});\r\n}\r\n// Browser: Expose to window\r\nelse {\r\n    window.tinycolor = tinycolor;\r\n}\r\n\r\n})(Math);\r\n","module.exports = __WEBPACK_EXTERNAL_MODULE__6__;","module.exports = __WEBPACK_EXTERNAL_MODULE__7__;","module.exports = __WEBPACK_EXTERNAL_MODULE__8__;","define([\r\n  'jquery',\r\n  'grafana/app/core/core',\r\n],\r\nfunction ($, core) {\r\n  'use strict';\r\n\r\n  var appEvents = core.appEvents;\r\n\r\n  function GraphTooltip(elem, dashboard, scope, getSeriesFn) {\r\n    var self = this;\r\n    var ctrl = scope.ctrl;\r\n    var panel = ctrl.panel;\r\n\r\n    var $tooltip = $('<div class=\"graph-tooltip\">');\r\n\r\n    this.destroy = function() {\r\n      $tooltip.remove();\r\n    };\r\n\r\n    this.findHoverIndexFromDataPoints = function(posX, series, last) {\r\n      var ps = series.datapoints.pointsize;\r\n      var initial = last*ps;\r\n      var len = series.datapoints.points.length;\r\n      for (var j = initial; j < len; j += ps) {\r\n        // Special case of a non stepped line, highlight the very last point just before a null point\r\n        if ((!series.lines.steps && series.datapoints.points[initial] != null && series.datapoints.points[j] == null)\r\n            //normal case\r\n            || series.datapoints.points[j] > posX) {\r\n          return Math.max(j - ps,  0)/ps;\r\n        }\r\n      }\r\n      return j/ps - 1;\r\n    };\r\n\r\n    this.findHoverIndexFromData = function(posX, series) {\r\n      var lower = 0;\r\n      var upper = series.data.length - 1;\r\n      var middle;\r\n      while (true) {\r\n        if (lower > upper) {\r\n          return Math.max(upper, 0);\r\n        }\r\n        middle = Math.floor((lower + upper) / 2);\r\n        if (series.data[middle][0] === posX) {\r\n          return middle;\r\n        } else if (series.data[middle][0] < posX) {\r\n          lower = middle + 1;\r\n        } else {\r\n          upper = middle - 1;\r\n        }\r\n      }\r\n    };\r\n\r\n    this.renderAndShow = function(absoluteTime, innerHtml, pos, xMode) {\r\n      if (xMode === 'time') {\r\n        innerHtml = '<div class=\"graph-tooltip-time\">'+ absoluteTime + '</div>' + innerHtml;\r\n      }\r\n      $tooltip.html(innerHtml).place_tt(pos.pageX + 20, pos.pageY);\r\n    };\r\n\r\n    this.getMultiSeriesPlotHoverInfo = function(seriesList, pos) {\r\n      var value, i, series, hoverIndex, hoverDistance, pointTime, yaxis;\r\n      // 3 sub-arrays, 1st for hidden series, 2nd for left yaxis, 3rd for right yaxis.\r\n      var results = [[],[],[]];\r\n\r\n      //now we know the current X (j) position for X and Y values\r\n      var last_value = 0; //needed for stacked values\r\n\r\n      var minDistance, minTime;\r\n\r\n      for (i = 0; i < seriesList.length; i++) {\r\n        series = seriesList[i];\r\n\r\n        if (!series.data.length || (panel.legend.hideEmpty && series.allIsNull)) {\r\n          // Init value so that it does not brake series sorting\r\n          results[0].push({ hidden: true, value: 0 });\r\n          continue;\r\n        }\r\n\r\n        if (!series.data.length || (panel.legend.hideZero && series.allIsZero)) {\r\n          // Init value so that it does not brake series sorting\r\n          results[0].push({ hidden: true, value: 0 });\r\n          continue;\r\n        }\r\n\r\n        hoverIndex = this.findHoverIndexFromData(pos.x, series);\r\n        hoverDistance = pos.x - series.data[hoverIndex][0];\r\n        pointTime = series.data[hoverIndex][0];\r\n\r\n        // Take the closest point before the cursor, or if it does not exist, the closest after\r\n        if (! minDistance\r\n            || (hoverDistance >=0 && (hoverDistance < minDistance || minDistance < 0))\r\n            || (hoverDistance < 0 && hoverDistance > minDistance)) {\r\n          minDistance = hoverDistance;\r\n          minTime = pointTime;\r\n        }\r\n\r\n        if (series.stack) {\r\n          if (panel.tooltip.value_type === 'individual') {\r\n            value = series.data[hoverIndex][1];\r\n          } else if (!series.stack) {\r\n            value = series.data[hoverIndex][1];\r\n          } else {\r\n            last_value += series.data[hoverIndex][1];\r\n            value = last_value;\r\n          }\r\n        } else {\r\n          value = series.data[hoverIndex][1];\r\n        }\r\n\r\n        // Highlighting multiple Points depending on the plot type\r\n        if (series.lines.steps || series.stack) {\r\n          // stacked and steppedLine plots can have series with different length.\r\n          // Stacked series can increase its length on each new stacked serie if null points found,\r\n          // to speed the index search we begin always on the last found hoverIndex.\r\n          hoverIndex = this.findHoverIndexFromDataPoints(pos.x, series, hoverIndex);\r\n        }\r\n\r\n        // Be sure we have a yaxis so that it does not brake series sorting\r\n        yaxis = 0;\r\n        if (series.yaxis) {\r\n          yaxis = series.yaxis.n;\r\n        }\r\n\r\n        results[yaxis].push({\r\n          value: value,\r\n          hoverIndex: hoverIndex,\r\n          color: series.color,\r\n          label: series.aliasEscaped,\r\n          time: pointTime,\r\n          distance: hoverDistance,\r\n          index: i\r\n        });\r\n      }\r\n\r\n      // Contat the 3 sub-arrays\r\n      results = results[0].concat(results[1],results[2]);\r\n\r\n      // Time of the point closer to pointer\r\n      results.time = minTime;\r\n\r\n      return results;\r\n    };\r\n\r\n    elem.mouseleave(function () {\r\n      if (panel.tooltip.shared) {\r\n        var plot = elem.data().plot;\r\n        if (plot) {\r\n          $tooltip.detach();\r\n          plot.unhighlight();\r\n        }\r\n      }\r\n      appEvents.emit('graph-hover-clear');\r\n    });\r\n\r\n    elem.bind(\"plothover\", function (event, pos, item) {\r\n      self.show(pos, item);\r\n\r\n      // broadcast to other graph panels that we are hovering!\r\n      pos.panelRelY = (pos.pageY - elem.offset().top) / elem.height();\r\n      appEvents.emit('graph-hover', {pos: pos, panel: panel});\r\n    });\r\n\r\n    elem.bind(\"plotclick\", function (event, pos, item) {\r\n      appEvents.emit('graph-click', {pos: pos, panel: panel, item: item});\r\n    });\r\n\r\n    this.clear = function(plot) {\r\n      $tooltip.detach();\r\n      plot.clearCrosshair();\r\n      plot.unhighlight();\r\n    };\r\n\r\n    this.show = function(pos, item) {\r\n      var plot = elem.data().plot;\r\n      var plotData = plot.getData();\r\n      var xAxes = plot.getXAxes();\r\n      var xMode = xAxes[0].options.mode;\r\n      var seriesList = getSeriesFn();\r\n      var allSeriesMode = panel.tooltip.shared;\r\n      var group, value, absoluteTime, hoverInfo, i, series, seriesHtml, tooltipFormat;\r\n\r\n      // if panelRelY is defined another panel wants us to show a tooltip\r\n      // get pageX from position on x axis and pageY from relative position in original panel\r\n      if (pos.panelRelY) {\r\n        var pointOffset = plot.pointOffset({x: pos.x});\r\n        if (Number.isNaN(pointOffset.left) || pointOffset.left < 0 || pointOffset.left > elem.width()) {\r\n          self.clear(plot);\r\n          return;\r\n        }\r\n        pos.pageX = elem.offset().left + pointOffset.left;\r\n        pos.pageY = elem.offset().top + elem.height() * pos.panelRelY;\r\n        var isVisible = pos.pageY >= $(window).scrollTop() && pos.pageY <= $(window).innerHeight() + $(window).scrollTop();\r\n        if (!isVisible) {\r\n          self.clear(plot);\r\n          return;\r\n        }\r\n        plot.setCrosshair(pos);\r\n        allSeriesMode = true;\r\n\r\n        if (dashboard.sharedCrosshairModeOnly()) {\r\n          // if only crosshair mode we are done\r\n          return;\r\n        }\r\n      }\r\n\r\n      if (seriesList.length === 0) {\r\n        return;\r\n      }\r\n\r\n      if (seriesList[0].hasMsResolution) {\r\n        tooltipFormat = 'YYYY-MM-DD HH:mm:ss.SSS';\r\n      } else {\r\n        tooltipFormat = 'YYYY-MM-DD HH:mm:ss';\r\n      }\r\n\r\n      if (allSeriesMode) {\r\n        plot.unhighlight();\r\n\r\n        var seriesHoverInfo = self.getMultiSeriesPlotHoverInfo(plotData, pos);\r\n\r\n        seriesHtml = '';\r\n\r\n        absoluteTime = dashboard.formatDate(seriesHoverInfo.time, tooltipFormat);\r\n\r\n        // Dynamically reorder the hovercard for the current time point if the\r\n        // option is enabled.\r\n        if (panel.tooltip.sort === 2) {\r\n          seriesHoverInfo.sort(function(a, b) {\r\n            return b.value - a.value;\r\n          });\r\n        } else if (panel.tooltip.sort === 1) {\r\n          seriesHoverInfo.sort(function(a, b) {\r\n            return a.value - b.value;\r\n          });\r\n        }\r\n\r\n        for (i = 0; i < seriesHoverInfo.length; i++) {\r\n          hoverInfo = seriesHoverInfo[i];\r\n\r\n          if (hoverInfo.hidden) {\r\n            continue;\r\n          }\r\n\r\n          var highlightClass = '';\r\n          if (item && hoverInfo.index === item.seriesIndex) {\r\n            highlightClass = 'graph-tooltip-list-item--highlight';\r\n          }\r\n\r\n          series = seriesList[hoverInfo.index];\r\n\r\n          value = series.formatValue(hoverInfo.value);\r\n\r\n          seriesHtml += '<div class=\"graph-tooltip-list-item ' + highlightClass + '\"><div class=\"graph-tooltip-series-name\">';\r\n          seriesHtml += '<i class=\"fa fa-minus\" style=\"color:' + hoverInfo.color +';\"></i> ' + hoverInfo.label + ':</div>';\r\n          seriesHtml += '<div class=\"graph-tooltip-value\">' + value + '</div></div>';\r\n          plot.highlight(hoverInfo.index, hoverInfo.hoverIndex);\r\n        }\r\n\r\n        self.renderAndShow(absoluteTime, seriesHtml, pos, xMode);\r\n      }\r\n      // single series tooltip\r\n      else if (item) {\r\n        series = seriesList[item.seriesIndex];\r\n        group = '<div class=\"graph-tooltip-list-item\"><div class=\"graph-tooltip-series-name\">';\r\n        group += '<i class=\"fa fa-minus\" style=\"color:' + item.series.color +';\"></i> ' + series.aliasEscaped + ':</div>';\r\n\r\n        if (panel.stack && panel.tooltip.value_type === 'individual') {\r\n          value = item.datapoint[1] - item.datapoint[2];\r\n        }\r\n        else {\r\n          value = item.datapoint[1];\r\n        }\r\n\r\n        value = series.formatValue(value);\r\n\r\n        absoluteTime = dashboard.formatDate(item.datapoint[0], tooltipFormat);\r\n\r\n        group += '<div class=\"graph-tooltip-value\">' + value + '</div>';\r\n\r\n        self.renderAndShow(absoluteTime, group, pos, xMode);\r\n      }\r\n      // no hit\r\n      else {\r\n        $tooltip.detach();\r\n      }\r\n    };\r\n  }\r\n\r\n  return GraphTooltip;\r\n});\r\n","/*!\r\n * perfect-scrollbar v1.5.0\r\n * Copyright 2020 Hyunje Jun, MDBootstrap and Contributors\r\n * Licensed under MIT\r\n */\r\n\r\nfunction get(element) {\r\n  return getComputedStyle(element);\r\n}\r\n\r\nfunction set(element, obj) {\r\n  for (var key in obj) {\r\n    var val = obj[key];\r\n    if (typeof val === 'number') {\r\n      val = val + \"px\";\r\n    }\r\n    element.style[key] = val;\r\n  }\r\n  return element;\r\n}\r\n\r\nfunction div(className) {\r\n  var div = document.createElement('div');\r\n  div.className = className;\r\n  return div;\r\n}\r\n\r\nvar elMatches =\r\n  typeof Element !== 'undefined' &&\r\n  (Element.prototype.matches ||\r\n    Element.prototype.webkitMatchesSelector ||\r\n    Element.prototype.mozMatchesSelector ||\r\n    Element.prototype.msMatchesSelector);\r\n\r\nfunction matches(element, query) {\r\n  if (!elMatches) {\r\n    throw new Error('No element matching method supported');\r\n  }\r\n\r\n  return elMatches.call(element, query);\r\n}\r\n\r\nfunction remove(element) {\r\n  if (element.remove) {\r\n    element.remove();\r\n  } else {\r\n    if (element.parentNode) {\r\n      element.parentNode.removeChild(element);\r\n    }\r\n  }\r\n}\r\n\r\nfunction queryChildren(element, selector) {\r\n  return Array.prototype.filter.call(element.children, function (child) { return matches(child, selector); }\r\n  );\r\n}\r\n\r\nvar cls = {\r\n  main: 'ps',\r\n  rtl: 'ps__rtl',\r\n  element: {\r\n    thumb: function (x) { return (\"ps__thumb-\" + x); },\r\n    rail: function (x) { return (\"ps__rail-\" + x); },\r\n    consuming: 'ps__child--consume',\r\n  },\r\n  state: {\r\n    focus: 'ps--focus',\r\n    clicking: 'ps--clicking',\r\n    active: function (x) { return (\"ps--active-\" + x); },\r\n    scrolling: function (x) { return (\"ps--scrolling-\" + x); },\r\n  },\r\n};\r\n\r\n/*\r\n * Helper methods\r\n */\r\nvar scrollingClassTimeout = { x: null, y: null };\r\n\r\nfunction addScrollingClass(i, x) {\r\n  var classList = i.element.classList;\r\n  var className = cls.state.scrolling(x);\r\n\r\n  if (classList.contains(className)) {\r\n    clearTimeout(scrollingClassTimeout[x]);\r\n  } else {\r\n    classList.add(className);\r\n  }\r\n}\r\n\r\nfunction removeScrollingClass(i, x) {\r\n  scrollingClassTimeout[x] = setTimeout(\r\n    function () { return i.isAlive && i.element.classList.remove(cls.state.scrolling(x)); },\r\n    i.settings.scrollingThreshold\r\n  );\r\n}\r\n\r\nfunction setScrollingClassInstantly(i, x) {\r\n  addScrollingClass(i, x);\r\n  removeScrollingClass(i, x);\r\n}\r\n\r\nvar EventElement = function EventElement(element) {\r\n  this.element = element;\r\n  this.handlers = {};\r\n};\r\n\r\nvar prototypeAccessors = { isEmpty: { configurable: true } };\r\n\r\nEventElement.prototype.bind = function bind (eventName, handler) {\r\n  if (typeof this.handlers[eventName] === 'undefined') {\r\n    this.handlers[eventName] = [];\r\n  }\r\n  this.handlers[eventName].push(handler);\r\n  this.element.addEventListener(eventName, handler, false);\r\n};\r\n\r\nEventElement.prototype.unbind = function unbind (eventName, target) {\r\n    var this$1 = this;\r\n\r\n  this.handlers[eventName] = this.handlers[eventName].filter(function (handler) {\r\n    if (target && handler !== target) {\r\n      return true;\r\n    }\r\n    this$1.element.removeEventListener(eventName, handler, false);\r\n    return false;\r\n  });\r\n};\r\n\r\nEventElement.prototype.unbindAll = function unbindAll () {\r\n  for (var name in this.handlers) {\r\n    this.unbind(name);\r\n  }\r\n};\r\n\r\nprototypeAccessors.isEmpty.get = function () {\r\n    var this$1 = this;\r\n\r\n  return Object.keys(this.handlers).every(\r\n    function (key) { return this$1.handlers[key].length === 0; }\r\n  );\r\n};\r\n\r\nObject.defineProperties( EventElement.prototype, prototypeAccessors );\r\n\r\nvar EventManager = function EventManager() {\r\n  this.eventElements = [];\r\n};\r\n\r\nEventManager.prototype.eventElement = function eventElement (element) {\r\n  var ee = this.eventElements.filter(function (ee) { return ee.element === element; })[0];\r\n  if (!ee) {\r\n    ee = new EventElement(element);\r\n    this.eventElements.push(ee);\r\n  }\r\n  return ee;\r\n};\r\n\r\nEventManager.prototype.bind = function bind (element, eventName, handler) {\r\n  this.eventElement(element).bind(eventName, handler);\r\n};\r\n\r\nEventManager.prototype.unbind = function unbind (element, eventName, handler) {\r\n  var ee = this.eventElement(element);\r\n  ee.unbind(eventName, handler);\r\n\r\n  if (ee.isEmpty) {\r\n    // remove\r\n    this.eventElements.splice(this.eventElements.indexOf(ee), 1);\r\n  }\r\n};\r\n\r\nEventManager.prototype.unbindAll = function unbindAll () {\r\n  this.eventElements.forEach(function (e) { return e.unbindAll(); });\r\n  this.eventElements = [];\r\n};\r\n\r\nEventManager.prototype.once = function once (element, eventName, handler) {\r\n  var ee = this.eventElement(element);\r\n  var onceHandler = function (evt) {\r\n    ee.unbind(eventName, onceHandler);\r\n    handler(evt);\r\n  };\r\n  ee.bind(eventName, onceHandler);\r\n};\r\n\r\nfunction createEvent(name) {\r\n  if (typeof window.CustomEvent === 'function') {\r\n    return new CustomEvent(name);\r\n  } else {\r\n    var evt = document.createEvent('CustomEvent');\r\n    evt.initCustomEvent(name, false, false, undefined);\r\n    return evt;\r\n  }\r\n}\r\n\r\nfunction processScrollDiff(\r\n  i,\r\n  axis,\r\n  diff,\r\n  useScrollingClass,\r\n  forceFireReachEvent\r\n) {\r\n  if ( useScrollingClass === void 0 ) useScrollingClass = true;\r\n  if ( forceFireReachEvent === void 0 ) forceFireReachEvent = false;\r\n\r\n  var fields;\r\n  if (axis === 'top') {\r\n    fields = [\r\n      'contentHeight',\r\n      'containerHeight',\r\n      'scrollTop',\r\n      'y',\r\n      'up',\r\n      'down' ];\r\n  } else if (axis === 'left') {\r\n    fields = [\r\n      'contentWidth',\r\n      'containerWidth',\r\n      'scrollLeft',\r\n      'x',\r\n      'left',\r\n      'right' ];\r\n  } else {\r\n    throw new Error('A proper axis should be provided');\r\n  }\r\n\r\n  processScrollDiff$1(i, diff, fields, useScrollingClass, forceFireReachEvent);\r\n}\r\n\r\nfunction processScrollDiff$1(\r\n  i,\r\n  diff,\r\n  ref,\r\n  useScrollingClass,\r\n  forceFireReachEvent\r\n) {\r\n  var contentHeight = ref[0];\r\n  var containerHeight = ref[1];\r\n  var scrollTop = ref[2];\r\n  var y = ref[3];\r\n  var up = ref[4];\r\n  var down = ref[5];\r\n  if ( useScrollingClass === void 0 ) useScrollingClass = true;\r\n  if ( forceFireReachEvent === void 0 ) forceFireReachEvent = false;\r\n\r\n  var element = i.element;\r\n\r\n  // reset reach\r\n  i.reach[y] = null;\r\n\r\n  // 1 for subpixel rounding\r\n  if (element[scrollTop] < 1) {\r\n    i.reach[y] = 'start';\r\n  }\r\n\r\n  // 1 for subpixel rounding\r\n  if (element[scrollTop] > i[contentHeight] - i[containerHeight] - 1) {\r\n    i.reach[y] = 'end';\r\n  }\r\n\r\n  if (diff) {\r\n    element.dispatchEvent(createEvent((\"ps-scroll-\" + y)));\r\n\r\n    if (diff < 0) {\r\n      element.dispatchEvent(createEvent((\"ps-scroll-\" + up)));\r\n    } else if (diff > 0) {\r\n      element.dispatchEvent(createEvent((\"ps-scroll-\" + down)));\r\n    }\r\n\r\n    if (useScrollingClass) {\r\n      setScrollingClassInstantly(i, y);\r\n    }\r\n  }\r\n\r\n  if (i.reach[y] && (diff || forceFireReachEvent)) {\r\n    element.dispatchEvent(createEvent((\"ps-\" + y + \"-reach-\" + (i.reach[y]))));\r\n  }\r\n}\r\n\r\nfunction toInt(x) {\r\n  return parseInt(x, 10) || 0;\r\n}\r\n\r\nfunction isEditable(el) {\r\n  return (\r\n    matches(el, 'input,[contenteditable]') ||\r\n    matches(el, 'select,[contenteditable]') ||\r\n    matches(el, 'textarea,[contenteditable]') ||\r\n    matches(el, 'button,[contenteditable]')\r\n  );\r\n}\r\n\r\nfunction outerWidth(element) {\r\n  var styles = get(element);\r\n  return (\r\n    toInt(styles.width) +\r\n    toInt(styles.paddingLeft) +\r\n    toInt(styles.paddingRight) +\r\n    toInt(styles.borderLeftWidth) +\r\n    toInt(styles.borderRightWidth)\r\n  );\r\n}\r\n\r\nvar env = {\r\n  isWebKit:\r\n    typeof document !== 'undefined' &&\r\n    'WebkitAppearance' in document.documentElement.style,\r\n  supportsTouch:\r\n    typeof window !== 'undefined' &&\r\n    ('ontouchstart' in window ||\r\n      ('maxTouchPoints' in window.navigator &&\r\n        window.navigator.maxTouchPoints > 0) ||\r\n      (window.DocumentTouch && document instanceof window.DocumentTouch)),\r\n  supportsIePointer:\r\n    typeof navigator !== 'undefined' && navigator.msMaxTouchPoints,\r\n  isChrome:\r\n    typeof navigator !== 'undefined' &&\r\n    /Chrome/i.test(navigator && navigator.userAgent),\r\n};\r\n\r\nfunction updateGeometry(i) {\r\n  var element = i.element;\r\n  var roundedScrollTop = Math.floor(element.scrollTop);\r\n  var rect = element.getBoundingClientRect();\r\n\r\n  i.containerWidth = Math.ceil(rect.width);\r\n  i.containerHeight = Math.ceil(rect.height);\r\n  i.contentWidth = element.scrollWidth;\r\n  i.contentHeight = element.scrollHeight;\r\n\r\n  if (!element.contains(i.scrollbarXRail)) {\r\n    // clean up and append\r\n    queryChildren(element, cls.element.rail('x')).forEach(function (el) { return remove(el); }\r\n    );\r\n    element.appendChild(i.scrollbarXRail);\r\n  }\r\n  if (!element.contains(i.scrollbarYRail)) {\r\n    // clean up and append\r\n    queryChildren(element, cls.element.rail('y')).forEach(function (el) { return remove(el); }\r\n    );\r\n    element.appendChild(i.scrollbarYRail);\r\n  }\r\n\r\n  if (\r\n    !i.settings.suppressScrollX &&\r\n    i.containerWidth + i.settings.scrollXMarginOffset < i.contentWidth\r\n  ) {\r\n    i.scrollbarXActive = true;\r\n    i.railXWidth = i.containerWidth - i.railXMarginWidth;\r\n    i.railXRatio = i.containerWidth / i.railXWidth;\r\n    i.scrollbarXWidth = getThumbSize(\r\n      i,\r\n      toInt((i.railXWidth * i.containerWidth) / i.contentWidth)\r\n    );\r\n    i.scrollbarXLeft = toInt(\r\n      ((i.negativeScrollAdjustment + element.scrollLeft) *\r\n        (i.railXWidth - i.scrollbarXWidth)) /\r\n        (i.contentWidth - i.containerWidth)\r\n    );\r\n  } else {\r\n    i.scrollbarXActive = false;\r\n  }\r\n\r\n  if (\r\n    !i.settings.suppressScrollY &&\r\n    i.containerHeight + i.settings.scrollYMarginOffset < i.contentHeight\r\n  ) {\r\n    i.scrollbarYActive = true;\r\n    i.railYHeight = i.containerHeight - i.railYMarginHeight;\r\n    i.railYRatio = i.containerHeight / i.railYHeight;\r\n    i.scrollbarYHeight = getThumbSize(\r\n      i,\r\n      toInt((i.railYHeight * i.containerHeight) / i.contentHeight)\r\n    );\r\n    i.scrollbarYTop = toInt(\r\n      (roundedScrollTop * (i.railYHeight - i.scrollbarYHeight)) /\r\n        (i.contentHeight - i.containerHeight)\r\n    );\r\n  } else {\r\n    i.scrollbarYActive = false;\r\n  }\r\n\r\n  if (i.scrollbarXLeft >= i.railXWidth - i.scrollbarXWidth) {\r\n    i.scrollbarXLeft = i.railXWidth - i.scrollbarXWidth;\r\n  }\r\n  if (i.scrollbarYTop >= i.railYHeight - i.scrollbarYHeight) {\r\n    i.scrollbarYTop = i.railYHeight - i.scrollbarYHeight;\r\n  }\r\n\r\n  updateCss(element, i);\r\n\r\n  if (i.scrollbarXActive) {\r\n    element.classList.add(cls.state.active('x'));\r\n  } else {\r\n    element.classList.remove(cls.state.active('x'));\r\n    i.scrollbarXWidth = 0;\r\n    i.scrollbarXLeft = 0;\r\n    element.scrollLeft = i.isRtl === true ? i.contentWidth : 0;\r\n  }\r\n  if (i.scrollbarYActive) {\r\n    element.classList.add(cls.state.active('y'));\r\n  } else {\r\n    element.classList.remove(cls.state.active('y'));\r\n    i.scrollbarYHeight = 0;\r\n    i.scrollbarYTop = 0;\r\n    element.scrollTop = 0;\r\n  }\r\n}\r\n\r\nfunction getThumbSize(i, thumbSize) {\r\n  if (i.settings.minScrollbarLength) {\r\n    thumbSize = Math.max(thumbSize, i.settings.minScrollbarLength);\r\n  }\r\n  if (i.settings.maxScrollbarLength) {\r\n    thumbSize = Math.min(thumbSize, i.settings.maxScrollbarLength);\r\n  }\r\n  return thumbSize;\r\n}\r\n\r\nfunction updateCss(element, i) {\r\n  var xRailOffset = { width: i.railXWidth };\r\n  var roundedScrollTop = Math.floor(element.scrollTop);\r\n\r\n  if (i.isRtl) {\r\n    xRailOffset.left =\r\n      i.negativeScrollAdjustment +\r\n      element.scrollLeft +\r\n      i.containerWidth -\r\n      i.contentWidth;\r\n  } else {\r\n    xRailOffset.left = element.scrollLeft;\r\n  }\r\n  if (i.isScrollbarXUsingBottom) {\r\n    xRailOffset.bottom = i.scrollbarXBottom - roundedScrollTop;\r\n  } else {\r\n    xRailOffset.top = i.scrollbarXTop + roundedScrollTop;\r\n  }\r\n  set(i.scrollbarXRail, xRailOffset);\r\n\r\n  var yRailOffset = { top: roundedScrollTop, height: i.railYHeight };\r\n  if (i.isScrollbarYUsingRight) {\r\n    if (i.isRtl) {\r\n      yRailOffset.right =\r\n        i.contentWidth -\r\n        (i.negativeScrollAdjustment + element.scrollLeft) -\r\n        i.scrollbarYRight -\r\n        i.scrollbarYOuterWidth -\r\n        9;\r\n    } else {\r\n      yRailOffset.right = i.scrollbarYRight - element.scrollLeft;\r\n    }\r\n  } else {\r\n    if (i.isRtl) {\r\n      yRailOffset.left =\r\n        i.negativeScrollAdjustment +\r\n        element.scrollLeft +\r\n        i.containerWidth * 2 -\r\n        i.contentWidth -\r\n        i.scrollbarYLeft -\r\n        i.scrollbarYOuterWidth;\r\n    } else {\r\n      yRailOffset.left = i.scrollbarYLeft + element.scrollLeft;\r\n    }\r\n  }\r\n  set(i.scrollbarYRail, yRailOffset);\r\n\r\n  set(i.scrollbarX, {\r\n    left: i.scrollbarXLeft,\r\n    width: i.scrollbarXWidth - i.railBorderXWidth,\r\n  });\r\n  set(i.scrollbarY, {\r\n    top: i.scrollbarYTop,\r\n    height: i.scrollbarYHeight - i.railBorderYWidth,\r\n  });\r\n}\r\n\r\nfunction clickRail(i) {\r\n  var element = i.element;\r\n\r\n  i.event.bind(i.scrollbarY, 'mousedown', function (e) { return e.stopPropagation(); });\r\n  i.event.bind(i.scrollbarYRail, 'mousedown', function (e) {\r\n    var positionTop =\r\n      e.pageY -\r\n      window.pageYOffset -\r\n      i.scrollbarYRail.getBoundingClientRect().top;\r\n    var direction = positionTop > i.scrollbarYTop ? 1 : -1;\r\n\r\n    i.element.scrollTop += direction * i.containerHeight;\r\n    updateGeometry(i);\r\n\r\n    e.stopPropagation();\r\n  });\r\n\r\n  i.event.bind(i.scrollbarX, 'mousedown', function (e) { return e.stopPropagation(); });\r\n  i.event.bind(i.scrollbarXRail, 'mousedown', function (e) {\r\n    var positionLeft =\r\n      e.pageX -\r\n      window.pageXOffset -\r\n      i.scrollbarXRail.getBoundingClientRect().left;\r\n    var direction = positionLeft > i.scrollbarXLeft ? 1 : -1;\r\n\r\n    i.element.scrollLeft += direction * i.containerWidth;\r\n    updateGeometry(i);\r\n\r\n    e.stopPropagation();\r\n  });\r\n}\r\n\r\nfunction dragThumb(i) {\r\n  bindMouseScrollHandler(i, [\r\n    'containerWidth',\r\n    'contentWidth',\r\n    'pageX',\r\n    'railXWidth',\r\n    'scrollbarX',\r\n    'scrollbarXWidth',\r\n    'scrollLeft',\r\n    'x',\r\n    'scrollbarXRail' ]);\r\n  bindMouseScrollHandler(i, [\r\n    'containerHeight',\r\n    'contentHeight',\r\n    'pageY',\r\n    'railYHeight',\r\n    'scrollbarY',\r\n    'scrollbarYHeight',\r\n    'scrollTop',\r\n    'y',\r\n    'scrollbarYRail' ]);\r\n}\r\n\r\nfunction bindMouseScrollHandler(\r\n  i,\r\n  ref\r\n) {\r\n  var containerHeight = ref[0];\r\n  var contentHeight = ref[1];\r\n  var pageY = ref[2];\r\n  var railYHeight = ref[3];\r\n  var scrollbarY = ref[4];\r\n  var scrollbarYHeight = ref[5];\r\n  var scrollTop = ref[6];\r\n  var y = ref[7];\r\n  var scrollbarYRail = ref[8];\r\n\r\n  var element = i.element;\r\n\r\n  var startingScrollTop = null;\r\n  var startingMousePageY = null;\r\n  var scrollBy = null;\r\n\r\n  function mouseMoveHandler(e) {\r\n    if (e.touches && e.touches[0]) {\r\n      e[pageY] = e.touches[0].pageY;\r\n    }\r\n    element[scrollTop] =\r\n      startingScrollTop + scrollBy * (e[pageY] - startingMousePageY);\r\n    addScrollingClass(i, y);\r\n    updateGeometry(i);\r\n\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n  }\r\n\r\n  function mouseUpHandler() {\r\n    removeScrollingClass(i, y);\r\n    i[scrollbarYRail].classList.remove(cls.state.clicking);\r\n    i.event.unbind(i.ownerDocument, 'mousemove', mouseMoveHandler);\r\n  }\r\n\r\n  function bindMoves(e, touchMode) {\r\n    startingScrollTop = element[scrollTop];\r\n    if (touchMode && e.touches) {\r\n      e[pageY] = e.touches[0].pageY;\r\n    }\r\n    startingMousePageY = e[pageY];\r\n    scrollBy =\r\n      (i[contentHeight] - i[containerHeight]) /\r\n      (i[railYHeight] - i[scrollbarYHeight]);\r\n    if (!touchMode) {\r\n      i.event.bind(i.ownerDocument, 'mousemove', mouseMoveHandler);\r\n      i.event.once(i.ownerDocument, 'mouseup', mouseUpHandler);\r\n      e.preventDefault();\r\n    } else {\r\n      i.event.bind(i.ownerDocument, 'touchmove', mouseMoveHandler);\r\n    }\r\n\r\n    i[scrollbarYRail].classList.add(cls.state.clicking);\r\n\r\n    e.stopPropagation();\r\n  }\r\n\r\n  i.event.bind(i[scrollbarY], 'mousedown', function (e) {\r\n    bindMoves(e);\r\n  });\r\n  i.event.bind(i[scrollbarY], 'touchstart', function (e) {\r\n    bindMoves(e, true);\r\n  });\r\n}\r\n\r\nfunction keyboard(i) {\r\n  var element = i.element;\r\n\r\n  var elementHovered = function () { return matches(element, ':hover'); };\r\n  var scrollbarFocused = function () { return matches(i.scrollbarX, ':focus') || matches(i.scrollbarY, ':focus'); };\r\n\r\n  function shouldPreventDefault(deltaX, deltaY) {\r\n    var scrollTop = Math.floor(element.scrollTop);\r\n    if (deltaX === 0) {\r\n      if (!i.scrollbarYActive) {\r\n        return false;\r\n      }\r\n      if (\r\n        (scrollTop === 0 && deltaY > 0) ||\r\n        (scrollTop >= i.contentHeight - i.containerHeight && deltaY < 0)\r\n      ) {\r\n        return !i.settings.wheelPropagation;\r\n      }\r\n    }\r\n\r\n    var scrollLeft = element.scrollLeft;\r\n    if (deltaY === 0) {\r\n      if (!i.scrollbarXActive) {\r\n        return false;\r\n      }\r\n      if (\r\n        (scrollLeft === 0 && deltaX < 0) ||\r\n        (scrollLeft >= i.contentWidth - i.containerWidth && deltaX > 0)\r\n      ) {\r\n        return !i.settings.wheelPropagation;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  i.event.bind(i.ownerDocument, 'keydown', function (e) {\r\n    if (\r\n      (e.isDefaultPrevented && e.isDefaultPrevented()) ||\r\n      e.defaultPrevented\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    if (!elementHovered() && !scrollbarFocused()) {\r\n      return;\r\n    }\r\n\r\n    var activeElement = document.activeElement\r\n      ? document.activeElement\r\n      : i.ownerDocument.activeElement;\r\n    if (activeElement) {\r\n      if (activeElement.tagName === 'IFRAME') {\r\n        activeElement = activeElement.contentDocument.activeElement;\r\n      } else {\r\n        // go deeper if element is a webcomponent\r\n        while (activeElement.shadowRoot) {\r\n          activeElement = activeElement.shadowRoot.activeElement;\r\n        }\r\n      }\r\n      if (isEditable(activeElement)) {\r\n        return;\r\n      }\r\n    }\r\n\r\n    var deltaX = 0;\r\n    var deltaY = 0;\r\n\r\n    switch (e.which) {\r\n      case 37: // left\r\n        if (e.metaKey) {\r\n          deltaX = -i.contentWidth;\r\n        } else if (e.altKey) {\r\n          deltaX = -i.containerWidth;\r\n        } else {\r\n          deltaX = -30;\r\n        }\r\n        break;\r\n      case 38: // up\r\n        if (e.metaKey) {\r\n          deltaY = i.contentHeight;\r\n        } else if (e.altKey) {\r\n          deltaY = i.containerHeight;\r\n        } else {\r\n          deltaY = 30;\r\n        }\r\n        break;\r\n      case 39: // right\r\n        if (e.metaKey) {\r\n          deltaX = i.contentWidth;\r\n        } else if (e.altKey) {\r\n          deltaX = i.containerWidth;\r\n        } else {\r\n          deltaX = 30;\r\n        }\r\n        break;\r\n      case 40: // down\r\n        if (e.metaKey) {\r\n          deltaY = -i.contentHeight;\r\n        } else if (e.altKey) {\r\n          deltaY = -i.containerHeight;\r\n        } else {\r\n          deltaY = -30;\r\n        }\r\n        break;\r\n      case 32: // space bar\r\n        if (e.shiftKey) {\r\n          deltaY = i.containerHeight;\r\n        } else {\r\n          deltaY = -i.containerHeight;\r\n        }\r\n        break;\r\n      case 33: // page up\r\n        deltaY = i.containerHeight;\r\n        break;\r\n      case 34: // page down\r\n        deltaY = -i.containerHeight;\r\n        break;\r\n      case 36: // home\r\n        deltaY = i.contentHeight;\r\n        break;\r\n      case 35: // end\r\n        deltaY = -i.contentHeight;\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n\r\n    if (i.settings.suppressScrollX && deltaX !== 0) {\r\n      return;\r\n    }\r\n    if (i.settings.suppressScrollY && deltaY !== 0) {\r\n      return;\r\n    }\r\n\r\n    element.scrollTop -= deltaY;\r\n    element.scrollLeft += deltaX;\r\n    updateGeometry(i);\r\n\r\n    if (shouldPreventDefault(deltaX, deltaY)) {\r\n      e.preventDefault();\r\n    }\r\n  });\r\n}\r\n\r\nfunction wheel(i) {\r\n  var element = i.element;\r\n\r\n  function shouldPreventDefault(deltaX, deltaY) {\r\n    var roundedScrollTop = Math.floor(element.scrollTop);\r\n    var isTop = element.scrollTop === 0;\r\n    var isBottom =\r\n      roundedScrollTop + element.offsetHeight === element.scrollHeight;\r\n    var isLeft = element.scrollLeft === 0;\r\n    var isRight =\r\n      element.scrollLeft + element.offsetWidth === element.scrollWidth;\r\n\r\n    var hitsBound;\r\n\r\n    // pick axis with primary direction\r\n    if (Math.abs(deltaY) > Math.abs(deltaX)) {\r\n      hitsBound = isTop || isBottom;\r\n    } else {\r\n      hitsBound = isLeft || isRight;\r\n    }\r\n\r\n    return hitsBound ? !i.settings.wheelPropagation : true;\r\n  }\r\n\r\n  function getDeltaFromEvent(e) {\r\n    var deltaX = e.deltaX;\r\n    var deltaY = -1 * e.deltaY;\r\n\r\n    if (typeof deltaX === 'undefined' || typeof deltaY === 'undefined') {\r\n      // OS X Safari\r\n      deltaX = (-1 * e.wheelDeltaX) / 6;\r\n      deltaY = e.wheelDeltaY / 6;\r\n    }\r\n\r\n    if (e.deltaMode && e.deltaMode === 1) {\r\n      // Firefox in deltaMode 1: Line scrolling\r\n      deltaX *= 10;\r\n      deltaY *= 10;\r\n    }\r\n\r\n    if (deltaX !== deltaX && deltaY !== deltaY /* NaN checks */) {\r\n      // IE in some mouse drivers\r\n      deltaX = 0;\r\n      deltaY = e.wheelDelta;\r\n    }\r\n\r\n    if (e.shiftKey) {\r\n      // reverse axis with shift key\r\n      return [-deltaY, -deltaX];\r\n    }\r\n    return [deltaX, deltaY];\r\n  }\r\n\r\n  function shouldBeConsumedByChild(target, deltaX, deltaY) {\r\n    // FIXME: this is a workaround for <select> issue in FF and IE #571\r\n    if (!env.isWebKit && element.querySelector('select:focus')) {\r\n      return true;\r\n    }\r\n\r\n    if (!element.contains(target)) {\r\n      return false;\r\n    }\r\n\r\n    var cursor = target;\r\n\r\n    while (cursor && cursor !== element) {\r\n      if (cursor.classList.contains(cls.element.consuming)) {\r\n        return true;\r\n      }\r\n\r\n      var style = get(cursor);\r\n\r\n      // if deltaY && vertical scrollable\r\n      if (deltaY && style.overflowY.match(/(scroll|auto)/)) {\r\n        var maxScrollTop = cursor.scrollHeight - cursor.clientHeight;\r\n        if (maxScrollTop > 0) {\r\n          if (\r\n            (cursor.scrollTop > 0 && deltaY < 0) ||\r\n            (cursor.scrollTop < maxScrollTop && deltaY > 0)\r\n          ) {\r\n            return true;\r\n          }\r\n        }\r\n      }\r\n      // if deltaX && horizontal scrollable\r\n      if (deltaX && style.overflowX.match(/(scroll|auto)/)) {\r\n        var maxScrollLeft = cursor.scrollWidth - cursor.clientWidth;\r\n        if (maxScrollLeft > 0) {\r\n          if (\r\n            (cursor.scrollLeft > 0 && deltaX < 0) ||\r\n            (cursor.scrollLeft < maxScrollLeft && deltaX > 0)\r\n          ) {\r\n            return true;\r\n          }\r\n        }\r\n      }\r\n\r\n      cursor = cursor.parentNode;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  function mousewheelHandler(e) {\r\n    var ref = getDeltaFromEvent(e);\r\n    var deltaX = ref[0];\r\n    var deltaY = ref[1];\r\n\r\n    if (shouldBeConsumedByChild(e.target, deltaX, deltaY)) {\r\n      return;\r\n    }\r\n\r\n    var shouldPrevent = false;\r\n    if (!i.settings.useBothWheelAxes) {\r\n      // deltaX will only be used for horizontal scrolling and deltaY will\r\n      // only be used for vertical scrolling - this is the default\r\n      element.scrollTop -= deltaY * i.settings.wheelSpeed;\r\n      element.scrollLeft += deltaX * i.settings.wheelSpeed;\r\n    } else if (i.scrollbarYActive && !i.scrollbarXActive) {\r\n      // only vertical scrollbar is active and useBothWheelAxes option is\r\n      // active, so let's scroll vertical bar using both mouse wheel axes\r\n      if (deltaY) {\r\n        element.scrollTop -= deltaY * i.settings.wheelSpeed;\r\n      } else {\r\n        element.scrollTop += deltaX * i.settings.wheelSpeed;\r\n      }\r\n      shouldPrevent = true;\r\n    } else if (i.scrollbarXActive && !i.scrollbarYActive) {\r\n      // useBothWheelAxes and only horizontal bar is active, so use both\r\n      // wheel axes for horizontal bar\r\n      if (deltaX) {\r\n        element.scrollLeft += deltaX * i.settings.wheelSpeed;\r\n      } else {\r\n        element.scrollLeft -= deltaY * i.settings.wheelSpeed;\r\n      }\r\n      shouldPrevent = true;\r\n    }\r\n\r\n    updateGeometry(i);\r\n\r\n    shouldPrevent = shouldPrevent || shouldPreventDefault(deltaX, deltaY);\r\n    if (shouldPrevent && !e.ctrlKey) {\r\n      e.stopPropagation();\r\n      e.preventDefault();\r\n    }\r\n  }\r\n\r\n  if (typeof window.onwheel !== 'undefined') {\r\n    i.event.bind(element, 'wheel', mousewheelHandler);\r\n  } else if (typeof window.onmousewheel !== 'undefined') {\r\n    i.event.bind(element, 'mousewheel', mousewheelHandler);\r\n  }\r\n}\r\n\r\nfunction touch(i) {\r\n  if (!env.supportsTouch && !env.supportsIePointer) {\r\n    return;\r\n  }\r\n\r\n  var element = i.element;\r\n\r\n  function shouldPrevent(deltaX, deltaY) {\r\n    var scrollTop = Math.floor(element.scrollTop);\r\n    var scrollLeft = element.scrollLeft;\r\n    var magnitudeX = Math.abs(deltaX);\r\n    var magnitudeY = Math.abs(deltaY);\r\n\r\n    if (magnitudeY > magnitudeX) {\r\n      // user is perhaps trying to swipe up/down the page\r\n\r\n      if (\r\n        (deltaY < 0 && scrollTop === i.contentHeight - i.containerHeight) ||\r\n        (deltaY > 0 && scrollTop === 0)\r\n      ) {\r\n        // set prevent for mobile Chrome refresh\r\n        return window.scrollY === 0 && deltaY > 0 && env.isChrome;\r\n      }\r\n    } else if (magnitudeX > magnitudeY) {\r\n      // user is perhaps trying to swipe left/right across the page\r\n\r\n      if (\r\n        (deltaX < 0 && scrollLeft === i.contentWidth - i.containerWidth) ||\r\n        (deltaX > 0 && scrollLeft === 0)\r\n      ) {\r\n        return true;\r\n      }\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  function applyTouchMove(differenceX, differenceY) {\r\n    element.scrollTop -= differenceY;\r\n    element.scrollLeft -= differenceX;\r\n\r\n    updateGeometry(i);\r\n  }\r\n\r\n  var startOffset = {};\r\n  var startTime = 0;\r\n  var speed = {};\r\n  var easingLoop = null;\r\n\r\n  function getTouch(e) {\r\n    if (e.targetTouches) {\r\n      return e.targetTouches[0];\r\n    } else {\r\n      // Maybe IE pointer\r\n      return e;\r\n    }\r\n  }\r\n\r\n  function shouldHandle(e) {\r\n    if (e.pointerType && e.pointerType === 'pen' && e.buttons === 0) {\r\n      return false;\r\n    }\r\n    if (e.targetTouches && e.targetTouches.length === 1) {\r\n      return true;\r\n    }\r\n    if (\r\n      e.pointerType &&\r\n      e.pointerType !== 'mouse' &&\r\n      e.pointerType !== e.MSPOINTER_TYPE_MOUSE\r\n    ) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  function touchStart(e) {\r\n    if (!shouldHandle(e)) {\r\n      return;\r\n    }\r\n\r\n    var touch = getTouch(e);\r\n\r\n    startOffset.pageX = touch.pageX;\r\n    startOffset.pageY = touch.pageY;\r\n\r\n    startTime = new Date().getTime();\r\n\r\n    if (easingLoop !== null) {\r\n      clearInterval(easingLoop);\r\n    }\r\n  }\r\n\r\n  function shouldBeConsumedByChild(target, deltaX, deltaY) {\r\n    if (!element.contains(target)) {\r\n      return false;\r\n    }\r\n\r\n    var cursor = target;\r\n\r\n    while (cursor && cursor !== element) {\r\n      if (cursor.classList.contains(cls.element.consuming)) {\r\n        return true;\r\n      }\r\n\r\n      var style = get(cursor);\r\n\r\n      // if deltaY && vertical scrollable\r\n      if (deltaY && style.overflowY.match(/(scroll|auto)/)) {\r\n        var maxScrollTop = cursor.scrollHeight - cursor.clientHeight;\r\n        if (maxScrollTop > 0) {\r\n          if (\r\n            (cursor.scrollTop > 0 && deltaY < 0) ||\r\n            (cursor.scrollTop < maxScrollTop && deltaY > 0)\r\n          ) {\r\n            return true;\r\n          }\r\n        }\r\n      }\r\n      // if deltaX && horizontal scrollable\r\n      if (deltaX && style.overflowX.match(/(scroll|auto)/)) {\r\n        var maxScrollLeft = cursor.scrollWidth - cursor.clientWidth;\r\n        if (maxScrollLeft > 0) {\r\n          if (\r\n            (cursor.scrollLeft > 0 && deltaX < 0) ||\r\n            (cursor.scrollLeft < maxScrollLeft && deltaX > 0)\r\n          ) {\r\n            return true;\r\n          }\r\n        }\r\n      }\r\n\r\n      cursor = cursor.parentNode;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  function touchMove(e) {\r\n    if (shouldHandle(e)) {\r\n      var touch = getTouch(e);\r\n\r\n      var currentOffset = { pageX: touch.pageX, pageY: touch.pageY };\r\n\r\n      var differenceX = currentOffset.pageX - startOffset.pageX;\r\n      var differenceY = currentOffset.pageY - startOffset.pageY;\r\n\r\n      if (shouldBeConsumedByChild(e.target, differenceX, differenceY)) {\r\n        return;\r\n      }\r\n\r\n      applyTouchMove(differenceX, differenceY);\r\n      startOffset = currentOffset;\r\n\r\n      var currentTime = new Date().getTime();\r\n\r\n      var timeGap = currentTime - startTime;\r\n      if (timeGap > 0) {\r\n        speed.x = differenceX / timeGap;\r\n        speed.y = differenceY / timeGap;\r\n        startTime = currentTime;\r\n      }\r\n\r\n      if (shouldPrevent(differenceX, differenceY)) {\r\n        e.preventDefault();\r\n      }\r\n    }\r\n  }\r\n  function touchEnd() {\r\n    if (i.settings.swipeEasing) {\r\n      clearInterval(easingLoop);\r\n      easingLoop = setInterval(function() {\r\n        if (i.isInitialized) {\r\n          clearInterval(easingLoop);\r\n          return;\r\n        }\r\n\r\n        if (!speed.x && !speed.y) {\r\n          clearInterval(easingLoop);\r\n          return;\r\n        }\r\n\r\n        if (Math.abs(speed.x) < 0.01 && Math.abs(speed.y) < 0.01) {\r\n          clearInterval(easingLoop);\r\n          return;\r\n        }\r\n\r\n        applyTouchMove(speed.x * 30, speed.y * 30);\r\n\r\n        speed.x *= 0.8;\r\n        speed.y *= 0.8;\r\n      }, 10);\r\n    }\r\n  }\r\n\r\n  if (env.supportsTouch) {\r\n    i.event.bind(element, 'touchstart', touchStart);\r\n    i.event.bind(element, 'touchmove', touchMove);\r\n    i.event.bind(element, 'touchend', touchEnd);\r\n  } else if (env.supportsIePointer) {\r\n    if (window.PointerEvent) {\r\n      i.event.bind(element, 'pointerdown', touchStart);\r\n      i.event.bind(element, 'pointermove', touchMove);\r\n      i.event.bind(element, 'pointerup', touchEnd);\r\n    } else if (window.MSPointerEvent) {\r\n      i.event.bind(element, 'MSPointerDown', touchStart);\r\n      i.event.bind(element, 'MSPointerMove', touchMove);\r\n      i.event.bind(element, 'MSPointerUp', touchEnd);\r\n    }\r\n  }\r\n}\r\n\r\nvar defaultSettings = function () { return ({\r\n  handlers: ['click-rail', 'drag-thumb', 'keyboard', 'wheel', 'touch'],\r\n  maxScrollbarLength: null,\r\n  minScrollbarLength: null,\r\n  scrollingThreshold: 1000,\r\n  scrollXMarginOffset: 0,\r\n  scrollYMarginOffset: 0,\r\n  suppressScrollX: false,\r\n  suppressScrollY: false,\r\n  swipeEasing: true,\r\n  useBothWheelAxes: false,\r\n  wheelPropagation: true,\r\n  wheelSpeed: 1,\r\n}); };\r\n\r\nvar handlers = {\r\n  'click-rail': clickRail,\r\n  'drag-thumb': dragThumb,\r\n  keyboard: keyboard,\r\n  wheel: wheel,\r\n  touch: touch,\r\n};\r\n\r\nvar PerfectScrollbar = function PerfectScrollbar(element, userSettings) {\r\n  var this$1 = this;\r\n  if ( userSettings === void 0 ) userSettings = {};\r\n\r\n  if (typeof element === 'string') {\r\n    element = document.querySelector(element);\r\n  }\r\n\r\n  if (!element || !element.nodeName) {\r\n    throw new Error('no element is specified to initialize PerfectScrollbar');\r\n  }\r\n\r\n  this.element = element;\r\n\r\n  element.classList.add(cls.main);\r\n\r\n  this.settings = defaultSettings();\r\n  for (var key in userSettings) {\r\n    this.settings[key] = userSettings[key];\r\n  }\r\n\r\n  this.containerWidth = null;\r\n  this.containerHeight = null;\r\n  this.contentWidth = null;\r\n  this.contentHeight = null;\r\n\r\n  var focus = function () { return element.classList.add(cls.state.focus); };\r\n  var blur = function () { return element.classList.remove(cls.state.focus); };\r\n\r\n  this.isRtl = get(element).direction === 'rtl';\r\n  if (this.isRtl === true) {\r\n    element.classList.add(cls.rtl);\r\n  }\r\n  this.isNegativeScroll = (function () {\r\n    var originalScrollLeft = element.scrollLeft;\r\n    var result = null;\r\n    element.scrollLeft = -1;\r\n    result = element.scrollLeft < 0;\r\n    element.scrollLeft = originalScrollLeft;\r\n    return result;\r\n  })();\r\n  this.negativeScrollAdjustment = this.isNegativeScroll\r\n    ? element.scrollWidth - element.clientWidth\r\n    : 0;\r\n  this.event = new EventManager();\r\n  this.ownerDocument = element.ownerDocument || document;\r\n\r\n  this.scrollbarXRail = div(cls.element.rail('x'));\r\n  element.appendChild(this.scrollbarXRail);\r\n  this.scrollbarX = div(cls.element.thumb('x'));\r\n  this.scrollbarXRail.appendChild(this.scrollbarX);\r\n  this.scrollbarX.setAttribute('tabindex', 0);\r\n  this.event.bind(this.scrollbarX, 'focus', focus);\r\n  this.event.bind(this.scrollbarX, 'blur', blur);\r\n  this.scrollbarXActive = null;\r\n  this.scrollbarXWidth = null;\r\n  this.scrollbarXLeft = null;\r\n  var railXStyle = get(this.scrollbarXRail);\r\n  this.scrollbarXBottom = parseInt(railXStyle.bottom, 10);\r\n  if (isNaN(this.scrollbarXBottom)) {\r\n    this.isScrollbarXUsingBottom = false;\r\n    this.scrollbarXTop = toInt(railXStyle.top);\r\n  } else {\r\n    this.isScrollbarXUsingBottom = true;\r\n  }\r\n  this.railBorderXWidth =\r\n    toInt(railXStyle.borderLeftWidth) + toInt(railXStyle.borderRightWidth);\r\n  // Set rail to display:block to calculate margins\r\n  set(this.scrollbarXRail, { display: 'block' });\r\n  this.railXMarginWidth =\r\n    toInt(railXStyle.marginLeft) + toInt(railXStyle.marginRight);\r\n  set(this.scrollbarXRail, { display: '' });\r\n  this.railXWidth = null;\r\n  this.railXRatio = null;\r\n\r\n  this.scrollbarYRail = div(cls.element.rail('y'));\r\n  element.appendChild(this.scrollbarYRail);\r\n  this.scrollbarY = div(cls.element.thumb('y'));\r\n  this.scrollbarYRail.appendChild(this.scrollbarY);\r\n  this.scrollbarY.setAttribute('tabindex', 0);\r\n  this.event.bind(this.scrollbarY, 'focus', focus);\r\n  this.event.bind(this.scrollbarY, 'blur', blur);\r\n  this.scrollbarYActive = null;\r\n  this.scrollbarYHeight = null;\r\n  this.scrollbarYTop = null;\r\n  var railYStyle = get(this.scrollbarYRail);\r\n  this.scrollbarYRight = parseInt(railYStyle.right, 10);\r\n  if (isNaN(this.scrollbarYRight)) {\r\n    this.isScrollbarYUsingRight = false;\r\n    this.scrollbarYLeft = toInt(railYStyle.left);\r\n  } else {\r\n    this.isScrollbarYUsingRight = true;\r\n  }\r\n  this.scrollbarYOuterWidth = this.isRtl ? outerWidth(this.scrollbarY) : null;\r\n  this.railBorderYWidth =\r\n    toInt(railYStyle.borderTopWidth) + toInt(railYStyle.borderBottomWidth);\r\n  set(this.scrollbarYRail, { display: 'block' });\r\n  this.railYMarginHeight =\r\n    toInt(railYStyle.marginTop) + toInt(railYStyle.marginBottom);\r\n  set(this.scrollbarYRail, { display: '' });\r\n  this.railYHeight = null;\r\n  this.railYRatio = null;\r\n\r\n  this.reach = {\r\n    x:\r\n      element.scrollLeft <= 0\r\n        ? 'start'\r\n        : element.scrollLeft >= this.contentWidth - this.containerWidth\r\n        ? 'end'\r\n        : null,\r\n    y:\r\n      element.scrollTop <= 0\r\n        ? 'start'\r\n        : element.scrollTop >= this.contentHeight - this.containerHeight\r\n        ? 'end'\r\n        : null,\r\n  };\r\n\r\n  this.isAlive = true;\r\n\r\n  this.settings.handlers.forEach(function (handlerName) { return handlers[handlerName](this$1); });\r\n\r\n  this.lastScrollTop = Math.floor(element.scrollTop); // for onScroll only\r\n  this.lastScrollLeft = element.scrollLeft; // for onScroll only\r\n  this.event.bind(this.element, 'scroll', function (e) { return this$1.onScroll(e); });\r\n  updateGeometry(this);\r\n};\r\n\r\nPerfectScrollbar.prototype.update = function update () {\r\n  if (!this.isAlive) {\r\n    return;\r\n  }\r\n\r\n  // Recalcuate negative scrollLeft adjustment\r\n  this.negativeScrollAdjustment = this.isNegativeScroll\r\n    ? this.element.scrollWidth - this.element.clientWidth\r\n    : 0;\r\n\r\n  // Recalculate rail margins\r\n  set(this.scrollbarXRail, { display: 'block' });\r\n  set(this.scrollbarYRail, { display: 'block' });\r\n  this.railXMarginWidth =\r\n    toInt(get(this.scrollbarXRail).marginLeft) +\r\n    toInt(get(this.scrollbarXRail).marginRight);\r\n  this.railYMarginHeight =\r\n    toInt(get(this.scrollbarYRail).marginTop) +\r\n    toInt(get(this.scrollbarYRail).marginBottom);\r\n\r\n  // Hide scrollbars not to affect scrollWidth and scrollHeight\r\n  set(this.scrollbarXRail, { display: 'none' });\r\n  set(this.scrollbarYRail, { display: 'none' });\r\n\r\n  updateGeometry(this);\r\n\r\n  processScrollDiff(this, 'top', 0, false, true);\r\n  processScrollDiff(this, 'left', 0, false, true);\r\n\r\n  set(this.scrollbarXRail, { display: '' });\r\n  set(this.scrollbarYRail, { display: '' });\r\n};\r\n\r\nPerfectScrollbar.prototype.onScroll = function onScroll (e) {\r\n  if (!this.isAlive) {\r\n    return;\r\n  }\r\n\r\n  updateGeometry(this);\r\n  processScrollDiff(this, 'top', this.element.scrollTop - this.lastScrollTop);\r\n  processScrollDiff(\r\n    this,\r\n    'left',\r\n    this.element.scrollLeft - this.lastScrollLeft\r\n  );\r\n\r\n  this.lastScrollTop = Math.floor(this.element.scrollTop);\r\n  this.lastScrollLeft = this.element.scrollLeft;\r\n};\r\n\r\nPerfectScrollbar.prototype.destroy = function destroy () {\r\n  if (!this.isAlive) {\r\n    return;\r\n  }\r\n\r\n  this.event.unbindAll();\r\n  remove(this.scrollbarX);\r\n  remove(this.scrollbarY);\r\n  remove(this.scrollbarXRail);\r\n  remove(this.scrollbarYRail);\r\n  this.removePsClasses();\r\n\r\n  // unset elements\r\n  this.element = null;\r\n  this.scrollbarX = null;\r\n  this.scrollbarY = null;\r\n  this.scrollbarXRail = null;\r\n  this.scrollbarYRail = null;\r\n\r\n  this.isAlive = false;\r\n};\r\n\r\nPerfectScrollbar.prototype.removePsClasses = function removePsClasses () {\r\n  this.element.className = this.element.className\r\n    .split(' ')\r\n    .filter(function (name) { return !name.match(/^ps([-_].+|)$/); })\r\n    .join(' ');\r\n};\r\n\r\nexport default PerfectScrollbar;\r\n//# sourceMappingURL=perfect-scrollbar.esm.js.map\r\n","module.exports = __WEBPACK_EXTERNAL_MODULE__11__;","module.exports = __WEBPACK_EXTERNAL_MODULE__12__;","module.exports = __WEBPACK_EXTERNAL_MODULE__14__;","module.exports = __WEBPACK_EXTERNAL_MODULE__15__;","module.exports = __WEBPACK_EXTERNAL_MODULE__16__;","module.exports = __WEBPACK_EXTERNAL_MODULE__17__;","module.exports = __WEBPACK_EXTERNAL_MODULE__18__;","module.exports = __WEBPACK_EXTERNAL_MODULE__19__;","module.exports = __WEBPACK_EXTERNAL_MODULE__20__;","module.exports = __WEBPACK_EXTERNAL_MODULE__21__;","module.exports = __WEBPACK_EXTERNAL_MODULE__22__;","define([\r\n  'jquery',\r\n  'lodash',\r\n  'angular',\r\n  'tether-drop',\r\n],\r\nfunction ($, _, angular, Drop) {\r\n  'use strict';\r\n\r\n  function createAnnotationToolip(element, event, plot) {\r\n    var injector = angular.element(document).injector();\r\n    var content = document.createElement('div');\r\n    content.innerHTML = '<annotation-tooltip event=\"event\" on-edit=\"onEdit()\"></annotation-tooltip>';\r\n\r\n    injector.invoke([\"$compile\", \"$rootScope\", function($compile, $rootScope) {\r\n      var eventManager = plot.getOptions().events.manager;\r\n      var tmpScope = $rootScope.$new(true);\r\n      tmpScope.event = event;\r\n      tmpScope.onEdit = function() {\r\n        eventManager.editEvent(event);\r\n      };\r\n\r\n      $compile(content)(tmpScope);\r\n      tmpScope.$digest();\r\n      tmpScope.$destroy();\r\n\r\n      var drop = new Drop({\r\n        target: element[0],\r\n        content: content,\r\n        position: \"bottom center\",\r\n        classes: 'drop-popover drop-popover--annotation',\r\n        openOn: 'hover',\r\n        hoverCloseDelay: 200,\r\n        tetherOptions: {\r\n          constraints: [{to: 'window', pin: true, attachment: \"both\"}]\r\n        }\r\n      });\r\n\r\n      drop.open();\r\n\r\n      drop.on('close', function() {\r\n        setTimeout(function() {\r\n          drop.destroy();\r\n        });\r\n      });\r\n    }]);\r\n  }\r\n\r\n  var markerElementToAttachTo = null;\r\n\r\n  function createEditPopover(element, event, plot) {\r\n    var eventManager = plot.getOptions().events.manager;\r\n    if (eventManager.editorOpen) {\r\n      // update marker element to attach to (needed in case of legend on the right\r\n      // when there is a double render pass and the inital marker element is removed)\r\n      markerElementToAttachTo = element;\r\n      return;\r\n    }\r\n\r\n    // mark as openend\r\n    eventManager.editorOpened();\r\n    // set marker elment to attache to\r\n    markerElementToAttachTo = element;\r\n\r\n    // wait for element to be attached and positioned\r\n    setTimeout(function() {\r\n\r\n      var injector = angular.element(document).injector();\r\n      var content = document.createElement('div');\r\n      content.innerHTML = '<event-editor panel-ctrl=\"panelCtrl\" event=\"event\" close=\"close()\"></event-editor>';\r\n\r\n      injector.invoke([\"$compile\", \"$rootScope\", function($compile, $rootScope) {\r\n        var scope = $rootScope.$new(true);\r\n        var drop;\r\n\r\n        scope.event = event;\r\n        scope.panelCtrl = eventManager.panelCtrl;\r\n        scope.close = function() {\r\n          drop.close();\r\n        };\r\n\r\n        $compile(content)(scope);\r\n        scope.$digest();\r\n\r\n        drop = new Drop({\r\n          target: markerElementToAttachTo[0],\r\n          content: content,\r\n          position: \"bottom center\",\r\n          classes: 'drop-popover drop-popover--form',\r\n          openOn: 'click',\r\n          tetherOptions: {\r\n            constraints: [{to: 'window', pin: true, attachment: \"both\"}]\r\n          }\r\n        });\r\n\r\n        drop.open();\r\n        eventManager.editorOpened();\r\n\r\n        drop.on('close', function() {\r\n          // need timeout here in order call drop.destroy\r\n          setTimeout(function() {\r\n            eventManager.editorClosed();\r\n            scope.$destroy();\r\n            drop.destroy();\r\n          });\r\n        });\r\n      }]);\r\n\r\n    }, 100);\r\n  }\r\n\r\n  /*\r\n   * jquery.flot.events\r\n   *\r\n   * description: Flot plugin for adding events/markers to the plot\r\n   * version: 0.2.5\r\n   * authors:\r\n   *    Alexander Wunschik <alex@wunschik.net>\r\n   *    Joel Oughton <joeloughton@gmail.com>\r\n   *    Nicolas Joseph <www.nicolasjoseph.com>\r\n   *\r\n   * website: https://github.com/mojoaxel/flot-events\r\n   *\r\n   * released under MIT License and GPLv2+\r\n   */\r\n\r\n  /**\r\n   * A class that allows for the drawing an remove of some object\r\n   */\r\n  var DrawableEvent = function(object, drawFunc, clearFunc, moveFunc, left, top, width, height) {\r\n    var _object = object;\r\n    var\t_drawFunc = drawFunc;\r\n    var\t_clearFunc = clearFunc;\r\n    var\t_moveFunc = moveFunc;\r\n    var\t_position = { left: left, top: top };\r\n    var\t_width = width;\r\n    var\t_height = height;\r\n\r\n    this.width = function() { return _width; };\r\n    this.height = function() { return _height; };\r\n    this.position = function() { return _position; };\r\n    this.draw = function() { _drawFunc(_object); };\r\n    this.clear = function() { _clearFunc(_object); };\r\n    this.getObject = function() { return _object; };\r\n    this.moveTo = function(position) {\r\n      _position = position;\r\n      _moveFunc(_object, _position);\r\n    };\r\n  };\r\n\r\n  /**\r\n   * Event class that stores options (eventType, min, max, title, description) and the object to draw.\r\n   */\r\n  var VisualEvent = function(options, drawableEvent) {\r\n    var _parent;\r\n    var _options = options;\r\n    var _drawableEvent = drawableEvent;\r\n    var _hidden = false;\r\n\r\n    this.visual = function() { return _drawableEvent; };\r\n    this.getOptions = function() { return _options; };\r\n    this.getParent = function() { return _parent; };\r\n    this.isHidden = function() { return _hidden; };\r\n    this.hide = function() { _hidden = true; };\r\n    this.unhide = function() { _hidden = false; };\r\n  };\r\n\r\n  /**\r\n   * A Class that handles the event-markers inside the given plot\r\n   */\r\n  var EventMarkers = function(plot) {\r\n    var _events = [];\r\n\r\n    this._types = [];\r\n    this._plot = plot;\r\n    this.eventsEnabled = false;\r\n\r\n    this.getEvents = function() {\r\n      return _events;\r\n    };\r\n\r\n    this.setTypes = function(types) {\r\n      return this._types = types;\r\n    };\r\n\r\n    /**\r\n     * create internal objects for the given events\r\n     */\r\n    this.setupEvents = function(events) {\r\n      var that = this;\r\n      var parts = _.partition(events, 'isRegion');\r\n      var regions = parts[0];\r\n      events = parts[1];\r\n\r\n      $.each(events, function(index, event) {\r\n        var ve = new VisualEvent(event, that._buildDiv(event));\r\n        _events.push(ve);\r\n      });\r\n\r\n      $.each(regions, function (index, event) {\r\n        var vre = new VisualEvent(event, that._buildRegDiv(event));\r\n        _events.push(vre);\r\n      });\r\n\r\n      _events.sort(function(a, b) {\r\n        var ao = a.getOptions(), bo = b.getOptions();\r\n        if (ao.min > bo.min) { return 1; }\r\n        if (ao.min < bo.min) { return -1; }\r\n        return 0;\r\n      });\r\n    };\r\n\r\n    /**\r\n     * draw the events to the plot\r\n     */\r\n    this.drawEvents = function() {\r\n      var that = this;\r\n      // var o = this._plot.getPlotOffset();\r\n\r\n      $.each(_events, function(index, event) {\r\n        // check event is inside the graph range\r\n        if (that._insidePlot(event.getOptions().min) && !event.isHidden()) {\r\n          event.visual().draw();\r\n        }  else {\r\n          event.visual().getObject().hide();\r\n        }\r\n      });\r\n    };\r\n\r\n    /**\r\n     * update the position of the event-markers (e.g. after scrolling or zooming)\r\n     */\r\n    this.updateEvents = function() {\r\n      var that = this;\r\n      var o = this._plot.getPlotOffset(), left, top;\r\n      var xaxis = this._plot.getXAxes()[this._plot.getOptions().events.xaxis - 1];\r\n\r\n      $.each(_events, function(index, event) {\r\n        top = o.top + that._plot.height() - event.visual().height();\r\n        left = xaxis.p2c(event.getOptions().min) + o.left - event.visual().width() / 2;\r\n        event.visual().moveTo({ top: top, left: left });\r\n      });\r\n    };\r\n\r\n    /**\r\n     * remove all events from the plot\r\n     */\r\n    this._clearEvents = function() {\r\n      $.each(_events, function(index, val) {\r\n        val.visual().clear();\r\n      });\r\n      _events = [];\r\n    };\r\n\r\n    /**\r\n     * create a DOM element for the given event\r\n     */\r\n    this._buildDiv = function(event) {\r\n      var that = this;\r\n\r\n      var container = this._plot.getPlaceholder();\r\n      var o = this._plot.getPlotOffset();\r\n      var axes = this._plot.getAxes();\r\n      var xaxis = this._plot.getXAxes()[this._plot.getOptions().events.xaxis - 1];\r\n      var yaxis, top, left, color, markerSize, markerShow, lineStyle, lineWidth;\r\n      var markerTooltip;\r\n\r\n      // determine the y axis used\r\n      if (axes.yaxis && axes.yaxis.used) { yaxis = axes.yaxis; }\r\n      if (axes.yaxis2 && axes.yaxis2.used) { yaxis = axes.yaxis2; }\r\n\r\n      // map the eventType to a types object\r\n      var eventTypeId = event.eventType;\r\n\r\n      if (this._types === null || !this._types[eventTypeId] || !this._types[eventTypeId].color) {\r\n        color = '#666';\r\n      } else {\r\n        color = this._types[eventTypeId].color;\r\n      }\r\n\r\n      if (this._types === null || !this._types[eventTypeId] || !this._types[eventTypeId].markerSize) {\r\n        markerSize = 8; //default marker size\r\n      } else {\r\n        markerSize = this._types[eventTypeId].markerSize;\r\n      }\r\n\r\n      if (this._types === null || !this._types[eventTypeId] || this._types[eventTypeId].markerShow === undefined) {\r\n        markerShow = true;\r\n      } else {\r\n        markerShow = this._types[eventTypeId].markerShow;\r\n      }\r\n\r\n      if (this._types === null || !this._types[eventTypeId] || this._types[eventTypeId].markerTooltip === undefined) {\r\n        markerTooltip = true;\r\n      } else {\r\n        markerTooltip = this._types[eventTypeId].markerTooltip;\r\n      }\r\n\r\n      if (this._types == null || !this._types[eventTypeId] || !this._types[eventTypeId].lineStyle) {\r\n        lineStyle = 'dashed'; //default line style\r\n      } else {\r\n        lineStyle = this._types[eventTypeId].lineStyle.toLowerCase();\r\n      }\r\n\r\n      if (this._types == null || !this._types[eventTypeId] || this._types[eventTypeId].lineWidth === undefined) {\r\n        lineWidth = 1; //default line width\r\n      } else {\r\n        lineWidth = this._types[eventTypeId].lineWidth;\r\n      }\r\n\r\n      var topOffset = xaxis.options.eventSectionHeight || 0;\r\n      topOffset = topOffset / 3;\r\n\r\n      top = o.top + this._plot.height() + topOffset;\r\n      left = xaxis.p2c(event.min) + o.left;\r\n\r\n      var line = $('<div class=\"events_line flot-temp-elem\"></div>').css({\r\n        \"position\": \"absolute\",\r\n        \"opacity\": 0.8,\r\n        \"left\": left + 'px',\r\n        \"top\": 8,\r\n        \"width\": lineWidth + \"px\",\r\n        \"height\": this._plot.height() + topOffset * 0.8,\r\n        \"border-left-width\": lineWidth + \"px\",\r\n        \"border-left-style\": lineStyle,\r\n        \"border-left-color\": color,\r\n        \"color\": color\r\n      })\r\n      .appendTo(container);\r\n\r\n      if (markerShow) {\r\n        var marker = $('<div class=\"events_marker\"></div>').css({\r\n          \"position\": \"absolute\",\r\n          \"left\": (-markerSize - Math.round(lineWidth / 2)) + \"px\",\r\n          \"font-size\": 0,\r\n          \"line-height\": 0,\r\n          \"width\": 0,\r\n          \"height\": 0,\r\n          \"border-left\": markerSize+\"px solid transparent\",\r\n          \"border-right\": markerSize+\"px solid transparent\"\r\n        });\r\n\r\n        marker.appendTo(line);\r\n\r\n        if (this._types[eventTypeId] && this._types[eventTypeId].position && this._types[eventTypeId].position.toUpperCase() === 'BOTTOM') {\r\n          marker.css({\r\n            \"top\": top-markerSize-8 +\"px\",\r\n            \"border-top\": \"none\",\r\n            \"border-bottom\": markerSize+\"px solid \" + color\r\n          });\r\n        } else {\r\n          marker.css({\r\n            \"top\": \"0px\",\r\n            \"border-top\": markerSize+\"px solid \" + color,\r\n            \"border-bottom\": \"none\"\r\n          });\r\n        }\r\n\r\n        marker.data({\r\n          \"event\": event\r\n        });\r\n\r\n        var mouseenter = function() {\r\n          createAnnotationToolip(marker, $(this).data(\"event\"), that._plot);\r\n        };\r\n\r\n        if (event.editModel) {\r\n          createEditPopover(marker, event.editModel, that._plot);\r\n        }\r\n\r\n        var mouseleave = function() {\r\n          that._plot.clearSelection();\r\n        };\r\n\r\n        if (markerTooltip) {\r\n          marker.css({ \"cursor\": \"help\" });\r\n          marker.hover(mouseenter, mouseleave);\r\n        }\r\n      }\r\n\r\n      var drawableEvent = new DrawableEvent(\r\n        line,\r\n        function drawFunc(obj) { obj.show(); },\r\n        function(obj) { obj.remove(); },\r\n        function(obj, position) {\r\n          obj.css({\r\n            top: position.top,\r\n            left: position.left\r\n          });\r\n        },\r\n        left,\r\n        top,\r\n        line.width(),\r\n        line.height()\r\n      );\r\n\r\n      return drawableEvent;\r\n    };\r\n\r\n    /**\r\n     * create a DOM element for the given region\r\n     */\r\n    this._buildRegDiv = function (event) {\r\n      var that = this;\r\n\r\n      var container = this._plot.getPlaceholder();\r\n      var o = this._plot.getPlotOffset();\r\n      var axes = this._plot.getAxes();\r\n      var xaxis = this._plot.getXAxes()[this._plot.getOptions().events.xaxis - 1];\r\n      var yaxis, top, left, lineWidth, regionWidth, lineStyle, color, markerTooltip;\r\n\r\n      // determine the y axis used\r\n      if (axes.yaxis && axes.yaxis.used) { yaxis = axes.yaxis; }\r\n      if (axes.yaxis2 && axes.yaxis2.used) { yaxis = axes.yaxis2; }\r\n\r\n      // map the eventType to a types object\r\n      var eventTypeId = event.eventType;\r\n\r\n      if (this._types === null || !this._types[eventTypeId] || !this._types[eventTypeId].color) {\r\n        color = '#666';\r\n      } else {\r\n        color = this._types[eventTypeId].color;\r\n      }\r\n\r\n      if (this._types === null || !this._types[eventTypeId] || this._types[eventTypeId].markerTooltip === undefined) {\r\n        markerTooltip = true;\r\n      } else {\r\n        markerTooltip = this._types[eventTypeId].markerTooltip;\r\n      }\r\n\r\n      if (this._types == null || !this._types[eventTypeId] || this._types[eventTypeId].lineWidth === undefined) {\r\n        lineWidth = 1; //default line width\r\n      } else {\r\n        lineWidth = this._types[eventTypeId].lineWidth;\r\n      }\r\n\r\n      if (this._types == null || !this._types[eventTypeId] || !this._types[eventTypeId].lineStyle) {\r\n        lineStyle = 'dashed'; //default line style\r\n      } else {\r\n        lineStyle = this._types[eventTypeId].lineStyle.toLowerCase();\r\n      }\r\n\r\n      var topOffset = 2;\r\n      top = o.top + this._plot.height() + topOffset;\r\n\r\n      var timeFrom = Math.min(event.min, event.timeEnd);\r\n      var timeTo = Math.max(event.min, event.timeEnd);\r\n      left = xaxis.p2c(timeFrom) + o.left;\r\n      var right = xaxis.p2c(timeTo) + o.left;\r\n      regionWidth = right - left;\r\n\r\n      _.each([left, right], function(position) {\r\n        var line = $('<div class=\"events_line flot-temp-elem\"></div>').css({\r\n          \"position\": \"absolute\",\r\n          \"opacity\": 0.8,\r\n          \"left\": position + 'px',\r\n          \"top\": 8,\r\n          \"width\": lineWidth + \"px\",\r\n          \"height\": that._plot.height() + topOffset,\r\n          \"border-left-width\": lineWidth + \"px\",\r\n          \"border-left-style\": lineStyle,\r\n          \"border-left-color\": color,\r\n          \"color\": color\r\n        });\r\n        line.appendTo(container);\r\n      });\r\n\r\n      var region = $('<div class=\"events_marker region_marker flot-temp-elem\"></div>').css({\r\n        \"position\": \"absolute\",\r\n        \"opacity\": 0.5,\r\n        \"left\": left + 'px',\r\n        \"top\": top,\r\n        \"width\": Math.round(regionWidth + lineWidth) + \"px\",\r\n        \"height\": \"0.5rem\",\r\n        \"border-left-color\": color,\r\n        \"color\": color,\r\n        \"background-color\": color\r\n      });\r\n      region.appendTo(container);\r\n\r\n      region.data({\r\n        \"event\": event\r\n      });\r\n\r\n      var mouseenter = function () {\r\n        createAnnotationToolip(region, $(this).data(\"event\"), that._plot);\r\n      };\r\n\r\n      if (event.editModel) {\r\n        createEditPopover(region, event.editModel, that._plot);\r\n      }\r\n\r\n      var mouseleave = function () {\r\n        that._plot.clearSelection();\r\n      };\r\n\r\n      if (markerTooltip) {\r\n        region.css({ \"cursor\": \"help\" });\r\n        region.hover(mouseenter, mouseleave);\r\n      }\r\n\r\n      var drawableEvent = new DrawableEvent(\r\n        region,\r\n        function drawFunc(obj) { obj.show(); },\r\n        function (obj) { obj.remove(); },\r\n        function (obj, position) {\r\n          obj.css({\r\n            top: position.top,\r\n            left: position.left\r\n          });\r\n        },\r\n        left,\r\n        top,\r\n        region.width(),\r\n        region.height()\r\n      );\r\n\r\n      return drawableEvent;\r\n    };\r\n\r\n    /**\r\n     * check if the event is inside visible range\r\n     */\r\n    this._insidePlot = function(x) {\r\n      var xaxis = this._plot.getXAxes()[this._plot.getOptions().events.xaxis - 1];\r\n      var xc = xaxis.p2c(x);\r\n      return xc > 0 && xc < xaxis.p2c(xaxis.max);\r\n    };\r\n  };\r\n\r\n  /**\r\n   * initialize the plugin for the given plot\r\n   */\r\n  function init(plot) {\r\n    /*jshint validthis:true */\r\n    var that = this;\r\n    var eventMarkers = new EventMarkers(plot);\r\n\r\n    plot.getEvents = function() {\r\n      return eventMarkers._events;\r\n    };\r\n\r\n    plot.hideEvents = function() {\r\n      $.each(eventMarkers._events, function(index, event) {\r\n        event.visual().getObject().hide();\r\n      });\r\n    };\r\n\r\n    plot.showEvents = function() {\r\n      plot.hideEvents();\r\n      $.each(eventMarkers._events, function(index, event) {\r\n        event.hide();\r\n      });\r\n\r\n      that.eventMarkers.drawEvents();\r\n    };\r\n\r\n    // change events on an existing plot\r\n    plot.setEvents = function(events) {\r\n      if (eventMarkers.eventsEnabled) {\r\n        eventMarkers.setupEvents(events);\r\n      }\r\n    };\r\n\r\n    plot.hooks.processOptions.push(function(plot, options) {\r\n      // enable the plugin\r\n      if (options.events.data != null) {\r\n        eventMarkers.eventsEnabled = true;\r\n      }\r\n    });\r\n\r\n    plot.hooks.draw.push(function(plot) {\r\n      var options = plot.getOptions();\r\n\r\n      if (eventMarkers.eventsEnabled) {\r\n        // check for first run\r\n        if (eventMarkers.getEvents().length < 1) {\r\n          eventMarkers.setTypes(options.events.types);\r\n          eventMarkers.setupEvents(options.events.data);\r\n        } else {\r\n          eventMarkers.updateEvents();\r\n        }\r\n      }\r\n\r\n      eventMarkers.drawEvents();\r\n    });\r\n  }\r\n\r\n  var defaultOptions = {\r\n    events: {\r\n      data: null,\r\n      types: null,\r\n      xaxis: 1,\r\n      position: 'BOTTOM'\r\n    }\r\n  };\r\n\r\n  $.plot.plugins.push({\r\n    init: init,\r\n    options: defaultOptions,\r\n    name: \"events\",\r\n    version: \"0.2.5\"\r\n  });\r\n});\r\n","/*! tether-drop 1.4.1 */\r\n\r\n(function(root, factory) {\r\n  if (typeof define === 'function' && define.amd) {\r\n    define([\"tether\"], factory);\r\n  } else if (typeof exports === 'object') {\r\n    module.exports = factory(require('tether'));\r\n  } else {\r\n    root.Drop = factory(root.Tether);\r\n  }\r\n}(this, function(Tether) {\r\n\r\n/* global Tether */\r\n'use strict';\r\n\r\nvar _bind = Function.prototype.bind;\r\n\r\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\r\n\r\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\r\n\r\nvar _get = function get(_x2, _x3, _x4) { var _again = true; _function: while (_again) { var object = _x2, property = _x3, receiver = _x4; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x2 = parent; _x3 = property; _x4 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar _Tether$Utils = Tether.Utils;\r\nvar extend = _Tether$Utils.extend;\r\nvar addClass = _Tether$Utils.addClass;\r\nvar removeClass = _Tether$Utils.removeClass;\r\nvar hasClass = _Tether$Utils.hasClass;\r\nvar Evented = _Tether$Utils.Evented;\r\n\r\nfunction sortAttach(str) {\r\n  var _str$split = str.split(' ');\r\n\r\n  var _str$split2 = _slicedToArray(_str$split, 2);\r\n\r\n  var first = _str$split2[0];\r\n  var second = _str$split2[1];\r\n\r\n  if (['left', 'right'].indexOf(first) >= 0) {\r\n    var _ref = [second, first];\r\n    first = _ref[0];\r\n    second = _ref[1];\r\n  }\r\n  return [first, second].join(' ');\r\n}\r\n\r\nfunction removeFromArray(arr, item) {\r\n  var index = undefined;\r\n  var results = [];\r\n  while ((index = arr.indexOf(item)) !== -1) {\r\n    results.push(arr.splice(index, 1));\r\n  }\r\n  return results;\r\n}\r\n\r\nvar clickEvents = ['click'];\r\nif ('ontouchstart' in document.documentElement) {\r\n  clickEvents.push('touchstart');\r\n}\r\n\r\nvar transitionEndEvents = {\r\n  'WebkitTransition': 'webkitTransitionEnd',\r\n  'MozTransition': 'transitionend',\r\n  'OTransition': 'otransitionend',\r\n  'transition': 'transitionend'\r\n};\r\n\r\nvar transitionEndEvent = '';\r\nfor (var _name in transitionEndEvents) {\r\n  if (({}).hasOwnProperty.call(transitionEndEvents, _name)) {\r\n    var tempEl = document.createElement('p');\r\n    if (typeof tempEl.style[_name] !== 'undefined') {\r\n      transitionEndEvent = transitionEndEvents[_name];\r\n    }\r\n  }\r\n}\r\n\r\nvar MIRROR_ATTACH = {\r\n  left: 'right',\r\n  right: 'left',\r\n  top: 'bottom',\r\n  bottom: 'top',\r\n  middle: 'middle',\r\n  center: 'center'\r\n};\r\n\r\nvar allDrops = {};\r\n\r\n// Drop can be included in external libraries.  Calling createContext gives you a fresh\r\n// copy of drop which won't interact with other copies on the page (beyond calling the document events).\r\n\r\nfunction createContext() {\r\n  var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\r\n\r\n  var drop = function drop() {\r\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\r\n      args[_key] = arguments[_key];\r\n    }\r\n\r\n    return new (_bind.apply(DropInstance, [null].concat(args)))();\r\n  };\r\n\r\n  extend(drop, {\r\n    createContext: createContext,\r\n    drops: [],\r\n    defaults: {}\r\n  });\r\n\r\n  var defaultOptions = {\r\n    classPrefix: 'drop',\r\n    defaults: {\r\n      position: 'bottom left',\r\n      openOn: 'click',\r\n      beforeClose: null,\r\n      constrainToScrollParent: true,\r\n      constrainToWindow: true,\r\n      classes: '',\r\n      remove: false,\r\n      openDelay: 0,\r\n      closeDelay: 50,\r\n      // inherited from openDelay and closeDelay if not explicitly defined\r\n      focusDelay: null,\r\n      blurDelay: null,\r\n      hoverOpenDelay: null,\r\n      hoverCloseDelay: null,\r\n      tetherOptions: {}\r\n    }\r\n  };\r\n\r\n  extend(drop, defaultOptions, options);\r\n  extend(drop.defaults, defaultOptions.defaults, options.defaults);\r\n\r\n  if (typeof allDrops[drop.classPrefix] === 'undefined') {\r\n    allDrops[drop.classPrefix] = [];\r\n  }\r\n\r\n  drop.updateBodyClasses = function () {\r\n    // There is only one body, so despite the context concept, we still iterate through all\r\n    // drops which share our classPrefix.\r\n\r\n    var anyOpen = false;\r\n    var drops = allDrops[drop.classPrefix];\r\n    var len = drops.length;\r\n    for (var i = 0; i < len; ++i) {\r\n      if (drops[i].isOpened()) {\r\n        anyOpen = true;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (anyOpen) {\r\n      addClass(document.body, drop.classPrefix + '-open');\r\n    } else {\r\n      removeClass(document.body, drop.classPrefix + '-open');\r\n    }\r\n  };\r\n\r\n  var DropInstance = (function (_Evented) {\r\n    _inherits(DropInstance, _Evented);\r\n\r\n    function DropInstance(opts) {\r\n      _classCallCheck(this, DropInstance);\r\n\r\n      _get(Object.getPrototypeOf(DropInstance.prototype), 'constructor', this).call(this);\r\n      this.options = extend({}, drop.defaults, opts);\r\n      this.target = this.options.target;\r\n\r\n      if (typeof this.target === 'undefined') {\r\n        throw new Error('Drop Error: You must provide a target.');\r\n      }\r\n\r\n      var dataPrefix = 'data-' + drop.classPrefix;\r\n\r\n      var contentAttr = this.target.getAttribute(dataPrefix);\r\n      if (contentAttr && this.options.content == null) {\r\n        this.options.content = contentAttr;\r\n      }\r\n\r\n      var attrsOverride = ['position', 'openOn'];\r\n      for (var i = 0; i < attrsOverride.length; ++i) {\r\n\r\n        var override = this.target.getAttribute(dataPrefix + '-' + attrsOverride[i]);\r\n        if (override && this.options[attrsOverride[i]] == null) {\r\n          this.options[attrsOverride[i]] = override;\r\n        }\r\n      }\r\n\r\n      if (this.options.classes && this.options.addTargetClasses !== false) {\r\n        addClass(this.target, this.options.classes);\r\n      }\r\n\r\n      drop.drops.push(this);\r\n      allDrops[drop.classPrefix].push(this);\r\n\r\n      this._boundEvents = [];\r\n      this.bindMethods();\r\n      this.setupElements();\r\n      this.setupEvents();\r\n      this.setupTether();\r\n    }\r\n\r\n    _createClass(DropInstance, [{\r\n      key: '_on',\r\n      value: function _on(element, event, handler) {\r\n        this._boundEvents.push({ element: element, event: event, handler: handler });\r\n        element.addEventListener(event, handler);\r\n      }\r\n    }, {\r\n      key: 'bindMethods',\r\n      value: function bindMethods() {\r\n        this.transitionEndHandler = this._transitionEndHandler.bind(this);\r\n      }\r\n    }, {\r\n      key: 'setupElements',\r\n      value: function setupElements() {\r\n        var _this = this;\r\n\r\n        this.drop = document.createElement('div');\r\n        addClass(this.drop, drop.classPrefix);\r\n\r\n        if (this.options.classes) {\r\n          addClass(this.drop, this.options.classes);\r\n        }\r\n\r\n        this.content = document.createElement('div');\r\n        addClass(this.content, drop.classPrefix + '-content');\r\n\r\n        if (typeof this.options.content === 'function') {\r\n          var generateAndSetContent = function generateAndSetContent() {\r\n            // content function might return a string or an element\r\n            var contentElementOrHTML = _this.options.content.call(_this, _this);\r\n\r\n            if (typeof contentElementOrHTML === 'string') {\r\n              _this.content.innerHTML = contentElementOrHTML;\r\n            } else if (typeof contentElementOrHTML === 'object') {\r\n              _this.content.innerHTML = '';\r\n              _this.content.appendChild(contentElementOrHTML);\r\n            } else {\r\n              throw new Error('Drop Error: Content function should return a string or HTMLElement.');\r\n            }\r\n          };\r\n\r\n          generateAndSetContent();\r\n          this.on('open', generateAndSetContent.bind(this));\r\n        } else if (typeof this.options.content === 'object') {\r\n          this.content.appendChild(this.options.content);\r\n        } else {\r\n          this.content.innerHTML = this.options.content;\r\n        }\r\n\r\n        this.drop.appendChild(this.content);\r\n      }\r\n    }, {\r\n      key: 'setupTether',\r\n      value: function setupTether() {\r\n        // Tether expects two attachment points, one in the target element, one in the\r\n        // drop.  We use a single one, and use the order as well, to allow us to put\r\n        // the drop on either side of any of the four corners.  This magic converts between\r\n        // the two:\r\n        var dropAttach = this.options.position.split(' ');\r\n        dropAttach[0] = MIRROR_ATTACH[dropAttach[0]];\r\n        dropAttach = dropAttach.join(' ');\r\n\r\n        var constraints = [];\r\n        if (this.options.constrainToScrollParent) {\r\n          constraints.push({\r\n            to: 'scrollParent',\r\n            pin: 'top, bottom',\r\n            attachment: 'together none'\r\n          });\r\n        } else {\r\n          // To get 'out of bounds' classes\r\n          constraints.push({\r\n            to: 'scrollParent'\r\n          });\r\n        }\r\n\r\n        if (this.options.constrainToWindow !== false) {\r\n          constraints.push({\r\n            to: 'window',\r\n            attachment: 'together'\r\n          });\r\n        } else {\r\n          // To get 'out of bounds' classes\r\n          constraints.push({\r\n            to: 'window'\r\n          });\r\n        }\r\n\r\n        var opts = {\r\n          element: this.drop,\r\n          target: this.target,\r\n          attachment: sortAttach(dropAttach),\r\n          targetAttachment: sortAttach(this.options.position),\r\n          classPrefix: drop.classPrefix,\r\n          offset: '0 0',\r\n          targetOffset: '0 0',\r\n          enabled: false,\r\n          constraints: constraints,\r\n          addTargetClasses: this.options.addTargetClasses\r\n        };\r\n\r\n        if (this.options.tetherOptions !== false) {\r\n          this.tether = new Tether(extend({}, opts, this.options.tetherOptions));\r\n        }\r\n      }\r\n    }, {\r\n      key: 'setupEvents',\r\n      value: function setupEvents() {\r\n        var _this2 = this;\r\n\r\n        if (!this.options.openOn) {\r\n          return;\r\n        }\r\n\r\n        if (this.options.openOn === 'always') {\r\n          setTimeout(this.open.bind(this));\r\n          return;\r\n        }\r\n\r\n        var events = this.options.openOn.split(' ');\r\n\r\n        if (events.indexOf('click') >= 0) {\r\n          var openHandler = function openHandler(event) {\r\n            _this2.toggle(event);\r\n            event.preventDefault();\r\n          };\r\n\r\n          var closeHandler = function closeHandler(event) {\r\n            if (!_this2.isOpened()) {\r\n              return;\r\n            }\r\n\r\n            // Clicking inside dropdown\r\n            if (event.target === _this2.drop || _this2.drop.contains(event.target)) {\r\n              return;\r\n            }\r\n\r\n            // Clicking target\r\n            if (event.target === _this2.target || _this2.target.contains(event.target)) {\r\n              return;\r\n            }\r\n\r\n            _this2.close(event);\r\n          };\r\n\r\n          for (var i = 0; i < clickEvents.length; ++i) {\r\n            var clickEvent = clickEvents[i];\r\n            this._on(this.target, clickEvent, openHandler);\r\n            this._on(document, clickEvent, closeHandler);\r\n          }\r\n        }\r\n\r\n        var inTimeout = null;\r\n        var outTimeout = null;\r\n\r\n        var inHandler = function inHandler(event) {\r\n          if (outTimeout !== null) {\r\n            clearTimeout(outTimeout);\r\n          } else {\r\n            inTimeout = setTimeout(function () {\r\n              _this2.open(event);\r\n              inTimeout = null;\r\n            }, (event.type === 'focus' ? _this2.options.focusDelay : _this2.options.hoverOpenDelay) || _this2.options.openDelay);\r\n          }\r\n        };\r\n\r\n        var outHandler = function outHandler(event) {\r\n          if (inTimeout !== null) {\r\n            clearTimeout(inTimeout);\r\n          } else {\r\n            outTimeout = setTimeout(function () {\r\n              _this2.close(event);\r\n              outTimeout = null;\r\n            }, (event.type === 'blur' ? _this2.options.blurDelay : _this2.options.hoverCloseDelay) || _this2.options.closeDelay);\r\n          }\r\n        };\r\n\r\n        if (events.indexOf('hover') >= 0) {\r\n          this._on(this.target, 'mouseover', inHandler);\r\n          this._on(this.drop, 'mouseover', inHandler);\r\n          this._on(this.target, 'mouseout', outHandler);\r\n          this._on(this.drop, 'mouseout', outHandler);\r\n        }\r\n\r\n        if (events.indexOf('focus') >= 0) {\r\n          this._on(this.target, 'focus', inHandler);\r\n          this._on(this.drop, 'focus', inHandler);\r\n          this._on(this.target, 'blur', outHandler);\r\n          this._on(this.drop, 'blur', outHandler);\r\n        }\r\n      }\r\n    }, {\r\n      key: 'isOpened',\r\n      value: function isOpened() {\r\n        if (this.drop) {\r\n          return hasClass(this.drop, drop.classPrefix + '-open');\r\n        }\r\n      }\r\n    }, {\r\n      key: 'toggle',\r\n      value: function toggle(event) {\r\n        if (this.isOpened()) {\r\n          this.close(event);\r\n        } else {\r\n          this.open(event);\r\n        }\r\n      }\r\n    }, {\r\n      key: 'open',\r\n      value: function open(event) {\r\n        var _this3 = this;\r\n\r\n        /* eslint no-unused-vars: 0 */\r\n        if (this.isOpened()) {\r\n          return;\r\n        }\r\n\r\n        if (!this.drop.parentNode) {\r\n          document.body.appendChild(this.drop);\r\n        }\r\n\r\n        if (typeof this.tether !== 'undefined') {\r\n          this.tether.enable();\r\n        }\r\n\r\n        addClass(this.drop, drop.classPrefix + '-open');\r\n        addClass(this.drop, drop.classPrefix + '-open-transitionend');\r\n\r\n        setTimeout(function () {\r\n          if (_this3.drop) {\r\n            addClass(_this3.drop, drop.classPrefix + '-after-open');\r\n          }\r\n        });\r\n\r\n        if (typeof this.tether !== 'undefined') {\r\n          this.tether.position();\r\n        }\r\n\r\n        this.trigger('open');\r\n\r\n        drop.updateBodyClasses();\r\n      }\r\n    }, {\r\n      key: '_transitionEndHandler',\r\n      value: function _transitionEndHandler(e) {\r\n        if (e.target !== e.currentTarget) {\r\n          return;\r\n        }\r\n\r\n        if (!hasClass(this.drop, drop.classPrefix + '-open')) {\r\n          removeClass(this.drop, drop.classPrefix + '-open-transitionend');\r\n        }\r\n        this.drop.removeEventListener(transitionEndEvent, this.transitionEndHandler);\r\n      }\r\n    }, {\r\n      key: 'beforeCloseHandler',\r\n      value: function beforeCloseHandler(event) {\r\n        var shouldClose = true;\r\n\r\n        if (!this.isClosing && typeof this.options.beforeClose === 'function') {\r\n          this.isClosing = true;\r\n          shouldClose = this.options.beforeClose(event, this) !== false;\r\n        }\r\n\r\n        this.isClosing = false;\r\n\r\n        return shouldClose;\r\n      }\r\n    }, {\r\n      key: 'close',\r\n      value: function close(event) {\r\n        if (!this.isOpened()) {\r\n          return;\r\n        }\r\n\r\n        if (!this.beforeCloseHandler(event)) {\r\n          return;\r\n        }\r\n\r\n        removeClass(this.drop, drop.classPrefix + '-open');\r\n        removeClass(this.drop, drop.classPrefix + '-after-open');\r\n\r\n        this.drop.addEventListener(transitionEndEvent, this.transitionEndHandler);\r\n\r\n        this.trigger('close');\r\n\r\n        if (typeof this.tether !== 'undefined') {\r\n          this.tether.disable();\r\n        }\r\n\r\n        drop.updateBodyClasses();\r\n\r\n        if (this.options.remove) {\r\n          this.remove(event);\r\n        }\r\n      }\r\n    }, {\r\n      key: 'remove',\r\n      value: function remove(event) {\r\n        this.close(event);\r\n        if (this.drop.parentNode) {\r\n          this.drop.parentNode.removeChild(this.drop);\r\n        }\r\n      }\r\n    }, {\r\n      key: 'position',\r\n      value: function position() {\r\n        if (this.isOpened() && typeof this.tether !== 'undefined') {\r\n          this.tether.position();\r\n        }\r\n      }\r\n    }, {\r\n      key: 'destroy',\r\n      value: function destroy() {\r\n        this.remove();\r\n\r\n        if (typeof this.tether !== 'undefined') {\r\n          this.tether.destroy();\r\n        }\r\n\r\n        for (var i = 0; i < this._boundEvents.length; ++i) {\r\n          var _boundEvents$i = this._boundEvents[i];\r\n          var element = _boundEvents$i.element;\r\n          var _event = _boundEvents$i.event;\r\n          var handler = _boundEvents$i.handler;\r\n\r\n          element.removeEventListener(_event, handler);\r\n        }\r\n\r\n        this._boundEvents = [];\r\n\r\n        this.tether = null;\r\n        this.drop = null;\r\n        this.content = null;\r\n        this.target = null;\r\n\r\n        removeFromArray(allDrops[drop.classPrefix], this);\r\n        removeFromArray(drop.drops, this);\r\n      }\r\n    }]);\r\n\r\n    return DropInstance;\r\n  })(Evented);\r\n\r\n  return drop;\r\n}\r\n\r\nvar Drop = createContext();\r\n\r\ndocument.addEventListener('DOMContentLoaded', function () {\r\n  Drop.updateBodyClasses();\r\n});\r\nreturn Drop;\r\n\r\n}));\r\n","/*! tether 1.4.7 */\r\n\r\n(function(root, factory) {\r\n  if (typeof define === 'function' && define.amd) {\r\n    define([], factory);\r\n  } else if (typeof exports === 'object') {\r\n    module.exports = factory();\r\n  } else {\r\n    root.Tether = factory();\r\n  }\r\n}(this, function() {\r\n\r\n'use strict';\r\n\r\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\r\n\r\nvar TetherBase = undefined;\r\nif (typeof TetherBase === 'undefined') {\r\n  TetherBase = { modules: [] };\r\n}\r\n\r\nvar zeroElement = null;\r\n\r\n// Same as native getBoundingClientRect, except it takes into account parent <frame> offsets\r\n// if the element lies within a nested document (<frame> or <iframe>-like).\r\nfunction getActualBoundingClientRect(node) {\r\n  var boundingRect = node.getBoundingClientRect();\r\n\r\n  // The original object returned by getBoundingClientRect is immutable, so we clone it\r\n  // We can't use extend because the properties are not considered part of the object by hasOwnProperty in IE9\r\n  var rect = {};\r\n  for (var k in boundingRect) {\r\n    rect[k] = boundingRect[k];\r\n  }\r\n\r\n  try {\r\n    if (node.ownerDocument !== document) {\r\n      var _frameElement = node.ownerDocument.defaultView.frameElement;\r\n      if (_frameElement) {\r\n        var frameRect = getActualBoundingClientRect(_frameElement);\r\n        rect.top += frameRect.top;\r\n        rect.bottom += frameRect.top;\r\n        rect.left += frameRect.left;\r\n        rect.right += frameRect.left;\r\n      }\r\n    }\r\n  } catch (err) {\r\n    // Ignore \"Access is denied\" in IE11/Edge\r\n  }\r\n\r\n  return rect;\r\n}\r\n\r\nfunction getScrollParents(el) {\r\n  // In firefox if the el is inside an iframe with display: none; window.getComputedStyle() will return null;\r\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=548397\r\n  var computedStyle = getComputedStyle(el) || {};\r\n  var position = computedStyle.position;\r\n  var parents = [];\r\n\r\n  if (position === 'fixed') {\r\n    return [el];\r\n  }\r\n\r\n  var parent = el;\r\n  while ((parent = parent.parentNode) && parent && parent.nodeType === 1) {\r\n    var style = undefined;\r\n    try {\r\n      style = getComputedStyle(parent);\r\n    } catch (err) {}\r\n\r\n    if (typeof style === 'undefined' || style === null) {\r\n      parents.push(parent);\r\n      return parents;\r\n    }\r\n\r\n    var _style = style;\r\n    var overflow = _style.overflow;\r\n    var overflowX = _style.overflowX;\r\n    var overflowY = _style.overflowY;\r\n\r\n    if (/(auto|scroll|overlay)/.test(overflow + overflowY + overflowX)) {\r\n      if (position !== 'absolute' || ['relative', 'absolute', 'fixed'].indexOf(style.position) >= 0) {\r\n        parents.push(parent);\r\n      }\r\n    }\r\n  }\r\n\r\n  parents.push(el.ownerDocument.body);\r\n\r\n  // If the node is within a frame, account for the parent window scroll\r\n  if (el.ownerDocument !== document) {\r\n    parents.push(el.ownerDocument.defaultView);\r\n  }\r\n\r\n  return parents;\r\n}\r\n\r\nvar uniqueId = (function () {\r\n  var id = 0;\r\n  return function () {\r\n    return ++id;\r\n  };\r\n})();\r\n\r\nvar zeroPosCache = {};\r\nvar getOrigin = function getOrigin() {\r\n  // getBoundingClientRect is unfortunately too accurate.  It introduces a pixel or two of\r\n  // jitter as the user scrolls that messes with our ability to detect if two positions\r\n  // are equivilant or not.  We place an element at the top left of the page that will\r\n  // get the same jitter, so we can cancel the two out.\r\n  var node = zeroElement;\r\n  if (!node || !document.body.contains(node)) {\r\n    node = document.createElement('div');\r\n    node.setAttribute('data-tether-id', uniqueId());\r\n    extend(node.style, {\r\n      top: 0,\r\n      left: 0,\r\n      position: 'absolute'\r\n    });\r\n\r\n    document.body.appendChild(node);\r\n\r\n    zeroElement = node;\r\n  }\r\n\r\n  var id = node.getAttribute('data-tether-id');\r\n  if (typeof zeroPosCache[id] === 'undefined') {\r\n    zeroPosCache[id] = getActualBoundingClientRect(node);\r\n\r\n    // Clear the cache when this position call is done\r\n    defer(function () {\r\n      delete zeroPosCache[id];\r\n    });\r\n  }\r\n\r\n  return zeroPosCache[id];\r\n};\r\n\r\nfunction removeUtilElements() {\r\n  if (zeroElement) {\r\n    document.body.removeChild(zeroElement);\r\n  }\r\n  zeroElement = null;\r\n};\r\n\r\nfunction getBounds(el) {\r\n  var doc = undefined;\r\n  if (el === document) {\r\n    doc = document;\r\n    el = document.documentElement;\r\n  } else {\r\n    doc = el.ownerDocument;\r\n  }\r\n\r\n  var docEl = doc.documentElement;\r\n\r\n  var box = getActualBoundingClientRect(el);\r\n\r\n  var origin = getOrigin();\r\n\r\n  box.top -= origin.top;\r\n  box.left -= origin.left;\r\n\r\n  if (typeof box.width === 'undefined') {\r\n    box.width = document.body.scrollWidth - box.left - box.right;\r\n  }\r\n  if (typeof box.height === 'undefined') {\r\n    box.height = document.body.scrollHeight - box.top - box.bottom;\r\n  }\r\n\r\n  box.top = box.top - docEl.clientTop;\r\n  box.left = box.left - docEl.clientLeft;\r\n  box.right = doc.body.clientWidth - box.width - box.left;\r\n  box.bottom = doc.body.clientHeight - box.height - box.top;\r\n\r\n  return box;\r\n}\r\n\r\nfunction getOffsetParent(el) {\r\n  return el.offsetParent || document.documentElement;\r\n}\r\n\r\nvar _scrollBarSize = null;\r\nfunction getScrollBarSize() {\r\n  if (_scrollBarSize) {\r\n    return _scrollBarSize;\r\n  }\r\n  var inner = document.createElement('div');\r\n  inner.style.width = '100%';\r\n  inner.style.height = '200px';\r\n\r\n  var outer = document.createElement('div');\r\n  extend(outer.style, {\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    pointerEvents: 'none',\r\n    visibility: 'hidden',\r\n    width: '200px',\r\n    height: '150px',\r\n    overflow: 'hidden'\r\n  });\r\n\r\n  outer.appendChild(inner);\r\n\r\n  document.body.appendChild(outer);\r\n\r\n  var widthContained = inner.offsetWidth;\r\n  outer.style.overflow = 'scroll';\r\n  var widthScroll = inner.offsetWidth;\r\n\r\n  if (widthContained === widthScroll) {\r\n    widthScroll = outer.clientWidth;\r\n  }\r\n\r\n  document.body.removeChild(outer);\r\n\r\n  var width = widthContained - widthScroll;\r\n\r\n  _scrollBarSize = { width: width, height: width };\r\n  return _scrollBarSize;\r\n}\r\n\r\nfunction extend() {\r\n  var out = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\r\n\r\n  var args = [];\r\n\r\n  Array.prototype.push.apply(args, arguments);\r\n\r\n  args.slice(1).forEach(function (obj) {\r\n    if (obj) {\r\n      for (var key in obj) {\r\n        if (({}).hasOwnProperty.call(obj, key)) {\r\n          out[key] = obj[key];\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  return out;\r\n}\r\n\r\nfunction removeClass(el, name) {\r\n  if (typeof el.classList !== 'undefined') {\r\n    name.split(' ').forEach(function (cls) {\r\n      if (cls.trim()) {\r\n        el.classList.remove(cls);\r\n      }\r\n    });\r\n  } else {\r\n    var regex = new RegExp('(^| )' + name.split(' ').join('|') + '( |$)', 'gi');\r\n    var className = getClassName(el).replace(regex, ' ');\r\n    setClassName(el, className);\r\n  }\r\n}\r\n\r\nfunction addClass(el, name) {\r\n  if (typeof el.classList !== 'undefined') {\r\n    name.split(' ').forEach(function (cls) {\r\n      if (cls.trim()) {\r\n        el.classList.add(cls);\r\n      }\r\n    });\r\n  } else {\r\n    removeClass(el, name);\r\n    var cls = getClassName(el) + (' ' + name);\r\n    setClassName(el, cls);\r\n  }\r\n}\r\n\r\nfunction hasClass(el, name) {\r\n  if (typeof el.classList !== 'undefined') {\r\n    return el.classList.contains(name);\r\n  }\r\n  var className = getClassName(el);\r\n  return new RegExp('(^| )' + name + '( |$)', 'gi').test(className);\r\n}\r\n\r\nfunction getClassName(el) {\r\n  // Can't use just SVGAnimatedString here since nodes within a Frame in IE have\r\n  // completely separately SVGAnimatedString base classes\r\n  if (el.className instanceof el.ownerDocument.defaultView.SVGAnimatedString) {\r\n    return el.className.baseVal;\r\n  }\r\n  return el.className;\r\n}\r\n\r\nfunction setClassName(el, className) {\r\n  el.setAttribute('class', className);\r\n}\r\n\r\nfunction updateClasses(el, add, all) {\r\n  // Of the set of 'all' classes, we need the 'add' classes, and only the\r\n  // 'add' classes to be set.\r\n  all.forEach(function (cls) {\r\n    if (add.indexOf(cls) === -1 && hasClass(el, cls)) {\r\n      removeClass(el, cls);\r\n    }\r\n  });\r\n\r\n  add.forEach(function (cls) {\r\n    if (!hasClass(el, cls)) {\r\n      addClass(el, cls);\r\n    }\r\n  });\r\n}\r\n\r\nvar deferred = [];\r\n\r\nvar defer = function defer(fn) {\r\n  deferred.push(fn);\r\n};\r\n\r\nvar flush = function flush() {\r\n  var fn = undefined;\r\n  while (fn = deferred.pop()) {\r\n    fn();\r\n  }\r\n};\r\n\r\nvar Evented = (function () {\r\n  function Evented() {\r\n    _classCallCheck(this, Evented);\r\n  }\r\n\r\n  _createClass(Evented, [{\r\n    key: 'on',\r\n    value: function on(event, handler, ctx) {\r\n      var once = arguments.length <= 3 || arguments[3] === undefined ? false : arguments[3];\r\n\r\n      if (typeof this.bindings === 'undefined') {\r\n        this.bindings = {};\r\n      }\r\n      if (typeof this.bindings[event] === 'undefined') {\r\n        this.bindings[event] = [];\r\n      }\r\n      this.bindings[event].push({ handler: handler, ctx: ctx, once: once });\r\n    }\r\n  }, {\r\n    key: 'once',\r\n    value: function once(event, handler, ctx) {\r\n      this.on(event, handler, ctx, true);\r\n    }\r\n  }, {\r\n    key: 'off',\r\n    value: function off(event, handler) {\r\n      if (typeof this.bindings === 'undefined' || typeof this.bindings[event] === 'undefined') {\r\n        return;\r\n      }\r\n\r\n      if (typeof handler === 'undefined') {\r\n        delete this.bindings[event];\r\n      } else {\r\n        var i = 0;\r\n        while (i < this.bindings[event].length) {\r\n          if (this.bindings[event][i].handler === handler) {\r\n            this.bindings[event].splice(i, 1);\r\n          } else {\r\n            ++i;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }, {\r\n    key: 'trigger',\r\n    value: function trigger(event) {\r\n      if (typeof this.bindings !== 'undefined' && this.bindings[event]) {\r\n        var i = 0;\r\n\r\n        for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\r\n          args[_key - 1] = arguments[_key];\r\n        }\r\n\r\n        while (i < this.bindings[event].length) {\r\n          var _bindings$event$i = this.bindings[event][i];\r\n          var handler = _bindings$event$i.handler;\r\n          var ctx = _bindings$event$i.ctx;\r\n          var once = _bindings$event$i.once;\r\n\r\n          var context = ctx;\r\n          if (typeof context === 'undefined') {\r\n            context = this;\r\n          }\r\n\r\n          handler.apply(context, args);\r\n\r\n          if (once) {\r\n            this.bindings[event].splice(i, 1);\r\n          } else {\r\n            ++i;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }]);\r\n\r\n  return Evented;\r\n})();\r\n\r\nTetherBase.Utils = {\r\n  getActualBoundingClientRect: getActualBoundingClientRect,\r\n  getScrollParents: getScrollParents,\r\n  getBounds: getBounds,\r\n  getOffsetParent: getOffsetParent,\r\n  extend: extend,\r\n  addClass: addClass,\r\n  removeClass: removeClass,\r\n  hasClass: hasClass,\r\n  updateClasses: updateClasses,\r\n  defer: defer,\r\n  flush: flush,\r\n  uniqueId: uniqueId,\r\n  Evented: Evented,\r\n  getScrollBarSize: getScrollBarSize,\r\n  removeUtilElements: removeUtilElements\r\n};\r\n/* globals TetherBase, performance */\r\n\r\n'use strict';\r\n\r\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\r\n\r\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\r\n\r\nvar _get = function get(_x6, _x7, _x8) { var _again = true; _function: while (_again) { var object = _x6, property = _x7, receiver = _x8; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x6 = parent; _x7 = property; _x8 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nif (typeof TetherBase === 'undefined') {\r\n  throw new Error('You must include the utils.js file before tether.js');\r\n}\r\n\r\nvar _TetherBase$Utils = TetherBase.Utils;\r\nvar getScrollParents = _TetherBase$Utils.getScrollParents;\r\nvar getBounds = _TetherBase$Utils.getBounds;\r\nvar getOffsetParent = _TetherBase$Utils.getOffsetParent;\r\nvar extend = _TetherBase$Utils.extend;\r\nvar addClass = _TetherBase$Utils.addClass;\r\nvar removeClass = _TetherBase$Utils.removeClass;\r\nvar updateClasses = _TetherBase$Utils.updateClasses;\r\nvar defer = _TetherBase$Utils.defer;\r\nvar flush = _TetherBase$Utils.flush;\r\nvar getScrollBarSize = _TetherBase$Utils.getScrollBarSize;\r\nvar removeUtilElements = _TetherBase$Utils.removeUtilElements;\r\n\r\nfunction within(a, b) {\r\n  var diff = arguments.length <= 2 || arguments[2] === undefined ? 1 : arguments[2];\r\n\r\n  return a + diff >= b && b >= a - diff;\r\n}\r\n\r\nvar transformKey = (function () {\r\n  if (typeof document === 'undefined') {\r\n    return '';\r\n  }\r\n  var el = document.createElement('div');\r\n\r\n  var transforms = ['transform', 'WebkitTransform', 'OTransform', 'MozTransform', 'msTransform'];\r\n  for (var i = 0; i < transforms.length; ++i) {\r\n    var key = transforms[i];\r\n    if (el.style[key] !== undefined) {\r\n      return key;\r\n    }\r\n  }\r\n})();\r\n\r\nvar tethers = [];\r\n\r\nvar position = function position() {\r\n  tethers.forEach(function (tether) {\r\n    tether.position(false);\r\n  });\r\n  flush();\r\n};\r\n\r\nfunction now() {\r\n  if (typeof performance === 'object' && typeof performance.now === 'function') {\r\n    return performance.now();\r\n  }\r\n  return +new Date();\r\n}\r\n\r\n(function () {\r\n  var lastCall = null;\r\n  var lastDuration = null;\r\n  var pendingTimeout = null;\r\n\r\n  var tick = function tick() {\r\n    if (typeof lastDuration !== 'undefined' && lastDuration > 16) {\r\n      // We voluntarily throttle ourselves if we can't manage 60fps\r\n      lastDuration = Math.min(lastDuration - 16, 250);\r\n\r\n      // Just in case this is the last event, remember to position just once more\r\n      pendingTimeout = setTimeout(tick, 250);\r\n      return;\r\n    }\r\n\r\n    if (typeof lastCall !== 'undefined' && now() - lastCall < 10) {\r\n      // Some browsers call events a little too frequently, refuse to run more than is reasonable\r\n      return;\r\n    }\r\n\r\n    if (pendingTimeout != null) {\r\n      clearTimeout(pendingTimeout);\r\n      pendingTimeout = null;\r\n    }\r\n\r\n    lastCall = now();\r\n    position();\r\n    lastDuration = now() - lastCall;\r\n  };\r\n\r\n  if (typeof window !== 'undefined' && typeof window.addEventListener !== 'undefined') {\r\n    ['resize', 'scroll', 'touchmove'].forEach(function (event) {\r\n      window.addEventListener(event, tick);\r\n    });\r\n  }\r\n})();\r\n\r\nvar MIRROR_LR = {\r\n  center: 'center',\r\n  left: 'right',\r\n  right: 'left'\r\n};\r\n\r\nvar MIRROR_TB = {\r\n  middle: 'middle',\r\n  top: 'bottom',\r\n  bottom: 'top'\r\n};\r\n\r\nvar OFFSET_MAP = {\r\n  top: 0,\r\n  left: 0,\r\n  middle: '50%',\r\n  center: '50%',\r\n  bottom: '100%',\r\n  right: '100%'\r\n};\r\n\r\nvar autoToFixedAttachment = function autoToFixedAttachment(attachment, relativeToAttachment) {\r\n  var left = attachment.left;\r\n  var top = attachment.top;\r\n\r\n  if (left === 'auto') {\r\n    left = MIRROR_LR[relativeToAttachment.left];\r\n  }\r\n\r\n  if (top === 'auto') {\r\n    top = MIRROR_TB[relativeToAttachment.top];\r\n  }\r\n\r\n  return { left: left, top: top };\r\n};\r\n\r\nvar attachmentToOffset = function attachmentToOffset(attachment) {\r\n  var left = attachment.left;\r\n  var top = attachment.top;\r\n\r\n  if (typeof OFFSET_MAP[attachment.left] !== 'undefined') {\r\n    left = OFFSET_MAP[attachment.left];\r\n  }\r\n\r\n  if (typeof OFFSET_MAP[attachment.top] !== 'undefined') {\r\n    top = OFFSET_MAP[attachment.top];\r\n  }\r\n\r\n  return { left: left, top: top };\r\n};\r\n\r\nfunction addOffset() {\r\n  var out = { top: 0, left: 0 };\r\n\r\n  for (var _len = arguments.length, offsets = Array(_len), _key = 0; _key < _len; _key++) {\r\n    offsets[_key] = arguments[_key];\r\n  }\r\n\r\n  offsets.forEach(function (_ref) {\r\n    var top = _ref.top;\r\n    var left = _ref.left;\r\n\r\n    if (typeof top === 'string') {\r\n      top = parseFloat(top, 10);\r\n    }\r\n    if (typeof left === 'string') {\r\n      left = parseFloat(left, 10);\r\n    }\r\n\r\n    out.top += top;\r\n    out.left += left;\r\n  });\r\n\r\n  return out;\r\n}\r\n\r\nfunction offsetToPx(offset, size) {\r\n  if (typeof offset.left === 'string' && offset.left.indexOf('%') !== -1) {\r\n    offset.left = parseFloat(offset.left, 10) / 100 * size.width;\r\n  }\r\n  if (typeof offset.top === 'string' && offset.top.indexOf('%') !== -1) {\r\n    offset.top = parseFloat(offset.top, 10) / 100 * size.height;\r\n  }\r\n\r\n  return offset;\r\n}\r\n\r\nvar parseOffset = function parseOffset(value) {\r\n  var _value$split = value.split(' ');\r\n\r\n  var _value$split2 = _slicedToArray(_value$split, 2);\r\n\r\n  var top = _value$split2[0];\r\n  var left = _value$split2[1];\r\n\r\n  return { top: top, left: left };\r\n};\r\nvar parseAttachment = parseOffset;\r\n\r\nvar TetherClass = (function (_Evented) {\r\n  _inherits(TetherClass, _Evented);\r\n\r\n  function TetherClass(options) {\r\n    var _this = this;\r\n\r\n    _classCallCheck(this, TetherClass);\r\n\r\n    _get(Object.getPrototypeOf(TetherClass.prototype), 'constructor', this).call(this);\r\n    this.position = this.position.bind(this);\r\n\r\n    tethers.push(this);\r\n\r\n    this.history = [];\r\n\r\n    this.setOptions(options, false);\r\n\r\n    TetherBase.modules.forEach(function (module) {\r\n      if (typeof module.initialize !== 'undefined') {\r\n        module.initialize.call(_this);\r\n      }\r\n    });\r\n\r\n    this.position();\r\n  }\r\n\r\n  _createClass(TetherClass, [{\r\n    key: 'getClass',\r\n    value: function getClass() {\r\n      var key = arguments.length <= 0 || arguments[0] === undefined ? '' : arguments[0];\r\n      var classes = this.options.classes;\r\n\r\n      if (typeof classes !== 'undefined' && classes[key]) {\r\n        return this.options.classes[key];\r\n      } else if (this.options.classPrefix) {\r\n        return this.options.classPrefix + '-' + key;\r\n      } else {\r\n        return key;\r\n      }\r\n    }\r\n  }, {\r\n    key: 'setOptions',\r\n    value: function setOptions(options) {\r\n      var _this2 = this;\r\n\r\n      var pos = arguments.length <= 1 || arguments[1] === undefined ? true : arguments[1];\r\n\r\n      var defaults = {\r\n        offset: '0 0',\r\n        targetOffset: '0 0',\r\n        targetAttachment: 'auto auto',\r\n        classPrefix: 'tether'\r\n      };\r\n\r\n      this.options = extend(defaults, options);\r\n\r\n      var _options = this.options;\r\n      var element = _options.element;\r\n      var target = _options.target;\r\n      var targetModifier = _options.targetModifier;\r\n\r\n      this.element = element;\r\n      this.target = target;\r\n      this.targetModifier = targetModifier;\r\n\r\n      if (this.target === 'viewport') {\r\n        this.target = document.body;\r\n        this.targetModifier = 'visible';\r\n      } else if (this.target === 'scroll-handle') {\r\n        this.target = document.body;\r\n        this.targetModifier = 'scroll-handle';\r\n      }\r\n\r\n      ['element', 'target'].forEach(function (key) {\r\n        if (typeof _this2[key] === 'undefined') {\r\n          throw new Error('Tether Error: Both element and target must be defined');\r\n        }\r\n\r\n        if (typeof _this2[key].jquery !== 'undefined') {\r\n          _this2[key] = _this2[key][0];\r\n        } else if (typeof _this2[key] === 'string') {\r\n          _this2[key] = document.querySelector(_this2[key]);\r\n        }\r\n      });\r\n\r\n      addClass(this.element, this.getClass('element'));\r\n      if (!(this.options.addTargetClasses === false)) {\r\n        addClass(this.target, this.getClass('target'));\r\n      }\r\n\r\n      if (!this.options.attachment) {\r\n        throw new Error('Tether Error: You must provide an attachment');\r\n      }\r\n\r\n      this.targetAttachment = parseAttachment(this.options.targetAttachment);\r\n      this.attachment = parseAttachment(this.options.attachment);\r\n      this.offset = parseOffset(this.options.offset);\r\n      this.targetOffset = parseOffset(this.options.targetOffset);\r\n\r\n      if (typeof this.scrollParents !== 'undefined') {\r\n        this.disable();\r\n      }\r\n\r\n      if (this.targetModifier === 'scroll-handle') {\r\n        this.scrollParents = [this.target];\r\n      } else {\r\n        this.scrollParents = getScrollParents(this.target);\r\n      }\r\n\r\n      if (!(this.options.enabled === false)) {\r\n        this.enable(pos);\r\n      }\r\n    }\r\n  }, {\r\n    key: 'getTargetBounds',\r\n    value: function getTargetBounds() {\r\n      if (typeof this.targetModifier !== 'undefined') {\r\n        if (this.targetModifier === 'visible') {\r\n          if (this.target === document.body) {\r\n            return { top: pageYOffset, left: pageXOffset, height: innerHeight, width: innerWidth };\r\n          } else {\r\n            var bounds = getBounds(this.target);\r\n\r\n            var out = {\r\n              height: bounds.height,\r\n              width: bounds.width,\r\n              top: bounds.top,\r\n              left: bounds.left\r\n            };\r\n\r\n            out.height = Math.min(out.height, bounds.height - (pageYOffset - bounds.top));\r\n            out.height = Math.min(out.height, bounds.height - (bounds.top + bounds.height - (pageYOffset + innerHeight)));\r\n            out.height = Math.min(innerHeight, out.height);\r\n            out.height -= 2;\r\n\r\n            out.width = Math.min(out.width, bounds.width - (pageXOffset - bounds.left));\r\n            out.width = Math.min(out.width, bounds.width - (bounds.left + bounds.width - (pageXOffset + innerWidth)));\r\n            out.width = Math.min(innerWidth, out.width);\r\n            out.width -= 2;\r\n\r\n            if (out.top < pageYOffset) {\r\n              out.top = pageYOffset;\r\n            }\r\n            if (out.left < pageXOffset) {\r\n              out.left = pageXOffset;\r\n            }\r\n\r\n            return out;\r\n          }\r\n        } else if (this.targetModifier === 'scroll-handle') {\r\n          var bounds = undefined;\r\n          var target = this.target;\r\n          if (target === document.body) {\r\n            target = document.documentElement;\r\n\r\n            bounds = {\r\n              left: pageXOffset,\r\n              top: pageYOffset,\r\n              height: innerHeight,\r\n              width: innerWidth\r\n            };\r\n          } else {\r\n            bounds = getBounds(target);\r\n          }\r\n\r\n          var style = getComputedStyle(target);\r\n\r\n          var hasBottomScroll = target.scrollWidth > target.clientWidth || [style.overflow, style.overflowX].indexOf('scroll') >= 0 || this.target !== document.body;\r\n\r\n          var scrollBottom = 0;\r\n          if (hasBottomScroll) {\r\n            scrollBottom = 15;\r\n          }\r\n\r\n          var height = bounds.height - parseFloat(style.borderTopWidth) - parseFloat(style.borderBottomWidth) - scrollBottom;\r\n\r\n          var out = {\r\n            width: 15,\r\n            height: height * 0.975 * (height / target.scrollHeight),\r\n            left: bounds.left + bounds.width - parseFloat(style.borderLeftWidth) - 15\r\n          };\r\n\r\n          var fitAdj = 0;\r\n          if (height < 408 && this.target === document.body) {\r\n            fitAdj = -0.00011 * Math.pow(height, 2) - 0.00727 * height + 22.58;\r\n          }\r\n\r\n          if (this.target !== document.body) {\r\n            out.height = Math.max(out.height, 24);\r\n          }\r\n\r\n          var scrollPercentage = this.target.scrollTop / (target.scrollHeight - height);\r\n          out.top = scrollPercentage * (height - out.height - fitAdj) + bounds.top + parseFloat(style.borderTopWidth);\r\n\r\n          if (this.target === document.body) {\r\n            out.height = Math.max(out.height, 24);\r\n          }\r\n\r\n          return out;\r\n        }\r\n      } else {\r\n        return getBounds(this.target);\r\n      }\r\n    }\r\n  }, {\r\n    key: 'clearCache',\r\n    value: function clearCache() {\r\n      this._cache = {};\r\n    }\r\n  }, {\r\n    key: 'cache',\r\n    value: function cache(k, getter) {\r\n      // More than one module will often need the same DOM info, so\r\n      // we keep a cache which is cleared on each position call\r\n      if (typeof this._cache === 'undefined') {\r\n        this._cache = {};\r\n      }\r\n\r\n      if (typeof this._cache[k] === 'undefined') {\r\n        this._cache[k] = getter.call(this);\r\n      }\r\n\r\n      return this._cache[k];\r\n    }\r\n  }, {\r\n    key: 'enable',\r\n    value: function enable() {\r\n      var _this3 = this;\r\n\r\n      var pos = arguments.length <= 0 || arguments[0] === undefined ? true : arguments[0];\r\n\r\n      if (!(this.options.addTargetClasses === false)) {\r\n        addClass(this.target, this.getClass('enabled'));\r\n      }\r\n      addClass(this.element, this.getClass('enabled'));\r\n      this.enabled = true;\r\n\r\n      this.scrollParents.forEach(function (parent) {\r\n        if (parent !== _this3.target.ownerDocument) {\r\n          parent.addEventListener('scroll', _this3.position);\r\n        }\r\n      });\r\n\r\n      if (pos) {\r\n        this.position();\r\n      }\r\n    }\r\n  }, {\r\n    key: 'disable',\r\n    value: function disable() {\r\n      var _this4 = this;\r\n\r\n      removeClass(this.target, this.getClass('enabled'));\r\n      removeClass(this.element, this.getClass('enabled'));\r\n      this.enabled = false;\r\n\r\n      if (typeof this.scrollParents !== 'undefined') {\r\n        this.scrollParents.forEach(function (parent) {\r\n          parent.removeEventListener('scroll', _this4.position);\r\n        });\r\n      }\r\n    }\r\n  }, {\r\n    key: 'destroy',\r\n    value: function destroy() {\r\n      var _this5 = this;\r\n\r\n      this.disable();\r\n\r\n      tethers.forEach(function (tether, i) {\r\n        if (tether === _this5) {\r\n          tethers.splice(i, 1);\r\n        }\r\n      });\r\n\r\n      // Remove any elements we were using for convenience from the DOM\r\n      if (tethers.length === 0) {\r\n        removeUtilElements();\r\n      }\r\n    }\r\n  }, {\r\n    key: 'updateAttachClasses',\r\n    value: function updateAttachClasses(elementAttach, targetAttach) {\r\n      var _this6 = this;\r\n\r\n      elementAttach = elementAttach || this.attachment;\r\n      targetAttach = targetAttach || this.targetAttachment;\r\n      var sides = ['left', 'top', 'bottom', 'right', 'middle', 'center'];\r\n\r\n      if (typeof this._addAttachClasses !== 'undefined' && this._addAttachClasses.length) {\r\n        // updateAttachClasses can be called more than once in a position call, so\r\n        // we need to clean up after ourselves such that when the last defer gets\r\n        // ran it doesn't add any extra classes from previous calls.\r\n        this._addAttachClasses.splice(0, this._addAttachClasses.length);\r\n      }\r\n\r\n      if (typeof this._addAttachClasses === 'undefined') {\r\n        this._addAttachClasses = [];\r\n      }\r\n      var add = this._addAttachClasses;\r\n\r\n      if (elementAttach.top) {\r\n        add.push(this.getClass('element-attached') + '-' + elementAttach.top);\r\n      }\r\n      if (elementAttach.left) {\r\n        add.push(this.getClass('element-attached') + '-' + elementAttach.left);\r\n      }\r\n      if (targetAttach.top) {\r\n        add.push(this.getClass('target-attached') + '-' + targetAttach.top);\r\n      }\r\n      if (targetAttach.left) {\r\n        add.push(this.getClass('target-attached') + '-' + targetAttach.left);\r\n      }\r\n\r\n      var all = [];\r\n      sides.forEach(function (side) {\r\n        all.push(_this6.getClass('element-attached') + '-' + side);\r\n        all.push(_this6.getClass('target-attached') + '-' + side);\r\n      });\r\n\r\n      defer(function () {\r\n        if (!(typeof _this6._addAttachClasses !== 'undefined')) {\r\n          return;\r\n        }\r\n\r\n        updateClasses(_this6.element, _this6._addAttachClasses, all);\r\n        if (!(_this6.options.addTargetClasses === false)) {\r\n          updateClasses(_this6.target, _this6._addAttachClasses, all);\r\n        }\r\n\r\n        delete _this6._addAttachClasses;\r\n      });\r\n    }\r\n  }, {\r\n    key: 'position',\r\n    value: function position() {\r\n      var _this7 = this;\r\n\r\n      var flushChanges = arguments.length <= 0 || arguments[0] === undefined ? true : arguments[0];\r\n\r\n      // flushChanges commits the changes immediately, leave true unless you are positioning multiple\r\n      // tethers (in which case call Tether.Utils.flush yourself when you're done)\r\n\r\n      if (!this.enabled) {\r\n        return;\r\n      }\r\n\r\n      this.clearCache();\r\n\r\n      // Turn 'auto' attachments into the appropriate corner or edge\r\n      var targetAttachment = autoToFixedAttachment(this.targetAttachment, this.attachment);\r\n\r\n      this.updateAttachClasses(this.attachment, targetAttachment);\r\n\r\n      var elementPos = this.cache('element-bounds', function () {\r\n        return getBounds(_this7.element);\r\n      });\r\n\r\n      var width = elementPos.width;\r\n      var height = elementPos.height;\r\n\r\n      if (width === 0 && height === 0 && typeof this.lastSize !== 'undefined') {\r\n        var _lastSize = this.lastSize;\r\n\r\n        // We cache the height and width to make it possible to position elements that are\r\n        // getting hidden.\r\n        width = _lastSize.width;\r\n        height = _lastSize.height;\r\n      } else {\r\n        this.lastSize = { width: width, height: height };\r\n      }\r\n\r\n      var targetPos = this.cache('target-bounds', function () {\r\n        return _this7.getTargetBounds();\r\n      });\r\n      var targetSize = targetPos;\r\n\r\n      // Get an actual px offset from the attachment\r\n      var offset = offsetToPx(attachmentToOffset(this.attachment), { width: width, height: height });\r\n      var targetOffset = offsetToPx(attachmentToOffset(targetAttachment), targetSize);\r\n\r\n      var manualOffset = offsetToPx(this.offset, { width: width, height: height });\r\n      var manualTargetOffset = offsetToPx(this.targetOffset, targetSize);\r\n\r\n      // Add the manually provided offset\r\n      offset = addOffset(offset, manualOffset);\r\n      targetOffset = addOffset(targetOffset, manualTargetOffset);\r\n\r\n      // It's now our goal to make (element position + offset) == (target position + target offset)\r\n      var left = targetPos.left + targetOffset.left - offset.left;\r\n      var top = targetPos.top + targetOffset.top - offset.top;\r\n\r\n      for (var i = 0; i < TetherBase.modules.length; ++i) {\r\n        var _module2 = TetherBase.modules[i];\r\n        var ret = _module2.position.call(this, {\r\n          left: left,\r\n          top: top,\r\n          targetAttachment: targetAttachment,\r\n          targetPos: targetPos,\r\n          elementPos: elementPos,\r\n          offset: offset,\r\n          targetOffset: targetOffset,\r\n          manualOffset: manualOffset,\r\n          manualTargetOffset: manualTargetOffset,\r\n          scrollbarSize: scrollbarSize,\r\n          attachment: this.attachment\r\n        });\r\n\r\n        if (ret === false) {\r\n          return false;\r\n        } else if (typeof ret === 'undefined' || typeof ret !== 'object') {\r\n          continue;\r\n        } else {\r\n          top = ret.top;\r\n          left = ret.left;\r\n        }\r\n      }\r\n\r\n      // We describe the position three different ways to give the optimizer\r\n      // a chance to decide the best possible way to position the element\r\n      // with the fewest repaints.\r\n      var next = {\r\n        // It's position relative to the page (absolute positioning when\r\n        // the element is a child of the body)\r\n        page: {\r\n          top: top,\r\n          left: left\r\n        },\r\n\r\n        // It's position relative to the viewport (fixed positioning)\r\n        viewport: {\r\n          top: top - pageYOffset,\r\n          bottom: pageYOffset - top - height + innerHeight,\r\n          left: left - pageXOffset,\r\n          right: pageXOffset - left - width + innerWidth\r\n        }\r\n      };\r\n\r\n      var doc = this.target.ownerDocument;\r\n      var win = doc.defaultView;\r\n\r\n      var scrollbarSize = undefined;\r\n      if (win.innerHeight > doc.documentElement.clientHeight) {\r\n        scrollbarSize = this.cache('scrollbar-size', getScrollBarSize);\r\n        next.viewport.bottom -= scrollbarSize.height;\r\n      }\r\n\r\n      if (win.innerWidth > doc.documentElement.clientWidth) {\r\n        scrollbarSize = this.cache('scrollbar-size', getScrollBarSize);\r\n        next.viewport.right -= scrollbarSize.width;\r\n      }\r\n\r\n      if (['', 'static'].indexOf(doc.body.style.position) === -1 || ['', 'static'].indexOf(doc.body.parentElement.style.position) === -1) {\r\n        // Absolute positioning in the body will be relative to the page, not the 'initial containing block'\r\n        next.page.bottom = doc.body.scrollHeight - top - height;\r\n        next.page.right = doc.body.scrollWidth - left - width;\r\n      }\r\n\r\n      if (typeof this.options.optimizations !== 'undefined' && this.options.optimizations.moveElement !== false && !(typeof this.targetModifier !== 'undefined')) {\r\n        (function () {\r\n          var offsetParent = _this7.cache('target-offsetparent', function () {\r\n            return getOffsetParent(_this7.target);\r\n          });\r\n          var offsetPosition = _this7.cache('target-offsetparent-bounds', function () {\r\n            return getBounds(offsetParent);\r\n          });\r\n          var offsetParentStyle = getComputedStyle(offsetParent);\r\n          var offsetParentSize = offsetPosition;\r\n\r\n          var offsetBorder = {};\r\n          ['Top', 'Left', 'Bottom', 'Right'].forEach(function (side) {\r\n            offsetBorder[side.toLowerCase()] = parseFloat(offsetParentStyle['border' + side + 'Width']);\r\n          });\r\n\r\n          offsetPosition.right = doc.body.scrollWidth - offsetPosition.left - offsetParentSize.width + offsetBorder.right;\r\n          offsetPosition.bottom = doc.body.scrollHeight - offsetPosition.top - offsetParentSize.height + offsetBorder.bottom;\r\n\r\n          if (next.page.top >= offsetPosition.top + offsetBorder.top && next.page.bottom >= offsetPosition.bottom) {\r\n            if (next.page.left >= offsetPosition.left + offsetBorder.left && next.page.right >= offsetPosition.right) {\r\n              // We're within the visible part of the target's scroll parent\r\n              var scrollTop = offsetParent.scrollTop;\r\n              var scrollLeft = offsetParent.scrollLeft;\r\n\r\n              // It's position relative to the target's offset parent (absolute positioning when\r\n              // the element is moved to be a child of the target's offset parent).\r\n              next.offset = {\r\n                top: next.page.top - offsetPosition.top + scrollTop - offsetBorder.top,\r\n                left: next.page.left - offsetPosition.left + scrollLeft - offsetBorder.left\r\n              };\r\n            }\r\n          }\r\n        })();\r\n      }\r\n\r\n      // We could also travel up the DOM and try each containing context, rather than only\r\n      // looking at the body, but we're gonna get diminishing returns.\r\n\r\n      this.move(next);\r\n\r\n      this.history.unshift(next);\r\n\r\n      if (this.history.length > 3) {\r\n        this.history.pop();\r\n      }\r\n\r\n      if (flushChanges) {\r\n        flush();\r\n      }\r\n\r\n      return true;\r\n    }\r\n\r\n    // THE ISSUE\r\n  }, {\r\n    key: 'move',\r\n    value: function move(pos) {\r\n      var _this8 = this;\r\n\r\n      if (!(typeof this.element.parentNode !== 'undefined')) {\r\n        return;\r\n      }\r\n\r\n      var same = {};\r\n\r\n      for (var type in pos) {\r\n        same[type] = {};\r\n\r\n        for (var key in pos[type]) {\r\n          var found = false;\r\n\r\n          for (var i = 0; i < this.history.length; ++i) {\r\n            var point = this.history[i];\r\n            if (typeof point[type] !== 'undefined' && !within(point[type][key], pos[type][key])) {\r\n              found = true;\r\n              break;\r\n            }\r\n          }\r\n\r\n          if (!found) {\r\n            same[type][key] = true;\r\n          }\r\n        }\r\n      }\r\n\r\n      var css = { top: '', left: '', right: '', bottom: '' };\r\n\r\n      var transcribe = function transcribe(_same, _pos) {\r\n        var hasOptimizations = typeof _this8.options.optimizations !== 'undefined';\r\n        var gpu = hasOptimizations ? _this8.options.optimizations.gpu : null;\r\n        if (gpu !== false) {\r\n          var yPos = undefined,\r\n              xPos = undefined;\r\n          if (_same.top) {\r\n            css.top = 0;\r\n            yPos = _pos.top;\r\n          } else {\r\n            css.bottom = 0;\r\n            yPos = -_pos.bottom;\r\n          }\r\n\r\n          if (_same.left) {\r\n            css.left = 0;\r\n            xPos = _pos.left;\r\n          } else {\r\n            css.right = 0;\r\n            xPos = -_pos.right;\r\n          }\r\n\r\n          if (typeof window.devicePixelRatio === 'number' && devicePixelRatio % 1 === 0) {\r\n            xPos = Math.round(xPos * devicePixelRatio) / devicePixelRatio;\r\n            yPos = Math.round(yPos * devicePixelRatio) / devicePixelRatio;\r\n          }\r\n\r\n          css[transformKey] = 'translateX(' + xPos + 'px) translateY(' + yPos + 'px)';\r\n\r\n          if (transformKey !== 'msTransform') {\r\n            // The Z transform will keep this in the GPU (faster, and prevents artifacts),\r\n            // but IE9 doesn't support 3d transforms and will choke.\r\n            css[transformKey] += \" translateZ(0)\";\r\n          }\r\n        } else {\r\n          if (_same.top) {\r\n            css.top = _pos.top + 'px';\r\n          } else {\r\n            css.bottom = _pos.bottom + 'px';\r\n          }\r\n\r\n          if (_same.left) {\r\n            css.left = _pos.left + 'px';\r\n          } else {\r\n            css.right = _pos.right + 'px';\r\n          }\r\n        }\r\n      };\r\n\r\n      var moved = false;\r\n      if ((same.page.top || same.page.bottom) && (same.page.left || same.page.right)) {\r\n        css.position = 'absolute';\r\n        transcribe(same.page, pos.page);\r\n      } else if ((same.viewport.top || same.viewport.bottom) && (same.viewport.left || same.viewport.right)) {\r\n        css.position = 'fixed';\r\n        transcribe(same.viewport, pos.viewport);\r\n      } else if (typeof same.offset !== 'undefined' && same.offset.top && same.offset.left) {\r\n        (function () {\r\n          css.position = 'absolute';\r\n          var offsetParent = _this8.cache('target-offsetparent', function () {\r\n            return getOffsetParent(_this8.target);\r\n          });\r\n\r\n          if (getOffsetParent(_this8.element) !== offsetParent) {\r\n            defer(function () {\r\n              _this8.element.parentNode.removeChild(_this8.element);\r\n              offsetParent.appendChild(_this8.element);\r\n            });\r\n          }\r\n\r\n          transcribe(same.offset, pos.offset);\r\n          moved = true;\r\n        })();\r\n      } else {\r\n        css.position = 'absolute';\r\n        transcribe({ top: true, left: true }, pos.page);\r\n      }\r\n\r\n      if (!moved) {\r\n        if (this.options.bodyElement) {\r\n          if (this.element.parentNode !== this.options.bodyElement) {\r\n            this.options.bodyElement.appendChild(this.element);\r\n          }\r\n        } else {\r\n          var isFullscreenElement = function isFullscreenElement(e) {\r\n            var d = e.ownerDocument;\r\n            var fe = d.fullscreenElement || d.webkitFullscreenElement || d.mozFullScreenElement || d.msFullscreenElement;\r\n            return fe === e;\r\n          };\r\n\r\n          var offsetParentIsBody = true;\r\n\r\n          var currentNode = this.element.parentNode;\r\n          while (currentNode && currentNode.nodeType === 1 && currentNode.tagName !== 'BODY' && !isFullscreenElement(currentNode)) {\r\n            if (getComputedStyle(currentNode).position !== 'static') {\r\n              offsetParentIsBody = false;\r\n              break;\r\n            }\r\n\r\n            currentNode = currentNode.parentNode;\r\n          }\r\n\r\n          if (!offsetParentIsBody) {\r\n            this.element.parentNode.removeChild(this.element);\r\n            this.element.ownerDocument.body.appendChild(this.element);\r\n          }\r\n        }\r\n      }\r\n\r\n      // Any css change will trigger a repaint, so let's avoid one if nothing changed\r\n      var writeCSS = {};\r\n      var write = false;\r\n      for (var key in css) {\r\n        var val = css[key];\r\n        var elVal = this.element.style[key];\r\n\r\n        if (elVal !== val) {\r\n          write = true;\r\n          writeCSS[key] = val;\r\n        }\r\n      }\r\n\r\n      if (write) {\r\n        defer(function () {\r\n          extend(_this8.element.style, writeCSS);\r\n          _this8.trigger('repositioned');\r\n        });\r\n      }\r\n    }\r\n  }]);\r\n\r\n  return TetherClass;\r\n})(Evented);\r\n\r\nTetherClass.modules = [];\r\n\r\nTetherBase.position = position;\r\n\r\nvar Tether = extend(TetherClass, TetherBase);\r\n/* globals TetherBase */\r\n\r\n'use strict';\r\n\r\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\r\n\r\nvar _TetherBase$Utils = TetherBase.Utils;\r\nvar getBounds = _TetherBase$Utils.getBounds;\r\nvar extend = _TetherBase$Utils.extend;\r\nvar updateClasses = _TetherBase$Utils.updateClasses;\r\nvar defer = _TetherBase$Utils.defer;\r\n\r\nvar BOUNDS_FORMAT = ['left', 'top', 'right', 'bottom'];\r\n\r\nfunction getBoundingRect(tether, to) {\r\n  if (to === 'scrollParent') {\r\n    to = tether.scrollParents[0];\r\n  } else if (to === 'window') {\r\n    to = [pageXOffset, pageYOffset, innerWidth + pageXOffset, innerHeight + pageYOffset];\r\n  }\r\n\r\n  if (to === document) {\r\n    to = to.documentElement;\r\n  }\r\n\r\n  if (typeof to.nodeType !== 'undefined') {\r\n    (function () {\r\n      var node = to;\r\n      var size = getBounds(to);\r\n      var pos = size;\r\n      var style = getComputedStyle(to);\r\n\r\n      to = [pos.left, pos.top, size.width + pos.left, size.height + pos.top];\r\n\r\n      // Account any parent Frames scroll offset\r\n      if (node.ownerDocument !== document) {\r\n        var win = node.ownerDocument.defaultView;\r\n        to[0] += win.pageXOffset;\r\n        to[1] += win.pageYOffset;\r\n        to[2] += win.pageXOffset;\r\n        to[3] += win.pageYOffset;\r\n      }\r\n\r\n      BOUNDS_FORMAT.forEach(function (side, i) {\r\n        side = side[0].toUpperCase() + side.substr(1);\r\n        if (side === 'Top' || side === 'Left') {\r\n          to[i] += parseFloat(style['border' + side + 'Width']);\r\n        } else {\r\n          to[i] -= parseFloat(style['border' + side + 'Width']);\r\n        }\r\n      });\r\n    })();\r\n  }\r\n\r\n  return to;\r\n}\r\n\r\nTetherBase.modules.push({\r\n  position: function position(_ref) {\r\n    var _this = this;\r\n\r\n    var top = _ref.top;\r\n    var left = _ref.left;\r\n    var targetAttachment = _ref.targetAttachment;\r\n\r\n    if (!this.options.constraints) {\r\n      return true;\r\n    }\r\n\r\n    var _cache = this.cache('element-bounds', function () {\r\n      return getBounds(_this.element);\r\n    });\r\n\r\n    var height = _cache.height;\r\n    var width = _cache.width;\r\n\r\n    if (width === 0 && height === 0 && typeof this.lastSize !== 'undefined') {\r\n      var _lastSize = this.lastSize;\r\n\r\n      // Handle the item getting hidden as a result of our positioning without glitching\r\n      // the classes in and out\r\n      width = _lastSize.width;\r\n      height = _lastSize.height;\r\n    }\r\n\r\n    var targetSize = this.cache('target-bounds', function () {\r\n      return _this.getTargetBounds();\r\n    });\r\n\r\n    var targetHeight = targetSize.height;\r\n    var targetWidth = targetSize.width;\r\n\r\n    var allClasses = [this.getClass('pinned'), this.getClass('out-of-bounds')];\r\n\r\n    this.options.constraints.forEach(function (constraint) {\r\n      var outOfBoundsClass = constraint.outOfBoundsClass;\r\n      var pinnedClass = constraint.pinnedClass;\r\n\r\n      if (outOfBoundsClass) {\r\n        allClasses.push(outOfBoundsClass);\r\n      }\r\n      if (pinnedClass) {\r\n        allClasses.push(pinnedClass);\r\n      }\r\n    });\r\n\r\n    allClasses.forEach(function (cls) {\r\n      ['left', 'top', 'right', 'bottom'].forEach(function (side) {\r\n        allClasses.push(cls + '-' + side);\r\n      });\r\n    });\r\n\r\n    var addClasses = [];\r\n\r\n    var tAttachment = extend({}, targetAttachment);\r\n    var eAttachment = extend({}, this.attachment);\r\n\r\n    this.options.constraints.forEach(function (constraint) {\r\n      var to = constraint.to;\r\n      var attachment = constraint.attachment;\r\n      var pin = constraint.pin;\r\n\r\n      if (typeof attachment === 'undefined') {\r\n        attachment = '';\r\n      }\r\n\r\n      var changeAttachX = undefined,\r\n          changeAttachY = undefined;\r\n      if (attachment.indexOf(' ') >= 0) {\r\n        var _attachment$split = attachment.split(' ');\r\n\r\n        var _attachment$split2 = _slicedToArray(_attachment$split, 2);\r\n\r\n        changeAttachY = _attachment$split2[0];\r\n        changeAttachX = _attachment$split2[1];\r\n      } else {\r\n        changeAttachX = changeAttachY = attachment;\r\n      }\r\n\r\n      var bounds = getBoundingRect(_this, to);\r\n\r\n      if (changeAttachY === 'target' || changeAttachY === 'both') {\r\n        if (top < bounds[1] && tAttachment.top === 'top') {\r\n          top += targetHeight;\r\n          tAttachment.top = 'bottom';\r\n        }\r\n\r\n        if (top + height > bounds[3] && tAttachment.top === 'bottom') {\r\n          top -= targetHeight;\r\n          tAttachment.top = 'top';\r\n        }\r\n      }\r\n\r\n      if (changeAttachY === 'together') {\r\n        if (tAttachment.top === 'top') {\r\n          if (eAttachment.top === 'bottom' && top < bounds[1]) {\r\n            top += targetHeight;\r\n            tAttachment.top = 'bottom';\r\n\r\n            top += height;\r\n            eAttachment.top = 'top';\r\n          } else if (eAttachment.top === 'top' && top + height > bounds[3] && top - (height - targetHeight) >= bounds[1]) {\r\n            top -= height - targetHeight;\r\n            tAttachment.top = 'bottom';\r\n\r\n            eAttachment.top = 'bottom';\r\n          }\r\n        }\r\n\r\n        if (tAttachment.top === 'bottom') {\r\n          if (eAttachment.top === 'top' && top + height > bounds[3]) {\r\n            top -= targetHeight;\r\n            tAttachment.top = 'top';\r\n\r\n            top -= height;\r\n            eAttachment.top = 'bottom';\r\n          } else if (eAttachment.top === 'bottom' && top < bounds[1] && top + (height * 2 - targetHeight) <= bounds[3]) {\r\n            top += height - targetHeight;\r\n            tAttachment.top = 'top';\r\n\r\n            eAttachment.top = 'top';\r\n          }\r\n        }\r\n\r\n        if (tAttachment.top === 'middle') {\r\n          if (top + height > bounds[3] && eAttachment.top === 'top') {\r\n            top -= height;\r\n            eAttachment.top = 'bottom';\r\n          } else if (top < bounds[1] && eAttachment.top === 'bottom') {\r\n            top += height;\r\n            eAttachment.top = 'top';\r\n          }\r\n        }\r\n      }\r\n\r\n      if (changeAttachX === 'target' || changeAttachX === 'both') {\r\n        if (left < bounds[0] && tAttachment.left === 'left') {\r\n          left += targetWidth;\r\n          tAttachment.left = 'right';\r\n        }\r\n\r\n        if (left + width > bounds[2] && tAttachment.left === 'right') {\r\n          left -= targetWidth;\r\n          tAttachment.left = 'left';\r\n        }\r\n      }\r\n\r\n      if (changeAttachX === 'together') {\r\n        if (left < bounds[0] && tAttachment.left === 'left') {\r\n          if (eAttachment.left === 'right') {\r\n            left += targetWidth;\r\n            tAttachment.left = 'right';\r\n\r\n            left += width;\r\n            eAttachment.left = 'left';\r\n          } else if (eAttachment.left === 'left') {\r\n            left += targetWidth;\r\n            tAttachment.left = 'right';\r\n\r\n            left -= width;\r\n            eAttachment.left = 'right';\r\n          }\r\n        } else if (left + width > bounds[2] && tAttachment.left === 'right') {\r\n          if (eAttachment.left === 'left') {\r\n            left -= targetWidth;\r\n            tAttachment.left = 'left';\r\n\r\n            left -= width;\r\n            eAttachment.left = 'right';\r\n          } else if (eAttachment.left === 'right') {\r\n            left -= targetWidth;\r\n            tAttachment.left = 'left';\r\n\r\n            left += width;\r\n            eAttachment.left = 'left';\r\n          }\r\n        } else if (tAttachment.left === 'center') {\r\n          if (left + width > bounds[2] && eAttachment.left === 'left') {\r\n            left -= width;\r\n            eAttachment.left = 'right';\r\n          } else if (left < bounds[0] && eAttachment.left === 'right') {\r\n            left += width;\r\n            eAttachment.left = 'left';\r\n          }\r\n        }\r\n      }\r\n\r\n      if (changeAttachY === 'element' || changeAttachY === 'both') {\r\n        if (top < bounds[1] && eAttachment.top === 'bottom') {\r\n          top += height;\r\n          eAttachment.top = 'top';\r\n        }\r\n\r\n        if (top + height > bounds[3] && eAttachment.top === 'top') {\r\n          top -= height;\r\n          eAttachment.top = 'bottom';\r\n        }\r\n      }\r\n\r\n      if (changeAttachX === 'element' || changeAttachX === 'both') {\r\n        if (left < bounds[0]) {\r\n          if (eAttachment.left === 'right') {\r\n            left += width;\r\n            eAttachment.left = 'left';\r\n          } else if (eAttachment.left === 'center') {\r\n            left += width / 2;\r\n            eAttachment.left = 'left';\r\n          }\r\n        }\r\n\r\n        if (left + width > bounds[2]) {\r\n          if (eAttachment.left === 'left') {\r\n            left -= width;\r\n            eAttachment.left = 'right';\r\n          } else if (eAttachment.left === 'center') {\r\n            left -= width / 2;\r\n            eAttachment.left = 'right';\r\n          }\r\n        }\r\n      }\r\n\r\n      if (typeof pin === 'string') {\r\n        pin = pin.split(',').map(function (p) {\r\n          return p.trim();\r\n        });\r\n      } else if (pin === true) {\r\n        pin = ['top', 'left', 'right', 'bottom'];\r\n      }\r\n\r\n      pin = pin || [];\r\n\r\n      var pinned = [];\r\n      var oob = [];\r\n\r\n      if (top < bounds[1]) {\r\n        if (pin.indexOf('top') >= 0) {\r\n          top = bounds[1];\r\n          pinned.push('top');\r\n        } else {\r\n          oob.push('top');\r\n        }\r\n      }\r\n\r\n      if (top + height > bounds[3]) {\r\n        if (pin.indexOf('bottom') >= 0) {\r\n          top = bounds[3] - height;\r\n          pinned.push('bottom');\r\n        } else {\r\n          oob.push('bottom');\r\n        }\r\n      }\r\n\r\n      if (left < bounds[0]) {\r\n        if (pin.indexOf('left') >= 0) {\r\n          left = bounds[0];\r\n          pinned.push('left');\r\n        } else {\r\n          oob.push('left');\r\n        }\r\n      }\r\n\r\n      if (left + width > bounds[2]) {\r\n        if (pin.indexOf('right') >= 0) {\r\n          left = bounds[2] - width;\r\n          pinned.push('right');\r\n        } else {\r\n          oob.push('right');\r\n        }\r\n      }\r\n\r\n      if (pinned.length) {\r\n        (function () {\r\n          var pinnedClass = undefined;\r\n          if (typeof _this.options.pinnedClass !== 'undefined') {\r\n            pinnedClass = _this.options.pinnedClass;\r\n          } else {\r\n            pinnedClass = _this.getClass('pinned');\r\n          }\r\n\r\n          addClasses.push(pinnedClass);\r\n          pinned.forEach(function (side) {\r\n            addClasses.push(pinnedClass + '-' + side);\r\n          });\r\n        })();\r\n      }\r\n\r\n      if (oob.length) {\r\n        (function () {\r\n          var oobClass = undefined;\r\n          if (typeof _this.options.outOfBoundsClass !== 'undefined') {\r\n            oobClass = _this.options.outOfBoundsClass;\r\n          } else {\r\n            oobClass = _this.getClass('out-of-bounds');\r\n          }\r\n\r\n          addClasses.push(oobClass);\r\n          oob.forEach(function (side) {\r\n            addClasses.push(oobClass + '-' + side);\r\n          });\r\n        })();\r\n      }\r\n\r\n      if (pinned.indexOf('left') >= 0 || pinned.indexOf('right') >= 0) {\r\n        eAttachment.left = tAttachment.left = false;\r\n      }\r\n      if (pinned.indexOf('top') >= 0 || pinned.indexOf('bottom') >= 0) {\r\n        eAttachment.top = tAttachment.top = false;\r\n      }\r\n\r\n      if (tAttachment.top !== targetAttachment.top || tAttachment.left !== targetAttachment.left || eAttachment.top !== _this.attachment.top || eAttachment.left !== _this.attachment.left) {\r\n        _this.updateAttachClasses(eAttachment, tAttachment);\r\n        _this.trigger('update', {\r\n          attachment: eAttachment,\r\n          targetAttachment: tAttachment\r\n        });\r\n      }\r\n    });\r\n\r\n    defer(function () {\r\n      if (!(_this.options.addTargetClasses === false)) {\r\n        updateClasses(_this.target, addClasses, allClasses);\r\n      }\r\n      updateClasses(_this.element, addClasses, allClasses);\r\n    });\r\n\r\n    return { top: top, left: left };\r\n  }\r\n});\r\n/* globals TetherBase */\r\n\r\n'use strict';\r\n\r\nvar _TetherBase$Utils = TetherBase.Utils;\r\nvar getBounds = _TetherBase$Utils.getBounds;\r\nvar updateClasses = _TetherBase$Utils.updateClasses;\r\nvar defer = _TetherBase$Utils.defer;\r\n\r\nTetherBase.modules.push({\r\n  position: function position(_ref) {\r\n    var _this = this;\r\n\r\n    var top = _ref.top;\r\n    var left = _ref.left;\r\n\r\n    var _cache = this.cache('element-bounds', function () {\r\n      return getBounds(_this.element);\r\n    });\r\n\r\n    var height = _cache.height;\r\n    var width = _cache.width;\r\n\r\n    var targetPos = this.getTargetBounds();\r\n\r\n    var bottom = top + height;\r\n    var right = left + width;\r\n\r\n    var abutted = [];\r\n    if (top <= targetPos.bottom && bottom >= targetPos.top) {\r\n      ['left', 'right'].forEach(function (side) {\r\n        var targetPosSide = targetPos[side];\r\n        if (targetPosSide === left || targetPosSide === right) {\r\n          abutted.push(side);\r\n        }\r\n      });\r\n    }\r\n\r\n    if (left <= targetPos.right && right >= targetPos.left) {\r\n      ['top', 'bottom'].forEach(function (side) {\r\n        var targetPosSide = targetPos[side];\r\n        if (targetPosSide === top || targetPosSide === bottom) {\r\n          abutted.push(side);\r\n        }\r\n      });\r\n    }\r\n\r\n    var allClasses = [];\r\n    var addClasses = [];\r\n\r\n    var sides = ['left', 'top', 'right', 'bottom'];\r\n    allClasses.push(this.getClass('abutted'));\r\n    sides.forEach(function (side) {\r\n      allClasses.push(_this.getClass('abutted') + '-' + side);\r\n    });\r\n\r\n    if (abutted.length) {\r\n      addClasses.push(this.getClass('abutted'));\r\n    }\r\n\r\n    abutted.forEach(function (side) {\r\n      addClasses.push(_this.getClass('abutted') + '-' + side);\r\n    });\r\n\r\n    defer(function () {\r\n      if (!(_this.options.addTargetClasses === false)) {\r\n        updateClasses(_this.target, addClasses, allClasses);\r\n      }\r\n      updateClasses(_this.element, addClasses, allClasses);\r\n    });\r\n\r\n    return true;\r\n  }\r\n});\r\n/* globals TetherBase */\r\n\r\n'use strict';\r\n\r\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\r\n\r\nTetherBase.modules.push({\r\n  position: function position(_ref) {\r\n    var top = _ref.top;\r\n    var left = _ref.left;\r\n\r\n    if (!this.options.shift) {\r\n      return;\r\n    }\r\n\r\n    var shift = this.options.shift;\r\n    if (typeof this.options.shift === 'function') {\r\n      shift = this.options.shift.call(this, { top: top, left: left });\r\n    }\r\n\r\n    var shiftTop = undefined,\r\n        shiftLeft = undefined;\r\n    if (typeof shift === 'string') {\r\n      shift = shift.split(' ');\r\n      shift[1] = shift[1] || shift[0];\r\n\r\n      var _shift = shift;\r\n\r\n      var _shift2 = _slicedToArray(_shift, 2);\r\n\r\n      shiftTop = _shift2[0];\r\n      shiftLeft = _shift2[1];\r\n\r\n      shiftTop = parseFloat(shiftTop, 10);\r\n      shiftLeft = parseFloat(shiftLeft, 10);\r\n    } else {\r\n      shiftTop = shift.top;\r\n      shiftLeft = shift.left;\r\n    }\r\n\r\n    top += shiftTop;\r\n    left += shiftLeft;\r\n\r\n    return { top: top, left: left };\r\n  }\r\n});\r\nreturn Tether;\r\n\r\n}));\r\n","export class AnnotationEvent {\r\n  dashboardId: number;\r\n  panelId: number;\r\n  userId: number;\r\n  time: any;\r\n  timeEnd: any;\r\n  isRegion: boolean;\r\n  text: string;\r\n  type: string;\r\n  tags: string;\r\n}\r\n","import _ from 'lodash';\r\nimport tinycolor from 'tinycolor2';\r\n\r\nexport const PALETTE_ROWS = 4;\r\nexport const PALETTE_COLUMNS = 14;\r\nexport const DEFAULT_ANNOTATION_COLOR = 'rgba(0, 211, 255, 1)';\r\nexport const OK_COLOR = 'rgba(11, 237, 50, 1)';\r\nexport const ALERTING_COLOR = 'rgba(237, 46, 24, 1)';\r\nexport const NO_DATA_COLOR = 'rgba(150, 150, 150, 1)';\r\nexport const REGION_FILL_ALPHA = 0.09;\r\n\r\nlet colors = [\r\n  '#7EB26D',\r\n  '#EAB839',\r\n  '#6ED0E0',\r\n  '#EF843C',\r\n  '#E24D42',\r\n  '#1F78C1',\r\n  '#BA43A9',\r\n  '#705DA0',\r\n  '#508642',\r\n  '#CCA300',\r\n  '#447EBC',\r\n  '#C15C17',\r\n  '#890F02',\r\n  '#0A437C',\r\n  '#6D1F62',\r\n  '#584477',\r\n  '#B7DBAB',\r\n  '#F4D598',\r\n  '#70DBED',\r\n  '#F9BA8F',\r\n  '#F29191',\r\n  '#82B5D8',\r\n  '#E5A8E2',\r\n  '#AEA2E0',\r\n  '#629E51',\r\n  '#E5AC0E',\r\n  '#64B0C8',\r\n  '#E0752D',\r\n  '#BF1B00',\r\n  '#0A50A1',\r\n  '#962D82',\r\n  '#614D93',\r\n  '#9AC48A',\r\n  '#F2C96D',\r\n  '#65C5DB',\r\n  '#F9934E',\r\n  '#EA6460',\r\n  '#5195CE',\r\n  '#D683CE',\r\n  '#806EB7',\r\n  '#3F6833',\r\n  '#967302',\r\n  '#2F575E',\r\n  '#99440A',\r\n  '#58140C',\r\n  '#052B51',\r\n  '#511749',\r\n  '#3F2B5B',\r\n  '#E0F9D7',\r\n  '#FCEACA',\r\n  '#CFFAFF',\r\n  '#F9E2D2',\r\n  '#FCE2DE',\r\n  '#BADFF4',\r\n  '#F9D9F9',\r\n  '#DEDAF7',\r\n];\r\n\r\nexport function sortColorsByHue(hexColors) {\r\n  let hslColors = _.map(hexColors, hexToHsl);\r\n\r\n  let sortedHSLColors: any = _.sortBy(hslColors, ['h']);\r\n  sortedHSLColors = _.chunk(sortedHSLColors, PALETTE_ROWS);\r\n  sortedHSLColors = _.map(sortedHSLColors, chunk => {\r\n    return _.sortBy(chunk, 'l');\r\n  });\r\n  sortedHSLColors = _.flattenDeep(_.zip(...sortedHSLColors));\r\n\r\n  return _.map(sortedHSLColors, hslToHex);\r\n}\r\n\r\nexport function hexToHsl(color) {\r\n  return tinycolor(color).toHsl();\r\n}\r\n\r\nexport function hslToHex(color) {\r\n  return tinycolor(color).toHexString();\r\n}\r\n\r\nexport let sortedColors = sortColorsByHue(colors);\r\nexport default colors;\r\n","import _ from 'lodash';\r\nimport moment from 'moment';\r\nimport tinycolor from 'tinycolor2';\r\nimport { MetricsPanelCtrl } from 'grafana/app/plugins/sdk';\r\nimport { AnnotationEvent } from './event';\r\nimport {\r\n  DEFAULT_ANNOTATION_COLOR,\r\n  OK_COLOR,\r\n  ALERTING_COLOR,\r\n  NO_DATA_COLOR,\r\n  REGION_FILL_ALPHA\r\n} from './colors';\r\n\r\nexport class EventManager {\r\n  event: AnnotationEvent;\r\n  editorOpen: boolean;\r\n\r\n  constructor(private panelCtrl: MetricsPanelCtrl) { }\r\n\r\n  editorClosed() {\r\n    this.event = null;\r\n    this.editorOpen = false;\r\n    this.panelCtrl.render();\r\n  }\r\n\r\n  editorOpened() {\r\n    this.editorOpen = true;\r\n  }\r\n\r\n  updateTime(range) {\r\n    if (!this.event) {\r\n      this.event = new AnnotationEvent();\r\n      this.event.dashboardId = this.panelCtrl.dashboard.id;\r\n      this.event.panelId = this.panelCtrl.panel.id;\r\n    }\r\n\r\n    // update time\r\n    this.event.time = moment(range.from);\r\n    this.event.isRegion = false;\r\n    if (range.to) {\r\n      this.event.timeEnd = moment(range.to);\r\n      this.event.isRegion = true;\r\n    }\r\n\r\n    this.panelCtrl.render();\r\n  }\r\n\r\n  editEvent(event, elem?) {\r\n    this.event = event;\r\n    this.panelCtrl.render();\r\n  }\r\n\r\n  addFlotEvents(annotations, flotOptions) {\r\n    if (!this.event && annotations.length === 0) {\r\n      return;\r\n    }\r\n\r\n    var types = {\r\n      $__alerting: {\r\n        color: ALERTING_COLOR,\r\n        position: 'BOTTOM',\r\n        markerSize: 5,\r\n      },\r\n      $__ok: {\r\n        color: OK_COLOR,\r\n        position: 'BOTTOM',\r\n        markerSize: 5,\r\n      },\r\n      $__no_data: {\r\n        color: NO_DATA_COLOR,\r\n        position: 'BOTTOM',\r\n        markerSize: 5,\r\n      },\r\n      $__editing: {\r\n        color: DEFAULT_ANNOTATION_COLOR,\r\n        position: 'BOTTOM',\r\n        markerSize: 5,\r\n      },\r\n    };\r\n\r\n    if (this.event) {\r\n      if (this.event.isRegion) {\r\n        annotations = [\r\n          {\r\n            isRegion: true,\r\n            min: this.event.time.valueOf(),\r\n            timeEnd: this.event.timeEnd.valueOf(),\r\n            text: this.event.text,\r\n            eventType: '$__editing',\r\n            editModel: this.event,\r\n          },\r\n        ];\r\n      } else {\r\n        annotations = [\r\n          {\r\n            min: this.event.time.valueOf(),\r\n            text: this.event.text,\r\n            editModel: this.event,\r\n            eventType: '$__editing',\r\n          },\r\n        ];\r\n      }\r\n    } else {\r\n      // annotations from query\r\n      for (var i = 0; i < annotations.length; i++) {\r\n        var item = annotations[i];\r\n\r\n        // add properties used by jquery flot events\r\n        item.min = item.time;\r\n        item.max = item.time;\r\n        item.eventType = item.source.name;\r\n\r\n        if (item.newState) {\r\n          item.eventType = '$__' + item.newState;\r\n          continue;\r\n        }\r\n\r\n        if (!types[item.source.name]) {\r\n          types[item.source.name] = {\r\n            color: item.source.iconColor,\r\n            position: 'BOTTOM',\r\n            markerSize: 5,\r\n          };\r\n        }\r\n      }\r\n    }\r\n\r\n    let regions = getRegions(annotations);\r\n    addRegionMarking(regions, flotOptions);\r\n\r\n    let eventSectionHeight = 20;\r\n    let eventSectionMargin = 7;\r\n    flotOptions.grid.eventSectionHeight = eventSectionMargin;\r\n    flotOptions.xaxis.eventSectionHeight = eventSectionHeight;\r\n\r\n    flotOptions.events = {\r\n      levels: _.keys(types).length + 1,\r\n      data: annotations,\r\n      types: types,\r\n      manager: this,\r\n    };\r\n  }\r\n}\r\n\r\nfunction getRegions(events) {\r\n  return _.filter(events, 'isRegion');\r\n}\r\n\r\nfunction addRegionMarking(regions, flotOptions) {\r\n  let markings = flotOptions.grid.markings;\r\n  let defaultColor = DEFAULT_ANNOTATION_COLOR;\r\n  let fillColor;\r\n\r\n  _.each(regions, region => {\r\n    if (region.source) {\r\n      fillColor = region.source.iconColor || defaultColor;\r\n    } else {\r\n      fillColor = defaultColor;\r\n    }\r\n\r\n    fillColor = addAlphaToRGB(fillColor, REGION_FILL_ALPHA);\r\n    markings.push({\r\n      xaxis: { from: region.min, to: region.timeEnd },\r\n      color: fillColor,\r\n    });\r\n  });\r\n}\r\n\r\nfunction addAlphaToRGB(colorString: string, alpha: number): string {\r\n  let color = tinycolor(colorString);\r\n  if (color.isValid()) {\r\n    color.setAlpha(alpha);\r\n    return color.toRgbString();\r\n  } else {\r\n    return colorString;\r\n  }\r\n}\r\n","import { getDataMinMax } from './time_series2';\r\n\r\n/**\r\n * Calculate tick step.\r\n * Implementation from d3-array (ticks.js)\r\n * https://github.com/d3/d3-array/blob/master/src/ticks.js\r\n * @param start Start value\r\n * @param stop End value\r\n * @param count Ticks count\r\n */\r\nexport function tickStep(start: number, stop: number, count: number): number {\r\n  let e10 = Math.sqrt(50),\r\n    e5 = Math.sqrt(10),\r\n    e2 = Math.sqrt(2);\r\n\r\n  let step0 = Math.abs(stop - start) / Math.max(0, count),\r\n    step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\r\n    error = step0 / step1;\r\n\r\n  if (error >= e10) {\r\n    step1 *= 10;\r\n  } else if (error >= e5) {\r\n    step1 *= 5;\r\n  } else if (error >= e2) {\r\n    step1 *= 2;\r\n  }\r\n\r\n  return stop < start ? -step1 : step1;\r\n}\r\n\r\nexport function getScaledDecimals(decimals, tick_size) {\r\n  return decimals - Math.floor(Math.log(tick_size) / Math.LN10);\r\n}\r\n\r\n/**\r\n * Calculate tick size based on min and max values, number of ticks and precision.\r\n * Implementation from Flot.\r\n * @param min           Axis minimum\r\n * @param max           Axis maximum\r\n * @param noTicks       Number of ticks\r\n * @param tickDecimals  Tick decimal precision\r\n */\r\nexport function getFlotTickSize(min: number, max: number, noTicks: number, tickDecimals: number) {\r\n  var delta = (max - min) / noTicks,\r\n    dec = -Math.floor(Math.log(delta) / Math.LN10),\r\n    maxDec = tickDecimals;\r\n\r\n  var magn = Math.pow(10, -dec),\r\n    norm = delta / magn, // norm is between 1.0 and 10.0\r\n    size;\r\n\r\n  if (norm < 1.5) {\r\n    size = 1;\r\n  } else if (norm < 3) {\r\n    size = 2;\r\n    // special case for 2.5, requires an extra decimal\r\n    if (norm > 2.25 && (maxDec == null || dec + 1 <= maxDec)) {\r\n      size = 2.5;\r\n      ++dec;\r\n    }\r\n  } else if (norm < 7.5) {\r\n    size = 5;\r\n  } else {\r\n    size = 10;\r\n  }\r\n\r\n  size *= magn;\r\n\r\n  return size;\r\n}\r\n\r\n/**\r\n * Calculate axis range (min and max).\r\n * Implementation from Flot.\r\n */\r\nexport function getFlotRange(panelMin, panelMax, datamin, datamax) {\r\n  const autoscaleMargin = 0.02;\r\n\r\n  let min = +(panelMin != null ? panelMin : datamin);\r\n  let max = +(panelMax != null ? panelMax : datamax);\r\n  let delta = max - min;\r\n\r\n  if (delta === 0.0) {\r\n    // Grafana fix: wide Y min and max using increased wideFactor\r\n    // when all series values are the same\r\n    var wideFactor = 0.25;\r\n    var widen = Math.abs(max === 0 ? 1 : max * wideFactor);\r\n\r\n    if (panelMin === null) {\r\n      min -= widen;\r\n    }\r\n    // always widen max if we couldn't widen min to ensure we\r\n    // don't fall into min == max which doesn't work\r\n    if (panelMax == null || panelMin != null) {\r\n      max += widen;\r\n    }\r\n  } else {\r\n    // consider autoscaling\r\n    var margin = autoscaleMargin;\r\n    if (margin != null) {\r\n      if (panelMin == null) {\r\n        min -= delta * margin;\r\n        // make sure we don't go below zero if all values\r\n        // are positive\r\n        if (min < 0 && datamin != null && datamin >= 0) {\r\n          min = 0;\r\n        }\r\n      }\r\n      if (panelMax == null) {\r\n        max += delta * margin;\r\n        if (max > 0 && datamax != null && datamax <= 0) {\r\n          max = 0;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return { min, max };\r\n}\r\n\r\n/**\r\n * Calculate tick decimals.\r\n * Implementation from Flot.\r\n */\r\nexport function getFlotTickDecimals(data, axis) {\r\n  let { datamin, datamax } = getDataMinMax(data);\r\n  let { min, max } = getFlotRange(axis.min, axis.max, datamin, datamax);\r\n  let noTicks = 3;\r\n  let tickDecimals, maxDec;\r\n  let delta = (max - min) / noTicks;\r\n  let dec = -Math.floor(Math.log(delta) / Math.LN10);\r\n\r\n  let magn = Math.pow(10, -dec);\r\n  // norm is between 1.0 and 10.0\r\n  let norm = delta / magn;\r\n  let size;\r\n\r\n  if (norm < 1.5) {\r\n    size = 1;\r\n  } else if (norm < 3) {\r\n    size = 2;\r\n    // special case for 2.5, requires an extra decimal\r\n    if (norm > 2.25 && (maxDec == null || dec + 1 <= maxDec)) {\r\n      size = 2.5;\r\n      ++dec;\r\n    }\r\n  } else if (norm < 7.5) {\r\n    size = 5;\r\n  } else {\r\n    size = 10;\r\n  }\r\n\r\n  size *= magn;\r\n\r\n  tickDecimals = Math.max(0, maxDec != null ? maxDec : dec);\r\n  // grafana addition\r\n  const scaledDecimals = tickDecimals - Math.floor(Math.log(size) / Math.LN10);\r\n  return { tickDecimals, scaledDecimals };\r\n}\r\n","import kbn from 'grafana/app/core/utils/kbn';\r\nimport { getFlotTickDecimals } from './ticks';\r\nimport _ from 'lodash';\r\n\r\nfunction matchSeriesOverride(aliasOrRegex, seriesAlias) {\r\n  if (!aliasOrRegex) {\r\n    return false;\r\n  }\r\n\r\n  if (aliasOrRegex[0] === '/') {\r\n    var regex = kbn.stringToJsRegex(aliasOrRegex);\r\n    return seriesAlias.match(regex) != null;\r\n  }\r\n\r\n  return aliasOrRegex === seriesAlias;\r\n}\r\n\r\nfunction translateFillOption(fill) {\r\n  return fill === 0 ? 0.001 : fill / 10;\r\n}\r\n\r\n/**\r\n * Calculate decimals for legend and update values for each series.\r\n * @param data series data\r\n * @param panel\r\n */\r\nexport function updateLegendValues(data: TimeSeries[], panel) {\r\n  for (let i = 0; i < data.length; i++) {\r\n    let series = data[i];\r\n    let yaxes = panel.yaxes;\r\n    const seriesYAxis = series.yaxis || 1;\r\n    let axis = yaxes[seriesYAxis - 1];\r\n    let { tickDecimals, scaledDecimals } = getFlotTickDecimals(data, axis);\r\n    let formater = kbn.valueFormats[panel.yaxes[seriesYAxis - 1].format];\r\n\r\n    // decimal override\r\n    if (_.isNumber(panel.decimals)) {\r\n      series.updateLegendValues(formater, panel.decimals, null);\r\n    } else {\r\n      // auto decimals\r\n      // legend and tooltip gets one more decimal precision\r\n      // than graph legend ticks\r\n      tickDecimals = (tickDecimals || -1) + 1;\r\n      series.updateLegendValues(formater, tickDecimals, scaledDecimals + 2);\r\n    }\r\n  }\r\n}\r\n\r\nexport function getDataMinMax(data: TimeSeries[]) {\r\n  let datamin = null;\r\n  let datamax = null;\r\n\r\n  for (let series of data) {\r\n    if (datamax === null || datamax < series.stats.max) {\r\n      datamax = series.stats.max;\r\n    }\r\n    if (datamin === null || datamin > series.stats.min) {\r\n      datamin = series.stats.min;\r\n    }\r\n  }\r\n\r\n  return { datamin, datamax };\r\n}\r\n\r\nexport default class TimeSeries {\r\n  datapoints: any;\r\n  id: string;\r\n  label: string;\r\n  alias: string;\r\n  aliasEscaped: string;\r\n  color: string;\r\n  valueFormater: any;\r\n  stats: any;\r\n  legend: boolean;\r\n  allIsNull: boolean;\r\n  allIsZero: boolean;\r\n  decimals: number;\r\n  scaledDecimals: number;\r\n  hasMsResolution: boolean;\r\n  isOutsideRange: boolean;\r\n\r\n  lines: any;\r\n  dashes: any;\r\n  bars: any;\r\n  points: any;\r\n  yaxis: any;\r\n  zindex: any;\r\n  stack: any;\r\n  nullPointMode: any;\r\n  fillBelowTo: any;\r\n  transform: any;\r\n  flotpairs: any;\r\n  unit: any;\r\n\r\n  constructor(opts) {\r\n    this.datapoints = opts.datapoints;\r\n    this.label = opts.alias;\r\n    this.id = opts.alias;\r\n    this.alias = opts.alias;\r\n    this.aliasEscaped = _.escape(opts.alias);\r\n    this.color = opts.color;\r\n    this.valueFormater = kbn.valueFormats.none;\r\n    this.stats = {};\r\n    this.legend = true;\r\n    this.unit = opts.unit;\r\n    this.hasMsResolution = this.isMsResolutionNeeded();\r\n  }\r\n\r\n  applySeriesOverrides(overrides) {\r\n    this.lines = {};\r\n    this.dashes = {\r\n      dashLength: [],\r\n    };\r\n    this.points = {};\r\n    this.bars = {};\r\n    this.yaxis = 1;\r\n    this.zindex = 0;\r\n    this.nullPointMode = null;\r\n    delete this.stack;\r\n\r\n    for (var i = 0; i < overrides.length; i++) {\r\n      var override = overrides[i];\r\n      if (!matchSeriesOverride(override.alias, this.alias)) {\r\n        continue;\r\n      }\r\n      if (override.lines !== void 0) {\r\n        this.lines.show = override.lines;\r\n      }\r\n      if (override.dashes !== void 0) {\r\n        this.dashes.show = override.dashes;\r\n        this.lines.lineWidth = 0;\r\n      }\r\n      if (override.points !== void 0) {\r\n        this.points.show = override.points;\r\n      }\r\n      if (override.bars !== void 0) {\r\n        this.bars.show = override.bars;\r\n      }\r\n      if (override.fill !== void 0) {\r\n        this.lines.fill = translateFillOption(override.fill);\r\n      }\r\n      if (override.stack !== void 0) {\r\n        this.stack = override.stack;\r\n      }\r\n      if (override.linewidth !== void 0) {\r\n        this.lines.lineWidth = this.dashes.show ? 0 : override.linewidth;\r\n        this.dashes.lineWidth = override.linewidth;\r\n      }\r\n      if (override.dashLength !== void 0) {\r\n        this.dashes.dashLength[0] = override.dashLength;\r\n      }\r\n      if (override.spaceLength !== void 0) {\r\n        this.dashes.dashLength[1] = override.spaceLength;\r\n      }\r\n      if (override.nullPointMode !== void 0) {\r\n        this.nullPointMode = override.nullPointMode;\r\n      }\r\n      if (override.pointradius !== void 0) {\r\n        this.points.radius = override.pointradius;\r\n      }\r\n      if (override.steppedLine !== void 0) {\r\n        this.lines.steps = override.steppedLine;\r\n      }\r\n      if (override.zindex !== void 0) {\r\n        this.zindex = override.zindex;\r\n      }\r\n      if (override.fillBelowTo !== void 0) {\r\n        this.fillBelowTo = override.fillBelowTo;\r\n      }\r\n      if (override.color !== void 0) {\r\n        this.color = override.color;\r\n      }\r\n      if (override.transform !== void 0) {\r\n        this.transform = override.transform;\r\n      }\r\n      if (override.legend !== void 0) {\r\n        this.legend = override.legend;\r\n      }\r\n\r\n      if (override.yaxis !== void 0) {\r\n        this.yaxis = override.yaxis;\r\n      }\r\n    }\r\n  }\r\n\r\n  getFlotPairs(fillStyle) {\r\n    var result = [];\r\n\r\n    this.stats.total = 0;\r\n    this.stats.max = -Number.MAX_VALUE;\r\n    this.stats.min = Number.MAX_VALUE;\r\n    this.stats.logmin = Number.MAX_VALUE;\r\n    this.stats.avg = null;\r\n    this.stats.current = null;\r\n    this.stats.first = null;\r\n    this.stats.delta = 0;\r\n    this.stats.diff = null;\r\n    this.stats.range = null;\r\n    this.stats.timeStep = Number.MAX_VALUE;\r\n    this.allIsNull = true;\r\n    this.allIsZero = true;\r\n\r\n    var ignoreNulls = fillStyle === 'connected';\r\n    var nullAsZero = fillStyle === 'null as zero';\r\n    var currentTime;\r\n    var currentValue;\r\n    var nonNulls = 0;\r\n    var previousTime;\r\n    var previousValue = 0;\r\n    var previousDeltaUp = true;\r\n\r\n    for (var i = 0; i < this.datapoints.length; i++) {\r\n      currentValue = this.datapoints[i][0];\r\n      currentTime = this.datapoints[i][1];\r\n\r\n      // Due to missing values we could have different timeStep all along the series\r\n      // so we have to find the minimum one (could occur with aggregators such as ZimSum)\r\n      if (previousTime !== undefined) {\r\n        let timeStep = currentTime - previousTime;\r\n        if (timeStep < this.stats.timeStep) {\r\n          this.stats.timeStep = timeStep;\r\n        }\r\n      }\r\n      previousTime = currentTime;\r\n\r\n      if (currentValue === null) {\r\n        if (ignoreNulls) {\r\n          continue;\r\n        }\r\n        if (nullAsZero) {\r\n          currentValue = 0;\r\n        }\r\n      }\r\n\r\n      if (currentValue !== null) {\r\n        if (_.isNumber(currentValue)) {\r\n          this.stats.total += currentValue;\r\n          this.allIsNull = false;\r\n          nonNulls++;\r\n        }\r\n\r\n        if (currentValue > this.stats.max) {\r\n          this.stats.max = currentValue;\r\n        }\r\n\r\n        if (currentValue < this.stats.min) {\r\n          this.stats.min = currentValue;\r\n        }\r\n\r\n        if (this.stats.first === null) {\r\n          this.stats.first = currentValue;\r\n        } else {\r\n          if (previousValue > currentValue) {\r\n            // counter reset\r\n            previousDeltaUp = false;\r\n            if (i === this.datapoints.length - 1) {\r\n              // reset on last\r\n              this.stats.delta += currentValue;\r\n            }\r\n          } else {\r\n            if (previousDeltaUp) {\r\n              this.stats.delta += currentValue - previousValue; // normal increment\r\n            } else {\r\n              this.stats.delta += currentValue; // account for counter reset\r\n            }\r\n            previousDeltaUp = true;\r\n          }\r\n        }\r\n        previousValue = currentValue;\r\n\r\n        if (currentValue < this.stats.logmin && currentValue > 0) {\r\n          this.stats.logmin = currentValue;\r\n        }\r\n\r\n        if (currentValue !== 0) {\r\n          this.allIsZero = false;\r\n        }\r\n      }\r\n\r\n      result.push([currentTime, currentValue]);\r\n    }\r\n\r\n    if (this.stats.max === -Number.MAX_VALUE) {\r\n      this.stats.max = null;\r\n    }\r\n    if (this.stats.min === Number.MAX_VALUE) {\r\n      this.stats.min = null;\r\n    }\r\n\r\n    if (result.length && !this.allIsNull) {\r\n      this.stats.avg = this.stats.total / nonNulls;\r\n      this.stats.current = result[result.length - 1][1];\r\n      if (this.stats.current === null && result.length > 1) {\r\n        this.stats.current = result[result.length - 2][1];\r\n      }\r\n    }\r\n    if (this.stats.max !== null && this.stats.min !== null) {\r\n      this.stats.range = this.stats.max - this.stats.min;\r\n    }\r\n    if (this.stats.current !== null && this.stats.first !== null) {\r\n      this.stats.diff = this.stats.current - this.stats.first;\r\n    }\r\n\r\n    this.stats.count = result.length;\r\n    return result;\r\n  }\r\n\r\n  updateLegendValues(formater, decimals, scaledDecimals) {\r\n    this.valueFormater = formater;\r\n    this.decimals = decimals;\r\n    this.scaledDecimals = scaledDecimals;\r\n  }\r\n\r\n  formatValue(value) {\r\n    if (!_.isFinite(value)) {\r\n      value = null; // Prevent NaN formatting\r\n    }\r\n    return this.valueFormater(value, this.decimals, this.scaledDecimals);\r\n  }\r\n\r\n  isMsResolutionNeeded() {\r\n    for (var i = 0; i < this.datapoints.length; i++) {\r\n      if (this.datapoints[i][1] !== null) {\r\n        var timestamp = this.datapoints[i][1].toString();\r\n        if (timestamp.length === 13 && timestamp % 1000 !== 0) {\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  hideFromLegend(options) {\r\n    if (options.hideEmpty && this.allIsNull) {\r\n      return true;\r\n    }\r\n    // ignore series excluded via override\r\n    if (!this.legend) {\r\n      return true;\r\n    }\r\n\r\n    // ignore zero series\r\n    return options.hideZero && this.allIsZero;\r\n\r\n  }\r\n}\r\n","import 'grafana/vendor/flot/jquery.flot.js';\r\nimport * as $ from 'jquery';\r\nimport _ from 'lodash';\r\n\r\nexport class ThresholdManager {\r\n  plot: any;\r\n  placeholder: any;\r\n  height: any;\r\n  thresholds: any;\r\n  needsCleanup: boolean;\r\n  hasSecondYAxis: any;\r\n\r\n  constructor(private panelCtrl) {}\r\n\r\n  getHandleHtml(handleIndex, model, valueStr) {\r\n    var stateClass = model.colorMode;\r\n    if (model.colorMode === 'custom') {\r\n      stateClass = 'critical';\r\n    }\r\n\r\n    return `\r\n    <div class=\"alert-handle-wrapper alert-handle-wrapper--T${handleIndex}\">\r\n      <div class=\"alert-handle-line alert-handle-line--${stateClass}\">\r\n      </div>\r\n      <div class=\"alert-handle\" data-handle-index=\"${handleIndex}\">\r\n        <i class=\"icon-gf icon-gf-${stateClass} alert-state-${stateClass}\"></i>\r\n        <span class=\"alert-handle-value\">${valueStr}<i class=\"alert-handle-grip\"></i></span>\r\n      </div>\r\n    </div>`;\r\n  }\r\n\r\n  initDragging(evt) {\r\n    var handleElem = $(evt.currentTarget).parents('.alert-handle-wrapper');\r\n    var handleIndex = $(evt.currentTarget).data('handleIndex');\r\n\r\n    var lastY = null;\r\n    var posTop;\r\n    var plot = this.plot;\r\n    var panelCtrl = this.panelCtrl;\r\n    var model = this.thresholds[handleIndex];\r\n\r\n    function dragging(evt) {\r\n      if (lastY === null) {\r\n        lastY = evt.clientY;\r\n      } else {\r\n        var diff = evt.clientY - lastY;\r\n        posTop = posTop + diff;\r\n        lastY = evt.clientY;\r\n        handleElem.css({ top: posTop + diff });\r\n      }\r\n    }\r\n\r\n    function stopped() {\r\n      // calculate graph level\r\n      var graphValue = plot.c2p({ left: 0, top: posTop }).y;\r\n      graphValue = parseInt(graphValue.toFixed(0));\r\n      model.value = graphValue;\r\n\r\n      handleElem.off('mousemove', dragging);\r\n      handleElem.off('mouseup', dragging);\r\n      handleElem.off('mouseleave', dragging);\r\n\r\n      // trigger digest and render\r\n      panelCtrl.$scope.$apply(function() {\r\n        panelCtrl.render();\r\n        panelCtrl.events.emit('threshold-changed', {\r\n          threshold: model,\r\n          handleIndex: handleIndex,\r\n        });\r\n      });\r\n    }\r\n\r\n    lastY = null;\r\n    posTop = handleElem.position().top;\r\n\r\n    handleElem.on('mousemove', dragging);\r\n    handleElem.on('mouseup', stopped);\r\n    handleElem.on('mouseleave', stopped);\r\n  }\r\n\r\n  cleanUp() {\r\n    this.placeholder.find('.alert-handle-wrapper').remove();\r\n    this.needsCleanup = false;\r\n  }\r\n\r\n  renderHandle(handleIndex, defaultHandleTopPos) {\r\n    var model = this.thresholds[handleIndex];\r\n    var value = model.value;\r\n    var valueStr = value;\r\n    var handleTopPos = 0;\r\n\r\n    // handle no value\r\n    if (!_.isNumber(value)) {\r\n      valueStr = '';\r\n      handleTopPos = defaultHandleTopPos;\r\n    } else {\r\n      var valueCanvasPos = this.plot.p2c({ x: 0, y: value });\r\n      handleTopPos = Math.round(Math.min(Math.max(valueCanvasPos.top, 0), this.height) - 6);\r\n    }\r\n\r\n    var handleElem = $(this.getHandleHtml(handleIndex, model, valueStr));\r\n    this.placeholder.append(handleElem);\r\n\r\n    handleElem.toggleClass('alert-handle-wrapper--no-value', valueStr === '');\r\n    handleElem.css({ top: handleTopPos });\r\n  }\r\n\r\n  shouldDrawHandles() {\r\n    return !this.hasSecondYAxis && this.panelCtrl.editingThresholds && this.panelCtrl.panel.thresholds.length > 0;\r\n  }\r\n\r\n  prepare(elem, data) {\r\n    this.hasSecondYAxis = false;\r\n    for (var i = 0; i < data.length; i++) {\r\n      if (data[i].yaxis > 1) {\r\n        this.hasSecondYAxis = true;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (this.shouldDrawHandles()) {\r\n      var thresholdMargin = this.panelCtrl.panel.thresholds.length > 1 ? '220px' : '110px';\r\n      elem.css('margin-right', thresholdMargin);\r\n    } else if (this.needsCleanup) {\r\n      elem.css('margin-right', '0');\r\n    }\r\n  }\r\n\r\n  draw(plot) {\r\n    this.thresholds = this.panelCtrl.panel.thresholds;\r\n    this.plot = plot;\r\n    this.placeholder = plot.getPlaceholder();\r\n\r\n    if (this.needsCleanup) {\r\n      this.cleanUp();\r\n    }\r\n\r\n    if (!this.shouldDrawHandles()) {\r\n      return;\r\n    }\r\n\r\n    this.height = plot.height();\r\n\r\n    if (this.thresholds.length > 0) {\r\n      this.renderHandle(0, 10);\r\n    }\r\n    if (this.thresholds.length > 1) {\r\n      this.renderHandle(1, this.height - 30);\r\n    }\r\n\r\n    this.placeholder.off('mousedown', '.alert-handle');\r\n    this.placeholder.on('mousedown', '.alert-handle', this.initDragging.bind(this));\r\n    this.needsCleanup = true;\r\n  }\r\n\r\n  addFlotOptions(options, panel) {\r\n    if (!panel.thresholds || panel.thresholds.length === 0) {\r\n      return;\r\n    }\r\n\r\n    var gtLimit = Infinity;\r\n    var ltLimit = -Infinity;\r\n    var i, threshold, other;\r\n\r\n    for (i = 0; i < panel.thresholds.length; i++) {\r\n      threshold = panel.thresholds[i];\r\n      if (!_.isNumber(threshold.value)) {\r\n        continue;\r\n      }\r\n\r\n      var limit;\r\n      switch (threshold.op) {\r\n        case 'gt': {\r\n          limit = gtLimit;\r\n          // if next threshold is less then op and greater value, then use that as limit\r\n          if (panel.thresholds.length > i + 1) {\r\n            other = panel.thresholds[i + 1];\r\n            if (other.value > threshold.value) {\r\n              limit = other.value;\r\n              ltLimit = limit;\r\n            }\r\n          }\r\n          break;\r\n        }\r\n        case 'lt': {\r\n          limit = ltLimit;\r\n          // if next threshold is less then op and greater value, then use that as limit\r\n          if (panel.thresholds.length > i + 1) {\r\n            other = panel.thresholds[i + 1];\r\n            if (other.value < threshold.value) {\r\n              limit = other.value;\r\n              gtLimit = limit;\r\n            }\r\n          }\r\n          break;\r\n        }\r\n      }\r\n\r\n      var fillColor, lineColor;\r\n      switch (threshold.colorMode) {\r\n        case 'critical': {\r\n          fillColor = 'rgba(234, 112, 112, 0.12)';\r\n          lineColor = 'rgba(237, 46, 24, 0.60)';\r\n          break;\r\n        }\r\n        case 'warning': {\r\n          fillColor = 'rgba(235, 138, 14, 0.12)';\r\n          lineColor = 'rgba(247, 149, 32, 0.60)';\r\n          break;\r\n        }\r\n        case 'ok': {\r\n          fillColor = 'rgba(11, 237, 50, 0.090)';\r\n          lineColor = 'rgba(6,163,69, 0.60)';\r\n          break;\r\n        }\r\n        case 'custom': {\r\n          fillColor = threshold.fillColor;\r\n          lineColor = threshold.lineColor;\r\n          break;\r\n        }\r\n      }\r\n\r\n      // fill\r\n      if (threshold.fill) {\r\n        options.grid.markings.push({\r\n          yaxis: { from: threshold.value, to: limit },\r\n          color: fillColor,\r\n        });\r\n      }\r\n      if (threshold.line) {\r\n        options.grid.markings.push({\r\n          yaxis: { from: threshold.value, to: threshold.value },\r\n          color: lineColor,\r\n        });\r\n      }\r\n    }\r\n  }\r\n}\r\n","\r\nimport _ from 'lodash';\r\n\r\n/**\r\n * Convert series into array of series values.\r\n * @param data Array of series\r\n */\r\nexport function getSeriesValues(dataList: any[]): number[] {\r\n  const VALUE_INDEX = 0;\r\n  let values = [];\r\n\r\n  // Count histogam stats\r\n  for (let i = 0; i < dataList.length; i++) {\r\n    let series = dataList[i];\r\n    let datapoints = series.datapoints;\r\n    for (let j = 0; j < datapoints.length; j++) {\r\n      if (datapoints[j][VALUE_INDEX] !== null) {\r\n        values.push(datapoints[j][VALUE_INDEX]);\r\n      }\r\n    }\r\n  }\r\n\r\n  return values;\r\n}\r\n\r\n/**\r\n * Convert array of values into timeseries-like histogram:\r\n * [[val_1, count_1], [val_2, count_2], ..., [val_n, count_n]]\r\n * @param values\r\n * @param bucketSize\r\n */\r\nexport function convertValuesToHistogram(values: number[], bucketSize: number): any[] {\r\n  let histogram = {};\r\n\r\n  for (let i = 0; i < values.length; i++) {\r\n    let bound = getBucketBound(values[i], bucketSize);\r\n    if (histogram[bound]) {\r\n      histogram[bound] = histogram[bound] + 1;\r\n    } else {\r\n      histogram[bound] = 1;\r\n    }\r\n  }\r\n\r\n  let histogam_series = _.map(histogram, (count, bound) => {\r\n    return [Number(bound), count];\r\n  });\r\n\r\n  // Sort by Y axis values\r\n  return _.sortBy(histogam_series, point => point[0]);\r\n}\r\n\r\nfunction getBucketBound(value: number, bucketSize: number): number {\r\n  return Math.floor(value / bucketSize) * bucketSize;\r\n}\r\n","import 'grafana/vendor/flot/jquery.flot.js';\r\nimport 'grafana/vendor/flot/jquery.flot.time.js';\r\nimport 'grafana/vendor/flot/jquery.flot.selection.js';\r\nimport 'grafana/vendor/flot/jquery.flot.stack.js';\r\nimport 'grafana/vendor/flot/jquery.flot.stackpercent.js';\r\nimport 'grafana/vendor/flot/jquery.flot.fillbelow.js';\r\nimport 'grafana/vendor/flot/jquery.flot.crosshair.js';\r\nimport 'grafana/vendor/flot/jquery.flot.dashes.js';\r\nimport 'grafana/vendor/flot/jquery.flot.gauge.js';\r\nimport 'grafana/vendor/flot/jquery.flot.pie.js';\r\nimport './vendor/flot/jquery.flot.events';\r\nimport { EventManager } from './vendor/grafana/event_manager';\r\nimport { updateLegendValues} from './vendor/grafana/time_series2';\r\nimport { tickStep } from './vendor/grafana/ticks';\r\n\r\nimport * as $ from 'jquery';\r\nimport _ from 'lodash';\r\nimport moment from 'moment';\r\nimport kbn from 'grafana/app/core/utils/kbn';\r\nimport { appEvents, coreModule } from 'grafana/app/core/core';\r\nimport GraphTooltip from './graph_tooltip';\r\nimport { ThresholdManager } from './threshold_manager';\r\nimport { convertValuesToHistogram, getSeriesValues } from './histogram';\r\n\r\n\r\n/** @ngInject **/\r\nfunction graphDirective(timeSrv, popoverSrv, contextSrv) {\r\n  return {\r\n    restrict: 'A',\r\n    template: '',\r\n    link: function(scope, elem) {\r\n      var ctrl = scope.ctrl;\r\n      var dashboard = ctrl.dashboard;\r\n      var panel = ctrl.panel;\r\n      var annotations = [];\r\n      var data;\r\n      var plot;\r\n      var sortedSeries;\r\n      var panelWidth = 0;\r\n      var eventManager = new EventManager(ctrl);\r\n      var thresholdManager = new ThresholdManager(ctrl);\r\n      var tooltip = new GraphTooltip(elem, dashboard, scope, function() {\r\n        return sortedSeries;\r\n      });\r\n\r\n      // panel events\r\n      ctrl.events.on('panel-teardown', () => {\r\n        thresholdManager = null;\r\n\r\n        if (plot) {\r\n          plot.destroy();\r\n          plot = null;\r\n        }\r\n      });\r\n\r\n      /**\r\n       * Split graph rendering into two parts.\r\n       * First, calculate series stats in buildFlotPairs() function. Then legend rendering started\r\n       * (see ctrl.events.on('render') in legend.ts).\r\n       * When legend is rendered it emits 'legend-rendering-complete' and graph rendered.\r\n       */\r\n      ctrl.events.on('render', renderData => {\r\n        data = renderData || data;\r\n        if (!data) {\r\n          return;\r\n        }\r\n\r\n        annotations = ctrl.annotations || [];\r\n        buildFlotPairs(data);\r\n        updateLegendValues(data, panel);\r\n\r\n        ctrl.events.emit('render-legend');\r\n      });\r\n\r\n      ctrl.events.on('legend-rendering-complete', () => {\r\n        render_panel();\r\n      });\r\n\r\n      // global events\r\n      appEvents.on(\r\n        'graph-hover',\r\n        evt => {\r\n          // ignore other graph hover events if shared tooltip is disabled\r\n          if (!dashboard.sharedTooltipModeEnabled()) {\r\n            return;\r\n          }\r\n\r\n          // ignore if we are the emitter\r\n          if (!plot || evt.panel.id === panel.id || ctrl.otherPanelInFullscreenMode()) {\r\n            return;\r\n          }\r\n\r\n          tooltip.show(evt.pos);\r\n        },\r\n        scope\r\n      );\r\n\r\n      appEvents.on(\r\n        'graph-hover-clear',\r\n        (event, info) => {\r\n          if (plot) {\r\n            tooltip.clear(plot);\r\n          }\r\n        },\r\n        scope\r\n      );\r\n\r\n      function shouldAbortRender() {\r\n        if (!data) {\r\n          return true;\r\n        }\r\n\r\n        if (panelWidth === 0) {\r\n          return true;\r\n        }\r\n\r\n        return false;\r\n      }\r\n\r\n      function drawHook(plot) {\r\n        // add left axis labels\r\n        if (panel.yaxes[0].label && panel.yaxes[0].show) {\r\n          $(\"<div class='axisLabel left-yaxis-label flot-temp-elem'></div>\")\r\n            .text(panel.yaxes[0].label)\r\n            .appendTo(elem);\r\n        }\r\n\r\n        // add right axis labels\r\n        if (panel.yaxes[1].label && panel.yaxes[1].show) {\r\n          $(\"<div class='axisLabel right-yaxis-label flot-temp-elem'></div>\")\r\n            .text(panel.yaxes[1].label)\r\n            .appendTo(elem);\r\n        }\r\n\r\n        if (ctrl.dataWarning) {\r\n          $(`<div class=\"datapoints-warning flot-temp-elem\">${ctrl.dataWarning.title}</div>`).appendTo(elem);\r\n        }\r\n\r\n        thresholdManager.draw(plot);\r\n      }\r\n\r\n      function processOffsetHook(plot, gridMargin) {\r\n        var left = panel.yaxes[0];\r\n        var right = panel.yaxes[1];\r\n        if (left.show && left.label) {\r\n          gridMargin.left = 20;\r\n        }\r\n        if (right.show && right.label) {\r\n          gridMargin.right = 20;\r\n        }\r\n\r\n        // apply y-axis min/max options\r\n        var yaxis = plot.getYAxes();\r\n        for (var i = 0; i < yaxis.length; i++) {\r\n          var axis = yaxis[i];\r\n          var panelOptions = panel.yaxes[i];\r\n          axis.options.max = axis.options.max !== null ? axis.options.max : panelOptions.max;\r\n          axis.options.min = axis.options.min !== null ? axis.options.min : panelOptions.min;\r\n        }\r\n      }\r\n\r\n      // Series could have different timeSteps,\r\n      // let's find the smallest one so that bars are correctly rendered.\r\n      // In addition, only take series which are rendered as bars for this.\r\n      function getMinTimeStepOfSeries(data) {\r\n        var min = Number.MAX_VALUE;\r\n\r\n        for (let i = 0; i < data.length; i++) {\r\n          if (!data[i].stats.timeStep) {\r\n            continue;\r\n          }\r\n          if (panel.bars) {\r\n            if (data[i].bars && data[i].bars.show === false) {\r\n              continue;\r\n            }\r\n          } else {\r\n            if (typeof data[i].bars === 'undefined' || typeof data[i].bars.show === 'undefined' || !data[i].bars.show) {\r\n              continue;\r\n            }\r\n          }\r\n\r\n          if (data[i].stats.timeStep < min) {\r\n            min = data[i].stats.timeStep;\r\n          }\r\n        }\r\n\r\n        return min;\r\n      }\r\n\r\n      // Function for rendering panel\r\n      function render_panel() {\r\n        panelWidth = elem.width();\r\n        if (shouldAbortRender()) {\r\n          return;\r\n        }\r\n\r\n        // give space to alert editing\r\n        thresholdManager.prepare(elem, data);\r\n\r\n        // un-check dashes if lines are unchecked\r\n        panel.dashes = panel.lines ? panel.dashes : false;\r\n\r\n        // Populate element\r\n        let options: any = buildFlotOptions(panel);\r\n        prepareXAxis(options, panel);\r\n        configureYAxisOptions(data, options);\r\n        thresholdManager.addFlotOptions(options, panel);\r\n        eventManager.addFlotEvents(annotations, options);\r\n\r\n        sortedSeries = sortSeries(data, panel);\r\n        callPlot(options, true);\r\n      }\r\n\r\n      function buildFlotPairs(data) {\r\n        for (let i = 0; i < data.length; i++) {\r\n          let series = data[i];\r\n          series.data = series.getFlotPairs(series.nullPointMode || panel.nullPointMode);\r\n\r\n          // if hidden remove points and disable stack\r\n          if (ctrl.hiddenSeries[series.alias]) {\r\n            series.data = [];\r\n            series.stack = false;\r\n          }\r\n        }\r\n      }\r\n\r\n      function prepareXAxis(options, panel) {\r\n        switch (panel.xaxis.mode) {\r\n          case 'series': {\r\n            options.series.bars.barWidth = 0.7;\r\n            options.series.bars.align = 'center';\r\n\r\n            for (let i = 0; i < data.length; i++) {\r\n              let series = data[i];\r\n              series.data = [[i + 1, series.stats[panel.xaxis.values[0]]]];\r\n            }\r\n\r\n            addXSeriesAxis(options);\r\n            break;\r\n          }\r\n          case 'histogram': {\r\n            let bucketSize: number;\r\n            let values = getSeriesValues(data);\r\n\r\n            if (data.length && values.length) {\r\n              let histMin = _.min(_.map(data, (s:any) => s.stats.min));\r\n              let histMax = _.max(_.map(data, (s:any) => s.stats.max));\r\n              let ticks = panel.xaxis.buckets || panelWidth / 50;\r\n              bucketSize = tickStep(histMin, histMax, ticks);\r\n              let histogram = convertValuesToHistogram(values, bucketSize);\r\n              data[0].data = histogram;\r\n              options.series.bars.barWidth = bucketSize * 0.8;\r\n            } else {\r\n              bucketSize = 0;\r\n            }\r\n\r\n            addXHistogramAxis(options, bucketSize);\r\n            break;\r\n          }\r\n          case 'table': {\r\n            options.series.bars.barWidth = 0.7;\r\n            options.series.bars.align = 'center';\r\n            addXTableAxis(options);\r\n            break;\r\n          }\r\n          default: {\r\n            options.series.bars.barWidth = getMinTimeStepOfSeries(data) / 1.5;\r\n            addTimeAxis(options);\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      function callPlot(options, incrementRenderCounter) {\r\n        try {\r\n          plot = $.plot(elem, sortedSeries, options);\r\n          if (ctrl.renderError) {\r\n            delete ctrl.error;\r\n            delete ctrl.inspector;\r\n          }\r\n        } catch (e) {\r\n          console.log('flotcharts error', e);\r\n          ctrl.error = e.message || 'Render Error';\r\n          ctrl.renderError = true;\r\n          ctrl.inspector = { error: e };\r\n        }\r\n\r\n        if (incrementRenderCounter) {\r\n          ctrl.renderingCompleted();\r\n        }\r\n      }\r\n\r\n      function buildFlotOptions(panel) {\r\n        const stack = panel.stack ? true : null;\r\n        let options = {\r\n          hooks: {\r\n            draw: [drawHook],\r\n            processOffset: [processOffsetHook],\r\n          },\r\n          legend: { show: false },\r\n          series: {\r\n            stackpercent: panel.stack ? panel.percentage : false,\r\n            stack: panel.percentage ? null : stack,\r\n            lines: {\r\n              show: panel.lines,\r\n              zero: false,\r\n              fill: translateFillOption(panel.fill),\r\n              lineWidth: panel.dashes ? 0 : panel.linewidth,\r\n              steps: panel.steppedLine,\r\n            },\r\n            dashes: {\r\n              show: panel.dashes,\r\n              lineWidth: panel.linewidth,\r\n              dashLength: [panel.dashLength, panel.spaceLength],\r\n            },\r\n            bars: {\r\n              show: panel.bars,\r\n              fill: 1,\r\n              barWidth: 1,\r\n              zero: false,\r\n              lineWidth: 0,\r\n            },\r\n            points: {\r\n              show: panel.points,\r\n              fill: 1,\r\n              fillColor: false,\r\n              radius: panel.points ? panel.pointradius : 2,\r\n            },\r\n            shadowSize: 0,\r\n          },\r\n          yaxes: [],\r\n          xaxis: {},\r\n          grid: {\r\n            minBorderMargin: 0,\r\n            markings: [],\r\n            backgroundColor: null,\r\n            borderWidth: 0,\r\n            hoverable: true,\r\n            clickable: true,\r\n            color: '#c8c8c8',\r\n            margin: { left: 0, right: 0 },\r\n            labelMarginX: 0,\r\n          },\r\n          selection: {\r\n            mode: 'x',\r\n            color: '#666',\r\n          },\r\n          crosshair: {\r\n            mode: 'x',\r\n          },\r\n        };\r\n        return options;\r\n      }\r\n\r\n      function sortSeries(series, panel) {\r\n        var sortBy = panel.legend.sort;\r\n        var sortOrder = panel.legend.sortDesc;\r\n        var haveSortBy = sortBy !== null || sortBy !== undefined;\r\n        var haveSortOrder = sortOrder !== null || sortOrder !== undefined;\r\n        var shouldSortBy = panel.stack && haveSortBy && haveSortOrder;\r\n        var sortDesc = panel.legend.sortDesc === true ? -1 : 1;\r\n\r\n        series.sort((x, y) => {\r\n          if (x.zindex > y.zindex) {\r\n            return 1;\r\n          }\r\n\r\n          if (x.zindex < y.zindex) {\r\n            return -1;\r\n          }\r\n\r\n          if (shouldSortBy) {\r\n            if (x.stats[sortBy] > y.stats[sortBy]) {\r\n              return 1 * sortDesc;\r\n            }\r\n            if (x.stats[sortBy] < y.stats[sortBy]) {\r\n              return -1 * sortDesc;\r\n            }\r\n          }\r\n\r\n          return 0;\r\n        });\r\n\r\n        return series;\r\n      }\r\n\r\n      function translateFillOption(fill) {\r\n        if (panel.percentage && panel.stack) {\r\n          return fill === 0 ? 0.001 : fill / 10;\r\n        } else {\r\n          return fill / 10;\r\n        }\r\n      }\r\n\r\n      function addTimeAxis(options) {\r\n        var ticks = panelWidth / 100;\r\n        var min = _.isUndefined(ctrl.range.from) ? null : ctrl.range.from.valueOf();\r\n        var max = _.isUndefined(ctrl.range.to) ? null : ctrl.range.to.valueOf();\r\n\r\n        options.xaxis = {\r\n          timezone: dashboard.getTimezone(),\r\n          show: panel.xaxis.show,\r\n          mode: 'time',\r\n          min: min,\r\n          max: max,\r\n          label: 'Datetime',\r\n          ticks: ticks,\r\n          timeformat: time_format(ticks, min, max),\r\n        };\r\n      }\r\n\r\n      function addXSeriesAxis(options) {\r\n        var ticks = _.map(data, function(series: any, index) {\r\n          return [index + 1, series.alias];\r\n        });\r\n\r\n        options.xaxis = {\r\n          timezone: dashboard.getTimezone(),\r\n          show: panel.xaxis.show,\r\n          mode: null,\r\n          min: 0,\r\n          max: ticks.length + 1,\r\n          label: 'Datetime',\r\n          ticks: ticks,\r\n        };\r\n      }\r\n\r\n      function addXHistogramAxis(options, bucketSize) {\r\n        let ticks, min, max;\r\n        let defaultTicks = panelWidth / 50;\r\n\r\n        if (data.length && bucketSize) {\r\n          ticks = _.map(data[0].data, point => point[0]);\r\n          min = _.min(ticks);\r\n          max = _.max(ticks);\r\n\r\n          // Adjust tick step\r\n          let tickStep = bucketSize;\r\n          let ticks_num = Math.floor((max - min) / tickStep);\r\n          while (ticks_num > defaultTicks) {\r\n            tickStep = tickStep * 2;\r\n            ticks_num = Math.ceil((max - min) / tickStep);\r\n          }\r\n\r\n          // Expand ticks for pretty view\r\n          min = Math.floor(min / tickStep) * tickStep;\r\n          max = Math.ceil(max / tickStep) * tickStep;\r\n\r\n          ticks = [];\r\n          for (let i = min; i <= max; i += tickStep) {\r\n            ticks.push(i);\r\n          }\r\n        } else {\r\n          // Set defaults if no data\r\n          ticks = defaultTicks / 2;\r\n          min = 0;\r\n          max = 1;\r\n        }\r\n\r\n        options.xaxis = {\r\n          timezone: dashboard.getTimezone(),\r\n          show: panel.xaxis.show,\r\n          mode: null,\r\n          min: min,\r\n          max: max,\r\n          label: 'Histogram',\r\n          ticks: ticks,\r\n        };\r\n\r\n        // Use 'short' format for histogram values\r\n        configureAxisMode(options.xaxis, 'short');\r\n      }\r\n\r\n      function addXTableAxis(options) {\r\n        var ticks = _.map(data, function(series: any, seriesIndex) {\r\n          return _.map(series.datapoints, function(point, pointIndex) {\r\n            var tickIndex = parseInt(seriesIndex) * series.datapoints.length + pointIndex;\r\n            return [tickIndex + 1, point[1]];\r\n          });\r\n        });\r\n        ticks = _.flatten(ticks);\r\n\r\n        options.xaxis = {\r\n          timezone: dashboard.getTimezone(),\r\n          show: panel.xaxis.show,\r\n          mode: null,\r\n          min: 0,\r\n          max: ticks.length + 1,\r\n          label: 'Datetime',\r\n          ticks: ticks,\r\n        };\r\n      }\r\n\r\n      function configureYAxisOptions(data, options) {\r\n        var defaults = {\r\n          position: 'left',\r\n          show: panel.yaxes[0].show,\r\n          index: 1,\r\n          logBase: panel.yaxes[0].logBase || 1,\r\n          min: parseNumber(panel.yaxes[0].min),\r\n          max: parseNumber(panel.yaxes[0].max),\r\n          tickDecimals: panel.yaxes[0].decimals,\r\n        };\r\n\r\n        options.yaxes.push(defaults);\r\n\r\n        if (_.find(data, { yaxis: 2 })) {\r\n          var secondY = _.clone(defaults);\r\n          secondY.index = 2;\r\n          secondY.show = panel.yaxes[1].show;\r\n          secondY.logBase = panel.yaxes[1].logBase || 1;\r\n          secondY.position = 'right';\r\n          secondY.min = parseNumber(panel.yaxes[1].min);\r\n          secondY.max = parseNumber(panel.yaxes[1].max);\r\n          secondY.tickDecimals = panel.yaxes[1].decimals;\r\n          options.yaxes.push(secondY);\r\n\r\n          applyLogScale(options.yaxes[1], data);\r\n          configureAxisMode(options.yaxes[1], panel.percentage && panel.stack ? 'percent' : panel.yaxes[1].format);\r\n        }\r\n        applyLogScale(options.yaxes[0], data);\r\n        configureAxisMode(options.yaxes[0], panel.percentage && panel.stack ? 'percent' : panel.yaxes[0].format);\r\n      }\r\n\r\n      function parseNumber(value: any) {\r\n        if (value === null || typeof value === 'undefined') {\r\n          return null;\r\n        }\r\n\r\n        return _.toNumber(value);\r\n      }\r\n\r\n      function applyLogScale(axis, data) {\r\n        if (axis.logBase === 1) {\r\n          return;\r\n        }\r\n\r\n        const minSetToZero = axis.min === 0;\r\n\r\n        if (axis.min < Number.MIN_VALUE) {\r\n          axis.min = null;\r\n        }\r\n        if (axis.max < Number.MIN_VALUE) {\r\n          axis.max = null;\r\n        }\r\n\r\n        var series, i;\r\n        var max = axis.max,\r\n          min = axis.min;\r\n\r\n        for (i = 0; i < data.length; i++) {\r\n          series = data[i];\r\n          if (series.yaxis === axis.index) {\r\n            if (!max || max < series.stats.max) {\r\n              max = series.stats.max;\r\n            }\r\n            if (!min || min > series.stats.logmin) {\r\n              min = series.stats.logmin;\r\n            }\r\n          }\r\n        }\r\n\r\n        axis.transform = function(v) {\r\n          return v < Number.MIN_VALUE ? null : Math.log(v) / Math.log(axis.logBase);\r\n        };\r\n        axis.inverseTransform = function(v) {\r\n          return Math.pow(axis.logBase, v);\r\n        };\r\n\r\n        if (!max && !min) {\r\n          max = axis.inverseTransform(+2);\r\n          min = axis.inverseTransform(-2);\r\n        } else if (!max) {\r\n          max = min * axis.inverseTransform(+4);\r\n        } else if (!min) {\r\n          min = max * axis.inverseTransform(-4);\r\n        }\r\n\r\n        if (axis.min) {\r\n          min = axis.inverseTransform(Math.ceil(axis.transform(axis.min)));\r\n        } else {\r\n          min = axis.min = axis.inverseTransform(Math.floor(axis.transform(min)));\r\n        }\r\n        if (axis.max) {\r\n          max = axis.inverseTransform(Math.floor(axis.transform(axis.max)));\r\n        } else {\r\n          max = axis.max = axis.inverseTransform(Math.ceil(axis.transform(max)));\r\n        }\r\n\r\n        if (!min || min < Number.MIN_VALUE || !max || max < Number.MIN_VALUE) {\r\n          return;\r\n        }\r\n\r\n        if (Number.isFinite(min) && Number.isFinite(max)) {\r\n          if (minSetToZero) {\r\n            axis.min = 0.1;\r\n            min = 1;\r\n          }\r\n\r\n          axis.ticks = generateTicksForLogScaleYAxis(min, max, axis.logBase);\r\n          if (minSetToZero) {\r\n            axis.ticks.unshift(0.1);\r\n          }\r\n          if (axis.ticks[axis.ticks.length - 1] > axis.max) {\r\n            axis.max = axis.ticks[axis.ticks.length - 1];\r\n          }\r\n        } else {\r\n          axis.ticks = [1, 2];\r\n          delete axis.min;\r\n          delete axis.max;\r\n        }\r\n      }\r\n\r\n      function generateTicksForLogScaleYAxis(min, max, logBase) {\r\n        let ticks = [];\r\n\r\n        var nextTick;\r\n        for (nextTick = min; nextTick <= max; nextTick *= logBase) {\r\n          ticks.push(nextTick);\r\n        }\r\n\r\n        const maxNumTicks = Math.ceil(ctrl.height / 25);\r\n        const numTicks = ticks.length;\r\n        if (numTicks > maxNumTicks) {\r\n          const factor = Math.ceil(numTicks / maxNumTicks) * logBase;\r\n          ticks = [];\r\n\r\n          for (nextTick = min; nextTick <= max * factor; nextTick *= factor) {\r\n            ticks.push(nextTick);\r\n          }\r\n        }\r\n\r\n        return ticks;\r\n      }\r\n\r\n      function configureAxisMode(axis, format) {\r\n        axis.tickFormatter = function(val, axis) {\r\n          return kbn.valueFormats[format](val, axis.tickDecimals, axis.scaledDecimals);\r\n        };\r\n      }\r\n\r\n      function time_format(ticks, min, max) {\r\n        if (min && max && ticks) {\r\n          var range = max - min;\r\n          var secPerTick = range / ticks / 1000;\r\n          var oneDay = 86400000;\r\n          var oneYear = 31536000000;\r\n\r\n          if (secPerTick <= 45) {\r\n            return '%H:%M:%S';\r\n          }\r\n          if (secPerTick <= 7200 || range <= oneDay) {\r\n            return '%H:%M';\r\n          }\r\n          if (secPerTick <= 80000) {\r\n            return '%m/%d %H:%M';\r\n          }\r\n          if (secPerTick <= 2419200 || range <= oneYear) {\r\n            return '%m/%d';\r\n          }\r\n          return '%Y-%m';\r\n        }\r\n\r\n        return '%H:%M';\r\n      }\r\n\r\n      elem.bind('plotselected', function(event, ranges) {\r\n        if (panel.xaxis.mode !== 'time') {\r\n          // Skip if panel in histogram or series mode\r\n          plot.clearSelection();\r\n          return;\r\n        }\r\n\r\n        if ((ranges.ctrlKey || ranges.metaKey) && contextSrv.isEditor) {\r\n          // Add annotation\r\n          setTimeout(() => {\r\n            eventManager.updateTime(ranges.xaxis);\r\n          }, 100);\r\n        } else {\r\n          scope.$apply(function() {\r\n            timeSrv.setTime({\r\n              from: moment.utc(ranges.xaxis.from),\r\n              to: moment.utc(ranges.xaxis.to),\r\n            });\r\n          });\r\n        }\r\n      });\r\n\r\n      elem.bind('plotclick', function(event, pos, item) {\r\n        if (panel.xaxis.mode !== 'time') {\r\n          // Skip if panel in histogram or series mode\r\n          return;\r\n        }\r\n\r\n        if ((pos.ctrlKey || pos.metaKey) && contextSrv.isEditor) {\r\n          // Skip if range selected (added in \"plotselected\" event handler)\r\n          let isRangeSelection = pos.x !== pos.x1;\r\n          if (!isRangeSelection) {\r\n            setTimeout(() => {\r\n              eventManager.updateTime({ from: pos.x, to: null });\r\n            }, 100);\r\n          }\r\n        }\r\n      });\r\n\r\n      scope.$on('$destroy', function() {\r\n        tooltip.destroy();\r\n        elem.off();\r\n        elem.remove();\r\n      });\r\n    },\r\n  };\r\n}\r\n\r\ncoreModule.directive('grafanaTemplateGraph', graphDirective);\r\n","import angular from 'angular';\r\nimport _ from 'lodash';\r\nimport * as $ from 'jquery';\r\nimport PerfectScrollbar from 'perfect-scrollbar';\r\n\r\nvar module = angular.module('grafana.directives');\r\n\r\nmodule.directive('graphTemplateLegend', function(popoverSrv, $timeout) {\r\n  return {\r\n    link: function(scope: any, elem) {\r\n      var firstRender = true;\r\n      var ctrl = scope.ctrl;\r\n      var panel = ctrl.panel;\r\n      var data;\r\n      var seriesList;\r\n      var i;\r\n      var legendScrollbar;\r\n\r\n      scope.$on('$destroy', function() {\r\n        if (legendScrollbar) {\r\n          legendScrollbar.destroy();\r\n        }\r\n      });\r\n\r\n      ctrl.events.on('render-legend', () => {\r\n        data = ctrl.seriesList;\r\n        if (data) {\r\n          render();\r\n        }\r\n        ctrl.events.emit('legend-rendering-complete');\r\n      });\r\n\r\n      function getSeriesIndexForElement(el) {\r\n        return el.parents('[data-series-index]').data('series-index');\r\n      }\r\n\r\n      function openColorSelector(e) {\r\n        // if we clicked inside poup container ignore click\r\n        if ($(e.target).parents('.popover').length) {\r\n          return;\r\n        }\r\n\r\n        var el = $(e.currentTarget).find('.fa-minus');\r\n        var index = getSeriesIndexForElement(el);\r\n        var series = seriesList[index];\r\n\r\n        $timeout(function() {\r\n          popoverSrv.show({\r\n            element: el[0],\r\n            position: 'bottom left',\r\n            targetAttachment: 'top left',\r\n            template:\r\n              '<series-color-picker series=\"series\" onToggleAxis=\"toggleAxis\" onColorChange=\"colorSelected\">' +\r\n              '</series-color-picker>',\r\n            openOn: 'hover',\r\n            model: {\r\n              series: series,\r\n              toggleAxis: function() {\r\n                ctrl.toggleAxis(series);\r\n              },\r\n              colorSelected: function(color) {\r\n                ctrl.changeSeriesColor(series, color);\r\n              },\r\n            },\r\n          });\r\n        });\r\n      }\r\n\r\n      function toggleSeries(e) {\r\n        var el = $(e.currentTarget);\r\n        var index = getSeriesIndexForElement(el);\r\n        var seriesInfo = seriesList[index];\r\n        var scrollPosition = $(elem.children('tbody')).scrollTop();\r\n        ctrl.toggleSeries(seriesInfo, e);\r\n        $(elem.children('tbody')).scrollTop(scrollPosition);\r\n      }\r\n\r\n      function sortLegend(e) {\r\n        var el = $(e.currentTarget);\r\n        var stat = el.data('stat');\r\n\r\n        if (stat !== panel.legend.sort) {\r\n          panel.legend.sortDesc = null;\r\n        }\r\n\r\n        // if already sort ascending, disable sorting\r\n        if (panel.legend.sortDesc === false) {\r\n          panel.legend.sort = null;\r\n          panel.legend.sortDesc = null;\r\n          ctrl.render();\r\n          return;\r\n        }\r\n\r\n        panel.legend.sortDesc = !panel.legend.sortDesc;\r\n        panel.legend.sort = stat;\r\n        ctrl.render();\r\n      }\r\n\r\n      function getTableHeaderHtml(statName) {\r\n        if (!panel.legend[statName]) {\r\n          return '';\r\n        }\r\n        var html = '<th class=\"pointer\" data-stat=\"' + statName + '\">' + statName;\r\n\r\n        if (panel.legend.sort === statName) {\r\n          var cssClass = panel.legend.sortDesc ? 'fa fa-caret-down' : 'fa fa-caret-up';\r\n          html += ' <span class=\"' + cssClass + '\"></span>';\r\n        }\r\n\r\n        return html + '</th>';\r\n      }\r\n\r\n      function render() {\r\n        if (!ctrl.panel.legend.show) {\r\n          elem.empty();\r\n          firstRender = true;\r\n          return;\r\n        }\r\n\r\n        if (firstRender) {\r\n          elem.on('click', '.graph-legend-icon', openColorSelector);\r\n          elem.on('click', '.graph-legend-alias', toggleSeries);\r\n          elem.on('click', 'th', sortLegend);\r\n          firstRender = false;\r\n        }\r\n\r\n        seriesList = data;\r\n\r\n        elem.empty();\r\n\r\n        // Set min-width if side style and there is a value, otherwise remove the CSS propery\r\n        var width = panel.legend.rightSide && panel.legend.sideWidth ? panel.legend.sideWidth + 'px' : '';\r\n        elem.css('min-width', width);\r\n\r\n        elem.toggleClass('graph-legend-table', panel.legend.alignAsTable === true);\r\n\r\n        var tableHeaderElem;\r\n        if (panel.legend.alignAsTable) {\r\n          var header = '<tr>';\r\n          header += '<th colspan=\"2\" style=\"text-align:left\"></th>';\r\n          if (panel.legend.values) {\r\n            header += getTableHeaderHtml('min');\r\n            header += getTableHeaderHtml('max');\r\n            header += getTableHeaderHtml('avg');\r\n            header += getTableHeaderHtml('current');\r\n            header += getTableHeaderHtml('total');\r\n          }\r\n          header += '</tr>';\r\n          tableHeaderElem = $(header);\r\n        }\r\n\r\n        if (panel.legend.sort) {\r\n          seriesList = _.sortBy(seriesList, function(series) {\r\n            return series.stats[panel.legend.sort];\r\n          });\r\n          if (panel.legend.sortDesc) {\r\n            seriesList = seriesList.reverse();\r\n          }\r\n        }\r\n\r\n        // render first time for getting proper legend height\r\n        if (!panel.legend.rightSide) {\r\n          renderLegendElement(tableHeaderElem);\r\n          elem.empty();\r\n        }\r\n\r\n        renderLegendElement(tableHeaderElem);\r\n      }\r\n\r\n      function renderSeriesLegendElements() {\r\n        let seriesElements = [];\r\n        for (i = 0; i < seriesList.length; i++) {\r\n          var series = seriesList[i];\r\n\r\n          if (series.hideFromLegend(panel.legend)) {\r\n            continue;\r\n          }\r\n\r\n          var html = '<div class=\"graph-legend-series';\r\n\r\n          if (series.yaxis === 2) {\r\n            html += ' graph-legend-series--right-y';\r\n          }\r\n          if (ctrl.hiddenSeries[series.alias]) {\r\n            html += ' graph-legend-series-hidden';\r\n          }\r\n          html += '\" data-series-index=\"' + i + '\">';\r\n          html += '<div class=\"graph-legend-icon\">';\r\n          html += '<i class=\"fa fa-minus pointer\" style=\"color:' + series.color + '\"></i>';\r\n          html += '</div>';\r\n\r\n          html +=\r\n            '<a class=\"graph-legend-alias pointer\" title=\"' + series.aliasEscaped + '\">' + series.aliasEscaped + '</a>';\r\n\r\n          if (panel.legend.values) {\r\n            var avg = series.formatValue(series.stats.avg);\r\n            var current = series.formatValue(series.stats.current);\r\n            var min = series.formatValue(series.stats.min);\r\n            var max = series.formatValue(series.stats.max);\r\n            var total = series.formatValue(series.stats.total);\r\n\r\n            if (panel.legend.min) {\r\n              html += '<div class=\"graph-legend-value min\">' + min + '</div>';\r\n            }\r\n            if (panel.legend.max) {\r\n              html += '<div class=\"graph-legend-value max\">' + max + '</div>';\r\n            }\r\n            if (panel.legend.avg) {\r\n              html += '<div class=\"graph-legend-value avg\">' + avg + '</div>';\r\n            }\r\n            if (panel.legend.current) {\r\n              html += '<div class=\"graph-legend-value current\">' + current + '</div>';\r\n            }\r\n            if (panel.legend.total) {\r\n              html += '<div class=\"graph-legend-value total\">' + total + '</div>';\r\n            }\r\n          }\r\n\r\n          html += '</div>';\r\n          seriesElements.push($(html));\r\n        }\r\n        return seriesElements;\r\n      }\r\n\r\n      function renderLegendElement(tableHeaderElem) {\r\n        var seriesElements = renderSeriesLegendElements();\r\n\r\n        if (panel.legend.alignAsTable) {\r\n          var tbodyElem = $('<tbody></tbody>');\r\n          tbodyElem.append(tableHeaderElem);\r\n          tbodyElem.append(seriesElements);\r\n          elem.append(tbodyElem);\r\n        } else {\r\n          elem.append(seriesElements);\r\n        }\r\n\r\n        if (!panel.legend.rightSide) {\r\n          addScrollbar();\r\n        } else {\r\n          destroyScrollbar();\r\n        }\r\n      }\r\n\r\n      function addScrollbar() {\r\n        const scrollbarOptions = {\r\n          // Number of pixels the content height can surpass the container height without enabling the scroll bar.\r\n          scrollYMarginOffset: 2,\r\n          suppressScrollX: true,\r\n        };\r\n\r\n        if (!legendScrollbar) {\r\n          legendScrollbar = new PerfectScrollbar(elem[0], scrollbarOptions);\r\n        } else {\r\n          legendScrollbar.update();\r\n        }\r\n      }\r\n\r\n      function destroyScrollbar() {\r\n        if (legendScrollbar) {\r\n          legendScrollbar.destroy();\r\n        }\r\n      }\r\n    },\r\n  };\r\n});\r\n","import _ from 'lodash';\r\nimport angular from 'angular';\r\n\r\nexport class SeriesOverridesCtrl {\r\n  /** @ngInject */\r\n  constructor($scope, $element, popoverSrv) {\r\n    $scope.overrideMenu = [];\r\n    $scope.currentOverrides = [];\r\n    $scope.override = $scope.override || {};\r\n\r\n    $scope.addOverrideOption = function(name, propertyName, values) {\r\n      var option = {\r\n        text: name,\r\n        propertyName: propertyName,\r\n        index: $scope.overrideMenu.lenght,\r\n        values: values,\r\n        submenu: _.map(values, function(value) {\r\n          return { text: String(value), value: value };\r\n        }),\r\n      };\r\n\r\n      $scope.overrideMenu.push(option);\r\n    };\r\n\r\n    $scope.setOverride = function(item, subItem) {\r\n      // handle color overrides\r\n      if (item.propertyName === 'color') {\r\n        $scope.openColorSelector($scope.override['color']);\r\n        return;\r\n      }\r\n\r\n      $scope.override[item.propertyName] = subItem.value;\r\n\r\n      // automatically disable lines for this series and the fill bellow to series\r\n      // can be removed by the user if they still want lines\r\n      if (item.propertyName === 'fillBelowTo') {\r\n        $scope.override['lines'] = false;\r\n        $scope.ctrl.addSeriesOverride({ alias: subItem.value, lines: false });\r\n      }\r\n\r\n      $scope.updateCurrentOverrides();\r\n      $scope.ctrl.render();\r\n    };\r\n\r\n    $scope.colorSelected = function(color) {\r\n      $scope.override['color'] = color;\r\n      $scope.updateCurrentOverrides();\r\n      $scope.ctrl.render();\r\n    };\r\n\r\n    $scope.openColorSelector = function(color) {\r\n      var fakeSeries = { color: color };\r\n      popoverSrv.show({\r\n        element: $element.find('.dropdown')[0],\r\n        position: 'top center',\r\n        openOn: 'click',\r\n        template: '<series-color-picker series=\"series\" onColorChange=\"colorSelected\" />',\r\n        model: {\r\n          autoClose: true,\r\n          colorSelected: $scope.colorSelected,\r\n          series: fakeSeries,\r\n        },\r\n        onClose: function() {\r\n          $scope.ctrl.render();\r\n        },\r\n      });\r\n    };\r\n\r\n    $scope.removeOverride = function(option) {\r\n      delete $scope.override[option.propertyName];\r\n      $scope.updateCurrentOverrides();\r\n      $scope.ctrl.refresh();\r\n    };\r\n\r\n    $scope.getSeriesNames = function() {\r\n      return _.map($scope.ctrl.seriesList, function(series: any) {\r\n        return series.alias;\r\n      });\r\n    };\r\n\r\n    $scope.updateCurrentOverrides = function() {\r\n      $scope.currentOverrides = [];\r\n      _.each($scope.overrideMenu, function(option) {\r\n        var value = $scope.override[option.propertyName];\r\n        if (_.isUndefined(value)) {\r\n          return;\r\n        }\r\n        $scope.currentOverrides.push({\r\n          name: option.text,\r\n          propertyName: option.propertyName,\r\n          value: String(value),\r\n        });\r\n      });\r\n    };\r\n\r\n    $scope.addOverrideOption('Bars', 'bars', [true, false]);\r\n    $scope.addOverrideOption('Lines', 'lines', [true, false]);\r\n    $scope.addOverrideOption('Line fill', 'fill', [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]);\r\n    $scope.addOverrideOption('Line width', 'linewidth', [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]);\r\n    $scope.addOverrideOption('Null point mode', 'nullPointMode', ['connected', 'null', 'null as zero']);\r\n    $scope.addOverrideOption('Fill below to', 'fillBelowTo', $scope.getSeriesNames());\r\n    $scope.addOverrideOption('Staircase line', 'steppedLine', [true, false]);\r\n    $scope.addOverrideOption('Dashes', 'dashes', [true, false]);\r\n    $scope.addOverrideOption('Dash Length', 'dashLength', [\r\n      1,\r\n      2,\r\n      3,\r\n      4,\r\n      5,\r\n      6,\r\n      7,\r\n      8,\r\n      9,\r\n      10,\r\n      11,\r\n      12,\r\n      13,\r\n      14,\r\n      15,\r\n      16,\r\n      17,\r\n      18,\r\n      19,\r\n      20,\r\n    ]);\r\n    $scope.addOverrideOption('Dash Space', 'spaceLength', [\r\n      1,\r\n      2,\r\n      3,\r\n      4,\r\n      5,\r\n      6,\r\n      7,\r\n      8,\r\n      9,\r\n      10,\r\n      11,\r\n      12,\r\n      13,\r\n      14,\r\n      15,\r\n      16,\r\n      17,\r\n      18,\r\n      19,\r\n      20,\r\n    ]);\r\n    $scope.addOverrideOption('Points', 'points', [true, false]);\r\n    $scope.addOverrideOption('Points Radius', 'pointradius', [1, 2, 3, 4, 5]);\r\n    $scope.addOverrideOption('Stack', 'stack', [true, false, 'A', 'B', 'C', 'D']);\r\n    $scope.addOverrideOption('Color', 'color', ['change']);\r\n    $scope.addOverrideOption('Y-axis', 'yaxis', [1, 2]);\r\n    $scope.addOverrideOption('Z-index', 'zindex', [-3, -2, -1, 0, 1, 2, 3]);\r\n    $scope.addOverrideOption('Transform', 'transform', ['negative-Y']);\r\n    $scope.addOverrideOption('Legend', 'legend', [true, false]);\r\n    $scope.updateCurrentOverrides();\r\n  }\r\n}\r\n\r\nangular.module('grafana.controllers').controller('SeriesOverridesCtrl', SeriesOverridesCtrl);\r\n","\r\nimport coreModule from 'grafana/app/core/core_module';\r\n\r\nexport class ThresholdFormCtrl {\r\n  panelCtrl: any;\r\n  panel: any;\r\n  disabled: boolean;\r\n\r\n  /** @ngInject */\r\n  constructor($scope) {\r\n    this.panel = this.panelCtrl.panel;\r\n\r\n    if (this.panel.alert) {\r\n      this.disabled = true;\r\n    }\r\n\r\n    var unbindDestroy = $scope.$on('$destroy', () => {\r\n      this.panelCtrl.editingThresholds = false;\r\n      this.panelCtrl.render();\r\n      unbindDestroy();\r\n    });\r\n\r\n    this.panelCtrl.editingThresholds = true;\r\n  }\r\n\r\n  addThreshold() {\r\n    this.panel.thresholds.push({\r\n      value: undefined,\r\n      colorMode: 'critical',\r\n      op: 'gt',\r\n      fill: true,\r\n      line: true,\r\n    });\r\n    this.panelCtrl.render();\r\n  }\r\n\r\n  removeThreshold(index) {\r\n    this.panel.thresholds.splice(index, 1);\r\n    this.panelCtrl.render();\r\n  }\r\n\r\n  render() {\r\n    this.panelCtrl.render();\r\n  }\r\n\r\n  onFillColorChange(index) {\r\n    return newColor => {\r\n      this.panel.thresholds[index].fillColor = newColor;\r\n      this.render();\r\n    };\r\n  }\r\n\r\n  onLineColorChange(index) {\r\n    return newColor => {\r\n      this.panel.thresholds[index].lineColor = newColor;\r\n      this.render();\r\n    };\r\n  }\r\n}\r\n\r\nvar template = `\r\n<div class=\"gf-form-group\">\r\n  <h5>Thresholds</h5>\r\n  <p class=\"muted\" ng-show=\"ctrl.disabled\">\r\n    Visual thresholds options <strong>disabled.</strong>\r\n    Visit the Alert tab update your thresholds. <br>\r\n    To re-enable thresholds, the alert rule must be deleted from this panel.\r\n  </p>\r\n  <div ng-class=\"{'thresholds-form-disabled': ctrl.disabled}\">\r\n    <div class=\"gf-form-inline\" ng-repeat=\"threshold in ctrl.panel.thresholds\">\r\n      <div class=\"gf-form\">\r\n        <label class=\"gf-form-label\">T{{$index+1}}</label>\r\n      </div>\r\n\r\n      <div class=\"gf-form\">\r\n        <div class=\"gf-form-select-wrapper\">\r\n          <select class=\"gf-form-input\" ng-model=\"threshold.op\"\r\n                  ng-options=\"f for f in ['gt', 'lt']\" ng-change=\"ctrl.render()\" ng-disabled=\"ctrl.disabled\"></select>\r\n        </div>\r\n        <input type=\"number\" ng-model=\"threshold.value\" class=\"gf-form-input width-8\"\r\n               ng-change=\"ctrl.render()\" placeholder=\"value\" ng-disabled=\"ctrl.disabled\">\r\n      </div>\r\n\r\n      <div class=\"gf-form\">\r\n        <label class=\"gf-form-label\">Color</label>\r\n        <div class=\"gf-form-select-wrapper\">\r\n          <select class=\"gf-form-input\" ng-model=\"threshold.colorMode\"\r\n                  ng-options=\"f for f in ['custom', 'critical', 'warning', 'ok']\" ng-change=\"ctrl.render()\" ng-disabled=\"ctrl.disabled\">\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      <gf-form-switch class=\"gf-form\" label=\"Fill\" checked=\"threshold.fill\"\r\n                      on-change=\"ctrl.render()\" ng-disabled=\"ctrl.disabled\"></gf-form-switch>\r\n\r\n      <div class=\"gf-form\" ng-if=\"threshold.fill && threshold.colorMode === 'custom'\">\r\n        <label class=\"gf-form-label\">Fill color</label>\r\n        <span class=\"gf-form-label\">\r\n          <color-picker color=\"threshold.fillColor\" onChange=\"ctrl.onFillColorChange($index)\"></color-picker>\r\n        </span>\r\n      </div>\r\n\r\n      <gf-form-switch class=\"gf-form\" label=\"Line\" checked=\"threshold.line\"\r\n                      on-change=\"ctrl.render()\" ng-disabled=\"ctrl.disabled\"></gf-form-switch>\r\n\r\n      <div class=\"gf-form\" ng-if=\"threshold.line && threshold.colorMode === 'custom'\">\r\n        <label class=\"gf-form-label\">Line color</label>\r\n        <span class=\"gf-form-label\">\r\n          <color-picker color=\"threshold.lineColor\" onChange=\"ctrl.onLineColorChange($index)\"></color-picker>\r\n        </span>\r\n      </div>\r\n\r\n      <div class=\"gf-form\">\r\n        <label class=\"gf-form-label\">\r\n          <a class=\"pointer\" ng-click=\"ctrl.removeThreshold($index)\" ng-disabled=\"ctrl.disabled\">\r\n            <i class=\"fa fa-trash\"></i>\r\n          </a>\r\n        </label>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"gf-form-button-row\">\r\n      <button class=\"btn btn-inverse\" ng-click=\"ctrl.addThreshold()\" ng-disabled=\"ctrl.disabled\">\r\n        <i class=\"fa fa-plus\"></i>&nbsp;Add Threshold\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n`;\r\n\r\ncoreModule.directive('graphPanelThresholdForm', function() {\r\n  return {\r\n    restrict: 'E',\r\n    template: template,\r\n    controller: ThresholdFormCtrl,\r\n    bindToController: true,\r\n    controllerAs: 'ctrl',\r\n    scope: {\r\n      panelCtrl: '=',\r\n    },\r\n  };\r\n});\r\n","\r\nimport _ from 'lodash';\r\nimport TimeSeries from './vendor/grafana/time_series2';\r\nimport colors from './vendor/grafana/colors';\r\n\r\nexport class DataProcessor {\r\n  constructor(private panel) {}\r\n\r\n  getSeriesList(options) {\r\n    if (!options.dataList || options.dataList.length === 0) {\r\n      return [];\r\n    }\r\n\r\n    // auto detect xaxis mode\r\n    var firstItem;\r\n    if (options.dataList && options.dataList.length > 0) {\r\n      firstItem = options.dataList[0];\r\n      let autoDetectMode = this.getAutoDetectXAxisMode(firstItem);\r\n      if (this.panel.xaxis.mode !== autoDetectMode) {\r\n        this.panel.xaxis.mode = autoDetectMode;\r\n        this.setPanelDefaultsForNewXAxisMode();\r\n      }\r\n    }\r\n\r\n    switch (this.panel.xaxis.mode) {\r\n      case 'series':\r\n      case 'time': {\r\n        return options.dataList.map((item, index) => {\r\n          return this.timeSeriesHandler(item, index, options);\r\n        });\r\n      }\r\n      case 'histogram': {\r\n        let histogramDataList = [\r\n          {\r\n            target: 'count',\r\n            datapoints: _.concat([], _.flatten(_.map(options.dataList, 'datapoints'))),\r\n          },\r\n        ];\r\n        return histogramDataList.map((item, index) => {\r\n          return this.timeSeriesHandler(item, index, options);\r\n        });\r\n      }\r\n      case 'field': {\r\n        return this.customHandler(firstItem);\r\n      }\r\n    }\r\n  }\r\n\r\n  getAutoDetectXAxisMode(firstItem) {\r\n    switch (firstItem.type) {\r\n      case 'docs':\r\n        return 'field';\r\n      case 'table':\r\n        return 'field';\r\n      default: {\r\n        if (this.panel.xaxis.mode === 'series') {\r\n          return 'series';\r\n        }\r\n        if (this.panel.xaxis.mode === 'histogram') {\r\n          return 'histogram';\r\n        }\r\n        return 'time';\r\n      }\r\n    }\r\n  }\r\n\r\n  setPanelDefaultsForNewXAxisMode() {\r\n    switch (this.panel.xaxis.mode) {\r\n      case 'time': {\r\n        this.panel.bars = false;\r\n        this.panel.lines = true;\r\n        this.panel.points = false;\r\n        this.panel.legend.show = true;\r\n        this.panel.tooltip.shared = true;\r\n        this.panel.xaxis.values = [];\r\n        break;\r\n      }\r\n      case 'series': {\r\n        this.panel.bars = true;\r\n        this.panel.lines = false;\r\n        this.panel.points = false;\r\n        this.panel.stack = false;\r\n        this.panel.legend.show = false;\r\n        this.panel.tooltip.shared = false;\r\n        this.panel.xaxis.values = ['total'];\r\n        break;\r\n      }\r\n      case 'histogram': {\r\n        this.panel.bars = true;\r\n        this.panel.lines = false;\r\n        this.panel.points = false;\r\n        this.panel.stack = false;\r\n        this.panel.legend.show = false;\r\n        this.panel.tooltip.shared = false;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  timeSeriesHandler(seriesData, index, options) {\r\n    var datapoints = seriesData.datapoints || [];\r\n    var alias = seriesData.target;\r\n\r\n    var colorIndex = index % colors.length;\r\n    var color = this.panel.aliasColors[alias] || colors[colorIndex];\r\n\r\n    var series = new TimeSeries({\r\n      datapoints: datapoints,\r\n      alias: alias,\r\n      color: color,\r\n      unit: seriesData.unit,\r\n    });\r\n\r\n    if (datapoints && datapoints.length > 0) {\r\n      var last = datapoints[datapoints.length - 1][1];\r\n      var from = options.range.from;\r\n      if (last - from < -10000) {\r\n        series.isOutsideRange = true;\r\n      }\r\n    }\r\n\r\n    return series;\r\n  }\r\n\r\n  customHandler(dataItem) {\r\n    let nameField = this.panel.xaxis.name;\r\n    if (!nameField) {\r\n      throw {\r\n        message: 'No field name specified to use for x-axis, check your axes settings',\r\n      };\r\n    }\r\n    return [];\r\n  }\r\n\r\n  validateXAxisSeriesValue() {\r\n    switch (this.panel.xaxis.mode) {\r\n      case 'series': {\r\n        if (this.panel.xaxis.values.length === 0) {\r\n          this.panel.xaxis.values = ['total'];\r\n          return;\r\n        }\r\n\r\n        var validOptions = this.getXAxisValueOptions({});\r\n        var found = _.find(validOptions, { value: this.panel.xaxis.values[0] });\r\n        if (!found) {\r\n          this.panel.xaxis.values = ['total'];\r\n        }\r\n        return;\r\n      }\r\n    }\r\n  }\r\n\r\n  getDataFieldNames(dataList, onlyNumbers) {\r\n    if (dataList.length === 0) {\r\n      return [];\r\n    }\r\n\r\n    let fields = [];\r\n    var firstItem = dataList[0];\r\n    let fieldParts = [];\r\n\r\n    function getPropertiesRecursive(obj) {\r\n      _.forEach(obj, (value, key) => {\r\n        if (_.isObject(value)) {\r\n          fieldParts.push(key);\r\n          getPropertiesRecursive(value);\r\n        } else {\r\n          if (!onlyNumbers || _.isNumber(value)) {\r\n            let field = fieldParts.concat(key).join('.');\r\n            fields.push(field);\r\n          }\r\n        }\r\n      });\r\n      fieldParts.pop();\r\n    }\r\n\r\n    if (firstItem.type === 'docs') {\r\n      if (firstItem.datapoints.length === 0) {\r\n        return [];\r\n      }\r\n      getPropertiesRecursive(firstItem.datapoints[0]);\r\n    }\r\n\r\n    return fields;\r\n  }\r\n\r\n  getXAxisValueOptions(options) {\r\n    switch (this.panel.xaxis.mode) {\r\n      case 'series': {\r\n        return [\r\n          { text: 'Avg', value: 'avg' },\r\n          { text: 'Min', value: 'min' },\r\n          { text: 'Max', value: 'max' },\r\n          { text: 'Total', value: 'total' },\r\n          { text: 'Count', value: 'count' },\r\n        ];\r\n      }\r\n    }\r\n\r\n    return [];\r\n  }\r\n\r\n  pluckDeep(obj: any, property: string) {\r\n    let propertyParts = property.split('.');\r\n    let value = obj;\r\n    for (let i = 0; i < propertyParts.length; ++i) {\r\n      if (value[propertyParts[i]]) {\r\n        value = value[propertyParts[i]];\r\n      } else {\r\n        return undefined;\r\n      }\r\n    }\r\n    return value;\r\n  }\r\n}\r\n","\r\nimport kbn from 'grafana/app/core/utils/kbn';\r\n\r\nexport class AxesEditorCtrl {\r\n  panel: any;\r\n  panelCtrl: any;\r\n  unitFormats: any;\r\n  logScales: any;\r\n  xAxisModes: any;\r\n  xAxisStatOptions: any;\r\n  xNameSegment: any;\r\n\r\n  /** @ngInject **/\r\n  constructor(private $scope, private $q) {\r\n    this.panelCtrl = $scope.ctrl;\r\n    this.panel = this.panelCtrl.panel;\r\n    this.$scope.ctrl = this;\r\n\r\n    this.unitFormats = kbn.getUnitFormats();\r\n\r\n    this.logScales = {\r\n      linear: 1,\r\n      'log (base 2)': 2,\r\n      'log (base 10)': 10,\r\n      'log (base 32)': 32,\r\n      'log (base 1024)': 1024,\r\n    };\r\n\r\n    this.xAxisModes = {\r\n      Time: 'time',\r\n      Series: 'series',\r\n      Histogram: 'histogram',\r\n      // 'Data field': 'field',\r\n    };\r\n\r\n    this.xAxisStatOptions = [\r\n      { text: 'Avg', value: 'avg' },\r\n      { text: 'Min', value: 'min' },\r\n      { text: 'Max', value: 'max' },\r\n      { text: 'Total', value: 'total' },\r\n      { text: 'Count', value: 'count' },\r\n      { text: 'Current', value: 'current' },\r\n    ];\r\n\r\n    if (this.panel.xaxis.mode === 'custom') {\r\n      if (!this.panel.xaxis.name) {\r\n        this.panel.xaxis.name = 'specify field';\r\n      }\r\n    }\r\n  }\r\n\r\n  setUnitFormat(axis, subItem) {\r\n    axis.format = subItem.value;\r\n    this.panelCtrl.render();\r\n  }\r\n\r\n  render() {\r\n    this.panelCtrl.render();\r\n  }\r\n\r\n  xAxisModeChanged() {\r\n    this.panelCtrl.processor.setPanelDefaultsForNewXAxisMode();\r\n    this.panelCtrl.onDataReceived(this.panelCtrl.dataList);\r\n  }\r\n\r\n  xAxisValueChanged() {\r\n    this.panelCtrl.onDataReceived(this.panelCtrl.dataList);\r\n  }\r\n\r\n  getDataFieldNames(onlyNumbers) {\r\n    var props = this.panelCtrl.processor.getDataFieldNames(this.panelCtrl.dataList, onlyNumbers);\r\n    var items = props.map(prop => {\r\n      return { text: prop, value: prop };\r\n    });\r\n\r\n    return this.$q.when(items);\r\n  }\r\n}\r\n\r\n/** @ngInject **/\r\nexport function axesEditorComponent() {\r\n  'use strict';\r\n  return {\r\n    restrict: 'E',\r\n    scope: true,\r\n    templateUrl: '/public/plugins/graph-panel/partials/axes_editor.html',\r\n    controller: AxesEditorCtrl,\r\n  };\r\n}\r\n","import './graph';\r\nimport './legend';\r\nimport './series_overrides_ctrl';\r\nimport './thresholds_form';\r\n\r\nimport template from './template';\r\nimport _ from 'lodash';\r\nimport config from 'grafana/app/core/config';\r\nimport {alertTab, MetricsPanelCtrl} from 'grafana/app/plugins/sdk';\r\nimport {DataProcessor} from './data_processor';\r\nimport {axesEditorComponent} from './axes_editor';\r\n\r\nclass GraphCtrl extends MetricsPanelCtrl {\r\n    static template = template;\r\n    hiddenSeries: any = {};\r\n    seriesList: any = [];\r\n    dataList: any = [];\r\n    annotations: any = [];\r\n    alertState: any;\r\n\r\n    _panelPath: any;\r\n\r\n    annotationsPromise: any;\r\n    dataWarning: any;\r\n    colors: any = [];\r\n    subTabIndex: number;\r\n    processor: DataProcessor;\r\n\r\n    panelDefaults = {\r\n        // datasource name, null = default datasource\r\n        datasource: null,\r\n        // sets client side (flot) or native graphite png renderer (png)\r\n        renderer: 'flot',\r\n        yaxes: [\r\n            {\r\n                label: null,\r\n                show: true,\r\n                logBase: 1,\r\n                min: null,\r\n                max: null,\r\n                format: 'short',\r\n            },\r\n            {\r\n                label: null,\r\n                show: true,\r\n                logBase: 1,\r\n                min: null,\r\n                max: null,\r\n                format: 'short',\r\n            },\r\n        ],\r\n        xaxis: {\r\n            show: true,\r\n            mode: 'time',\r\n            name: null,\r\n            values: [],\r\n            buckets: null,\r\n        },\r\n        // show/hide lines\r\n        lines: true,\r\n        // fill factor\r\n        fill: 1,\r\n        // line width in pixels\r\n        linewidth: 1,\r\n        // show/hide dashed line\r\n        dashes: false,\r\n        // length of a dash\r\n        dashLength: 10,\r\n        // length of space between two dashes\r\n        spaceLength: 10,\r\n        // show hide points\r\n        points: false,\r\n        // point radius in pixels\r\n        pointradius: 5,\r\n        // show hide bars\r\n        bars: false,\r\n        // enable/disable stacking\r\n        stack: false,\r\n        // stack percentage mode\r\n        percentage: false,\r\n        // legend options\r\n        legend: {\r\n            show: true, // disable/enable legend\r\n            values: false, // disable/enable legend values\r\n            min: false,\r\n            max: false,\r\n            current: false,\r\n            total: false,\r\n            avg: false,\r\n        },\r\n        // how null points should be handled\r\n        nullPointMode: 'null',\r\n        // staircase line mode\r\n        steppedLine: false,\r\n        // tooltip options\r\n        tooltip: {\r\n            value_type: 'individual',\r\n            shared: true,\r\n            sort: 0,\r\n        },\r\n        // time overrides\r\n        timeFrom: null,\r\n        timeShift: null,\r\n        // metric queries\r\n        targets: [{}],\r\n        // series color overrides\r\n        aliasColors: {},\r\n        // other style overrides\r\n        seriesOverrides: [],\r\n        thresholds: [],\r\n    };\r\n\r\n    /** @ngInject */\r\n    constructor($scope, $injector, private annotationsSrv) {\r\n        super($scope, $injector);\r\n        _.defaults(this.panel, this.panelDefaults);\r\n        _.defaults(this.panel.tooltip, this.panelDefaults.tooltip);\r\n        _.defaults(this.panel.legend, this.panelDefaults.legend);\r\n        _.defaults(this.panel.xaxis, this.panelDefaults.xaxis);\r\n\r\n        this.processor = new DataProcessor(this.panel);\r\n\r\n        this.events.on('render', this.onRender.bind(this));\r\n        this.events.on('data-received', this.onDataReceived.bind(this));\r\n        this.events.on('data-error', this.onDataError.bind(this));\r\n        this.events.on('data-snapshot-load', this.onDataSnapshotLoad.bind(this));\r\n        this.events.on('init-edit-mode', this.onInitEditMode.bind(this));\r\n        this.events.on('init-panel-actions', this.onInitPanelActions.bind(this));\r\n    }\r\n\r\n    onInitEditMode() {\r\n        var partialPath = this.panelPath + 'partials';\r\n        this.addEditorTab('Axes', axesEditorComponent, 2);\r\n        this.addEditorTab('Legend', `${partialPath}/tab_legend.html`, 3);\r\n        this.addEditorTab('Display', `${partialPath}/tab_display.html`, 4);\r\n        if (config.alertingEnabled) {\r\n            this.addEditorTab('Alert', alertTab, 5);\r\n        }\r\n\r\n        this.subTabIndex = 0;\r\n    }\r\n\r\n    onInitPanelActions(actions) {\r\n        actions.push({ text: 'Export CSV', click: 'ctrl.exportCsv()' });\r\n        actions.push({ text: 'Toggle legend', click: 'ctrl.toggleLegend()' });\r\n    }\r\n\r\n    issueQueries(datasource) {\r\n        this.annotationsPromise = this.annotationsSrv.getAnnotations({\r\n            dashboard: this.dashboard,\r\n            panel: this.panel,\r\n            range: this.range,\r\n        });\r\n        return super.issueQueries(datasource);\r\n    }\r\n\r\n    zoomOut(evt) {\r\n        this.publishAppEvent('zoom-out', 2);\r\n    }\r\n\r\n    onDataSnapshotLoad(snapshotData) {\r\n        this.annotationsPromise = this.annotationsSrv.getAnnotations({\r\n            dashboard: this.dashboard,\r\n            panel: this.panel,\r\n            range: this.range,\r\n        });\r\n        this.onDataReceived(snapshotData);\r\n    }\r\n\r\n    onDataError(err) {\r\n        this.seriesList = [];\r\n        this.annotations = [];\r\n        this.render([]);\r\n    }\r\n\r\n    onDataReceived(dataList) {\r\n        this.dataList = dataList;\r\n        this.seriesList = this.processor.getSeriesList({\r\n            dataList: dataList,\r\n            range: this.range,\r\n        });\r\n\r\n        this.dataWarning = null;\r\n        const datapointsCount = this.seriesList.reduce((prev, series) => {\r\n            return prev + series.datapoints.length;\r\n        }, 0);\r\n\r\n        if (datapointsCount === 0) {\r\n            this.dataWarning = {\r\n                title: 'No data points',\r\n                tip: 'No datapoints returned from data query',\r\n            };\r\n        } else {\r\n            for (let series of this.seriesList) {\r\n                if (series.isOutsideRange) {\r\n                    this.dataWarning = {\r\n                        title: 'Data points outside time range',\r\n                        tip: 'Can be caused by timezone mismatch or missing time filter in query',\r\n                    };\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        this.annotationsPromise.then(\r\n            result => {\r\n                this.loading = false;\r\n                this.alertState = result.alertState;\r\n                this.annotations = result.annotations;\r\n                this.render(this.seriesList);\r\n            },\r\n            () => {\r\n                this.loading = false;\r\n                this.render(this.seriesList);\r\n            }\r\n        );\r\n    }\r\n\r\n    onRender() {\r\n        if (!this.seriesList) {\r\n            return;\r\n        }\r\n\r\n        for (let series of this.seriesList) {\r\n            series.applySeriesOverrides(this.panel.seriesOverrides);\r\n\r\n            if (series.unit) {\r\n                this.panel.yaxes[series.yaxis - 1].format = series.unit;\r\n            }\r\n        }\r\n    }\r\n\r\n    changeSeriesColor(series, color) {\r\n        series.color = color;\r\n        this.panel.aliasColors[series.alias] = series.color;\r\n        this.render();\r\n    }\r\n\r\n    toggleSeries(serie, event) {\r\n        if (event.ctrlKey || event.metaKey || event.shiftKey) {\r\n            if (this.hiddenSeries[serie.alias]) {\r\n                delete this.hiddenSeries[serie.alias];\r\n            } else {\r\n                this.hiddenSeries[serie.alias] = true;\r\n            }\r\n        } else {\r\n            this.toggleSeriesExclusiveMode(serie);\r\n        }\r\n        this.render();\r\n    }\r\n\r\n    toggleSeriesExclusiveMode(serie) {\r\n        var hidden = this.hiddenSeries;\r\n\r\n        if (hidden[serie.alias]) {\r\n            delete hidden[serie.alias];\r\n        }\r\n\r\n        // check if every other series is hidden\r\n        var alreadyExclusive = _.every(this.seriesList, value => {\r\n            if (value.alias === serie.alias) {\r\n                return true;\r\n            }\r\n\r\n            return hidden[value.alias];\r\n        });\r\n\r\n        if (alreadyExclusive) {\r\n            // remove all hidden series\r\n            _.each(this.seriesList, value => {\r\n                delete this.hiddenSeries[value.alias];\r\n            });\r\n        } else {\r\n            // hide all but this serie\r\n            _.each(this.seriesList, value => {\r\n                if (value.alias === serie.alias) {\r\n                    return;\r\n                }\r\n\r\n                this.hiddenSeries[value.alias] = true;\r\n            });\r\n        }\r\n    }\r\n\r\n    toggleAxis(info) {\r\n        var override = _.find(this.panel.seriesOverrides, { alias: info.alias });\r\n        if (!override) {\r\n            override = { alias: info.alias };\r\n            this.panel.seriesOverrides.push(override);\r\n        }\r\n        //info.yaxis = override.yaxis = info.yaxis === 2 ? 1 : 2;\r\n        this.render();\r\n    }\r\n\r\n    addSeriesOverride(override) {\r\n        this.panel.seriesOverrides.push(override || {});\r\n    }\r\n\r\n    removeSeriesOverride(override) {\r\n        this.panel.seriesOverrides = _.without(this.panel.seriesOverrides, override);\r\n        this.render();\r\n    }\r\n\r\n    toggleLegend() {\r\n        this.panel.legend.show = !this.panel.legend.show;\r\n        this.refresh();\r\n    }\r\n\r\n    legendValuesOptionChanged() {\r\n        var legend = this.panel.legend;\r\n        legend.values = legend.min || legend.max || legend.avg || legend.current || legend.total;\r\n        this.render();\r\n    }\r\n\r\n    exportCsv() {\r\n        var scope = this.$scope.$new(true);\r\n        scope.seriesList = this.seriesList;\r\n        this.publishAppEvent('show-modal', {\r\n            templateHtml: '<export-data-modal data=\"seriesList\"></export-data-modal>',\r\n            scope,\r\n            modalClass: 'modal--narrow',\r\n        });\r\n    }\r\n\r\n    get panelPath() {\r\n        this.pluginId = \"graph-panel\";\r\n        if (this._panelPath === undefined) {\r\n            this._panelPath = '/public/plugins/' + this.pluginId + '/';\r\n        }\r\n        return this._panelPath;\r\n    }\r\n}\r\n\r\nexport {GraphCtrl, GraphCtrl as PanelCtrl};\r\n\r\n\r\n"],"sourceRoot":""}